(function(){"use strict";function Xn(){return Xn=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Xn.apply(this,arguments)}var au={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function hr(r){return typeof r=="number"}function Nr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function ou(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function su(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function fu(r){return r&&r.constructor.prototype.isUnit===!0||!1}function it(r){return typeof r=="string"}var or=Array.isArray;function Fr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Se(r){return Array.isArray(r)||Fr(r)}function Gn(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function be(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function cu(r){return r&&r.constructor.prototype.isRange===!0||!1}function un(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Is(r){return typeof r=="boolean"}function Ts(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function qs(r){return r&&r.constructor.prototype.isHelp===!0||!1}function $s(r){return typeof r=="function"}function Ps(r){return r instanceof Date}function Rs(r){return r instanceof RegExp}function Ls(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!ou(r)&&!su(r))}function Us(r){return r===null}function hu(r){return r===void 0}function js(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zs(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function ks(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ws(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ys(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Js(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ks(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Hs(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Xs(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Gs(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vs(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qs(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function rf(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function tf(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function ef(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function nf(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function uf(r){return r&&r.constructor.prototype.isChain===!0||!1}function ut(r){var t=typeof r;return t==="object"?r===null?"null":Nr(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":t}function nr(r){var t=typeof r;if(t==="number"||t==="string"||t==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(e){return nr(e)});if(r instanceof Date)return new Date(r.valueOf());if(Nr(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return af(r,nr)}function af(r,t){var e={};for(var i in r)Me(r,i)&&(e[i]=t(r[i]));return e}function of(r,t){for(var e in t)Me(t,e)&&(r[e]=t[e]);return r}function an(r,t){var e,i,n;if(Array.isArray(r)){if(!Array.isArray(t)||r.length!==t.length)return!1;for(i=0,n=r.length;i<n;i++)if(!an(r[i],t[i]))return!1;return!0}else{if(typeof r=="function")return r===t;if(r instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(e in r)if(!(e in t)||!an(r[e],t[e]))return!1;for(e in t)if(!(e in r))return!1;return!0}else return r===t}}function Me(r,t){return r&&Object.hasOwnProperty.call(r,t)}function sf(r,t){for(var e={},i=0;i<t.length;i++){var n=t[i],u=r[n];u!==void 0&&(e[n]=u)}return e}var ff=["Matrix","Array"],cf=["number","BigNumber","Fraction"],Rr=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(au)};Xn(Rr,au,{MATRIX_OPTIONS:ff,NUMBER_OPTIONS:cf});function at(r,t){var e=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=hf(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,a=!1,f;return{s:function(){e=e.call(r)},n:function(){var h=e.next();return u=h.done,h},e:function(h){a=!0,f=h},f:function(){try{!u&&e.return!=null&&e.return()}finally{if(a)throw f}}}}function hf(r,t){if(!!r){if(typeof r=="string")return lu(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return lu(r,t)}}function lu(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function Gt(r){return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(r)}function pu(){return!0}function Gr(){return!1}function Vt(){}var vu="Argument is not a typed-function.";function du(){function r(w){return Gt(w)==="object"&&w!==null&&w.constructor===Object}var t=[{name:"number",test:function(E){return typeof E=="number"}},{name:"string",test:function(E){return typeof E=="string"}},{name:"boolean",test:function(E){return typeof E=="boolean"}},{name:"Function",test:function(E){return typeof E=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(E){return E instanceof Date}},{name:"RegExp",test:function(E){return E instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(E){return E===null}},{name:"undefined",test:function(E){return E===void 0}}],e={name:"any",test:pu,isAny:!0},i,n,u=0,a={createCount:0};function f(w){var E=i.get(w);if(E)return E;var M='Unknown type "'+w+'"',x=w.toLowerCase(),q,P=at(n),L;try{for(P.s();!(L=P.n()).done;)if(q=L.value,q.toLowerCase()===x){M+='. Did you mean "'+q+'" ?';break}}catch(O){P.e(O)}finally{P.f()}throw new TypeError(M)}function o(w){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",M=E?f(E).index:n.length,x=[],q=0;q<w.length;++q){if(!w[q]||typeof w[q].name!="string"||typeof w[q].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var P=w[q].name;if(i.has(P))throw new TypeError('Duplicate type name "'+P+'"');x.push(P),i.set(P,{name:P,test:w[q].test,isAny:w[q].isAny,index:M+q,conversionsTo:[]})}var L=n.slice(M);n=n.slice(0,M).concat(x).concat(L);for(var O=M+x.length;O<n.length;++O)i.get(n[O]).index=O}function h(){i=new Map,n=[],u=0,o([e],!1)}h(),o(t);function c(){var w,E=at(n),M;try{for(E.s();!(M=E.n()).done;)w=M.value,i.get(w).conversionsTo=[]}catch(x){E.e(x)}finally{E.f()}u=0}function s(w){var E=n.filter(function(M){var x=i.get(M);return!x.isAny&&x.test(w)});return E.length?E:["any"]}function l(w){return w&&typeof w=="function"&&"_typedFunctionData"in w}function v(w,E,M){if(!l(w))throw new TypeError(vu);var x=M&&M.exact,q=Array.isArray(E)?E.join(","):E,P=_(q),L=g(P);if(!x||L in w.signatures){var O=w._typedFunctionData.signatureMap.get(L);if(O)return O}var R=P.length,Y;if(x){Y=[];var X;for(X in w.signatures)Y.push(w._typedFunctionData.signatureMap.get(X))}else Y=w._typedFunctionData.signatures;for(var U=0;U<R;++U){var qr=P[U],Mr=[],Or=void 0,wr=at(Y),Wr;try{for(wr.s();!(Wr=wr.n()).done;){Or=Wr.value;var Er=A(Or.params,U);if(!(!Er||qr.restParam&&!Er.restParam)){if(!Er.hasAny){var nt=function(){var Yr=m(Er);if(qr.types.some(function(Xt){return!Yr.has(Xt.name)}))return"continue"}();if(nt==="continue")continue}Mr.push(Or)}}}catch(Yr){wr.e(Yr)}finally{wr.f()}if(Y=Mr,Y.length===0)break}var $r,Pr=at(Y),Ht;try{for(Pr.s();!(Ht=Pr.n()).done;)if($r=Ht.value,$r.params.length<=R)return $r}catch(Yr){Pr.e(Yr)}finally{Pr.f()}throw new TypeError("Signature not found (signature: "+(w.name||"unnamed")+"("+g(P,", ")+"))")}function d(w,E,M){return v(w,E,M).implementation}function p(w,E){var M=f(E);if(M.test(w))return w;var x=M.conversionsTo;if(x.length===0)throw new Error("There are no conversions to "+E+" defined.");for(var q=0;q<x.length;q++){var P=f(x[q].from);if(P.test(w))return x[q].convert(w)}throw new Error("Cannot convert "+w+" to "+E)}function g(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return w.map(function(M){return M.name}).join(E)}function D(w){var E=w.indexOf("...")===0,M=E?w.length>3?w.slice(3):"any":w,x=M.split("|").map(function(O){return f(O.trim())}),q=!1,P=E?"...":"",L=x.map(function(O){return q=O.isAny||q,P+=O.name+"|",{name:O.name,typeIndex:O.index,test:O.test,isAny:O.isAny,conversion:null,conversionIndex:-1}});return{types:L,name:P.slice(0,-1),hasAny:q,hasConversion:!1,restParam:E}}function y(w){var E=w.types.map(function(L){return L.name}),M=tr(E),x=w.hasAny,q=w.name,P=M.map(function(L){var O=f(L.from);return x=O.isAny||x,q+="|"+L.from,{name:L.from,typeIndex:O.index,test:O.test,isAny:O.isAny,conversion:L,conversionIndex:L.index}});return{types:w.types.concat(P),name:q,hasAny:x,hasConversion:P.length>0,restParam:w.restParam}}function m(w){return w.typeSet||(w.typeSet=new Set,w.types.forEach(function(E){return w.typeSet.add(E.name)})),w.typeSet}function _(w){var E=[];if(typeof w!="string")throw new TypeError("Signatures must be strings");var M=w.trim();if(M==="")return E;for(var x=M.split(","),q=0;q<x.length;++q){var P=D(x[q].trim());if(P.restParam&&q!==x.length-1)throw new SyntaxError('Unexpected rest parameter "'+x[q]+'": only allowed for the last parameter');if(P.types.length===0)return null;E.push(P)}return E}function F(w){var E=Fe(w);return E?E.restParam:!1}function S(w){if(!w||w.types.length===0)return pu;if(w.types.length===1)return f(w.types[0].name).test;if(w.types.length===2){var E=f(w.types[0].name).test,M=f(w.types[1].name).test;return function(P){return E(P)||M(P)}}else{var x=w.types.map(function(q){return f(q.name).test});return function(P){for(var L=0;L<x.length;L++)if(x[L](P))return!0;return!1}}}function b(w){var E,M,x;if(F(w)){E=Fs(w).map(S);var q=E.length,P=S(Fe(w)),L=function(R){for(var Y=q;Y<R.length;Y++)if(!P(R[Y]))return!1;return!0};return function(R){for(var Y=0;Y<E.length;Y++)if(!E[Y](R[Y]))return!1;return L(R)&&R.length>=q+1}}else return w.length===0?function(R){return R.length===0}:w.length===1?(M=S(w[0]),function(R){return M(R[0])&&R.length===1}):w.length===2?(M=S(w[0]),x=S(w[1]),function(R){return M(R[0])&&x(R[1])&&R.length===2}):(E=w.map(S),function(R){for(var Y=0;Y<E.length;Y++)if(!E[Y](R[Y]))return!1;return R.length===E.length})}function A(w,E){return E<w.length?w[E]:F(w)?Fe(w):null}function C(w,E){var M=A(w,E);return M?m(M):new Set}function B(w){return w.conversion===null||w.conversion===void 0}function N(w,E){var M=new Set;return w.forEach(function(x){var q=C(x.params,E),P,L=at(q),O;try{for(L.s();!(O=L.n()).done;)P=O.value,M.add(P)}catch(R){L.e(R)}finally{L.f()}}),M.has("any")?["any"]:Array.from(M)}function $(w,E,M){var x,q,P=w||"unnamed",L=M,O,R=function(){var wr=[];if(L.forEach(function(Er){var nt=A(Er.params,O),$r=S(nt);(O<Er.params.length||F(Er.params))&&$r(E[O])&&wr.push(Er)}),wr.length===0){if(q=N(L,O),q.length>0){var Wr=s(E[O]);return x=new TypeError("Unexpected type of argument in function "+P+" (expected: "+q.join(" or ")+", actual: "+Wr.join(" | ")+", index: "+O+")"),x.data={category:"wrongType",fn:P,index:O,actual:Wr,expected:q},{v:x}}}else L=wr};for(O=0;O<E.length;O++){var Y=R();if(Gt(Y)==="object")return Y.v}var X=L.map(function(Or){return F(Or.params)?1/0:Or.params.length});if(E.length<Math.min.apply(null,X))return q=N(L,O),x=new TypeError("Too few arguments in function "+P+" (expected: "+q.join(" or ")+", index: "+E.length+")"),x.data={category:"tooFewArgs",fn:P,index:E.length,expected:q},x;var U=Math.max.apply(null,X);if(E.length>U)return x=new TypeError("Too many arguments in function "+P+" (expected: "+U+", actual: "+E.length+")"),x.data={category:"tooManyArgs",fn:P,index:E.length,expectedLength:U},x;for(var qr=[],Mr=0;Mr<E.length;++Mr)qr.push(s(E[Mr]).join("|"));return x=new TypeError('Arguments of type "'+qr.join(", ")+'" do not match any of the defined signatures of function '+P+"."),x.data={category:"mismatch",actual:qr},x}function j(w){for(var E=n.length+1,M=0;M<w.types.length;M++)B(w.types[M])&&(E=Math.min(E,w.types[M].typeIndex));return E}function I(w){for(var E=u+1,M=0;M<w.types.length;M++)B(w.types[M])||(E=Math.min(E,w.types[M].conversionIndex));return E}function Z(w,E){if(w.hasAny){if(!E.hasAny)return 1}else if(E.hasAny)return-1;if(w.restParam){if(!E.restParam)return 1}else if(E.restParam)return-1;if(w.hasConversion){if(!E.hasConversion)return 1}else if(E.hasConversion)return-1;var M=j(w)-j(E);if(M<0)return-1;if(M>0)return 1;var x=I(w)-I(E);return x<0?-1:x>0?1:0}function T(w,E){var M=w.params,x=E.params,q=Fe(M),P=Fe(x),L=F(M),O=F(x);if(L&&q.hasAny){if(!O||!P.hasAny)return 1}else if(O&&P.hasAny)return-1;var R=0,Y=0,X,U=at(M),qr;try{for(U.s();!(qr=U.n()).done;)X=qr.value,X.hasAny&&++R,X.hasConversion&&++Y}catch(tn){U.e(tn)}finally{U.f()}var Mr=0,Or=0,wr=at(x),Wr;try{for(wr.s();!(Wr=wr.n()).done;)X=Wr.value,X.hasAny&&++Mr,X.hasConversion&&++Or}catch(tn){wr.e(tn)}finally{wr.f()}if(R!==Mr)return R-Mr;if(L&&q.hasConversion){if(!O||!P.hasConversion)return 1}else if(O&&P.hasConversion)return-1;if(Y!==Or)return Y-Or;if(L){if(!O)return 1}else if(O)return-1;var Er=(M.length-x.length)*(L?-1:1);if(Er!==0)return Er;for(var nt=[],$r=0,Pr=0;Pr<M.length;++Pr){var Ht=Z(M[Pr],x[Pr]);nt.push(Ht),$r+=Ht}if($r!==0)return $r;for(var Yr,Xt=0,Jn=nt;Xt<Jn.length;Xt++)if(Yr=Jn[Xt],Yr!==0)return Yr;return 0}function tr(w){if(w.length===0)return[];var E=w.map(f);w.length>1&&E.sort(function(R,Y){return R.index-Y.index});var M=E[0].conversionsTo;if(w.length===1)return M;M=M.concat([]);for(var x=new Set(w),q=1;q<E.length;++q){var P=void 0,L=at(E[q].conversionsTo),O;try{for(L.s();!(O=L.n()).done;)P=O.value,x.has(P.from)||(M.push(P),x.add(P.from))}catch(R){L.e(R)}finally{L.f()}}return M}function er(w,E){var M=E;if(w.some(function(O){return O.hasConversion})){var x=F(w),q=w.map(V);M=function(){for(var R=[],Y=x?arguments.length-1:arguments.length,X=0;X<Y;X++)R[X]=q[X](arguments[X]);return x&&(R[Y]=arguments[Y].map(q[Y])),E.apply(this,R)}}var P=M;if(F(w)){var L=w.length-1;P=function(){return M.apply(this,uu(arguments,0,L).concat([uu(arguments,L)]))}}return P}function V(w){var E,M,x,q,P=[],L=[];switch(w.types.forEach(function(O){O.conversion&&(P.push(f(O.conversion.from).test),L.push(O.conversion.convert))}),L.length){case 0:return function(R){return R};case 1:return E=P[0],x=L[0],function(R){return E(R)?x(R):R};case 2:return E=P[0],M=P[1],x=L[0],q=L[1],function(R){return E(R)?x(R):M(R)?q(R):R};default:return function(R){for(var Y=0;Y<L.length;Y++)if(P[Y](R))return L[Y](R);return R}}}function _r(w){function E(M,x,q){if(x<M.length){var P=M[x],L=[];if(P.restParam){var O=P.types.filter(B);O.length<P.types.length&&L.push({types:O,name:"..."+O.map(function(R){return R.name}).join("|"),hasAny:O.some(function(R){return R.isAny}),hasConversion:!1,restParam:!0}),L.push(P)}else L=P.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return iv(L,function(R){return E(M,x+1,q.concat([R]))})}else return[q]}return E(w,0,[])}function rn(w,E){for(var M=Math.max(w.length,E.length),x=0;x<M;x++){var q=C(w,x),P=C(E,x),L=!1,O=void 0,R=at(P),Y;try{for(R.s();!(Y=R.n()).done;)if(O=Y.value,q.has(O)){L=!0;break}}catch(Or){R.e(Or)}finally{R.f()}if(!L)return!1}var X=w.length,U=E.length,qr=F(w),Mr=F(E);return qr?Mr?X===U:U>=X:Mr?X>=U:X===U}function Wn(w){return w.map(function(E){return Ms(E)?Ss(E.referToSelf.callback):bs(E)?Cs(E.referTo.references,E.referTo.callback):E})}function Mt(w,E,M){var x=[],q,P=at(w),L;try{for(P.s();!(L=P.n()).done;){q=L.value;var O=M[q];if(typeof O!="number")throw new TypeError('No definition for referenced signature "'+q+'"');if(O=E[O],typeof O!="function")return!1;x.push(O)}}catch(R){P.e(R)}finally{P.f()}return x}function Yn(w,E,M){for(var x=Wn(w),q=new Array(x.length).fill(!1),P=!0;P;){P=!1;for(var L=!0,O=0;O<x.length;++O)if(!q[O]){var R=x[O];if(Ms(R))x[O]=R.referToSelf.callback(M),x[O].referToSelf=R.referToSelf,q[O]=!0,L=!1;else if(bs(R)){var Y=Mt(R.referTo.references,x,E);Y?(x[O]=R.referTo.callback.apply(this,Y),x[O].referTo=R.referTo,q[O]=!0,L=!1):P=!0}}if(L&&P)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return x}function iu(w){var E=/\bthis(\(|\.signatures\b)/;Object.keys(w).forEach(function(M){var x=w[M];if(E.test(x.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ev(w,E){if(a.createCount++,Object.keys(E).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&iu(E);var M=[],x=[],q={},P=[],L,O=function(){if(!Object.prototype.hasOwnProperty.call(E,L))return"continue";var Br=_(L);if(!Br)return"continue";M.forEach(function(Ce){if(rn(Ce,Br))throw new TypeError('Conflicting signatures "'+g(Ce)+'" and "'+g(Br)+'".')}),M.push(Br);var xs=x.length;x.push(E[L]);var Tv=Br.map(y),Kn=void 0,Hn=at(_r(Tv)),zs;try{for(Hn.s();!(zs=Hn.n()).done;){Kn=zs.value;var Os=g(Kn);P.push({params:Kn,name:Os,fn:xs}),Kn.every(function(Ce){return!Ce.hasConversion})&&(q[Os]=xs)}}catch(Ce){Hn.e(Ce)}finally{Hn.f()}};for(L in E)var R=O();P.sort(T);var Y=Yn(x,q,nn),X;for(X in q)Object.prototype.hasOwnProperty.call(q,X)&&(q[X]=Y[q[X]]);for(var U=[],qr=new Map,Mr=0,Or=P;Mr<Or.length;Mr++)X=Or[Mr],qr.has(X.name)||(X.fn=Y[X.fn],U.push(X),qr.set(X.name,X));for(var wr=U[0]&&U[0].params.length<=2&&!F(U[0].params),Wr=U[1]&&U[1].params.length<=2&&!F(U[1].params),Er=U[2]&&U[2].params.length<=2&&!F(U[2].params),nt=U[3]&&U[3].params.length<=2&&!F(U[3].params),$r=U[4]&&U[4].params.length<=2&&!F(U[4].params),Pr=U[5]&&U[5].params.length<=2&&!F(U[5].params),Ht=wr&&Wr&&Er&&nt&&$r&&Pr,Yr=0;Yr<U.length;++Yr)U[Yr].test=b(U[Yr].params);for(var Xt=wr?S(U[0].params[0]):Gr,Jn=Wr?S(U[1].params[0]):Gr,tn=Er?S(U[2].params[0]):Gr,fv=nt?S(U[3].params[0]):Gr,cv=$r?S(U[4].params[0]):Gr,hv=Pr?S(U[5].params[0]):Gr,lv=wr?S(U[0].params[1]):Gr,pv=Wr?S(U[1].params[1]):Gr,vv=Er?S(U[2].params[1]):Gr,dv=nt?S(U[3].params[1]):Gr,gv=$r?S(U[4].params[1]):Gr,Dv=Pr?S(U[5].params[1]):Gr,en=0;en<U.length;++en)U[en].implementation=er(U[en].params,U[en].fn);var mv=wr?U[0].implementation:Vt,yv=Wr?U[1].implementation:Vt,_v=Er?U[2].implementation:Vt,wv=nt?U[3].implementation:Vt,Av=$r?U[4].implementation:Vt,Ev=Pr?U[5].implementation:Vt,Fv=wr?U[0].params.length:-1,Cv=Wr?U[1].params.length:-1,Sv=Er?U[2].params.length:-1,bv=nt?U[3].params.length:-1,Mv=$r?U[4].params.length:-1,Bv=Pr?U[5].params.length:-1,Nv=Ht?6:0,xv=U.length,zv=U.map(function(Xr){return Xr.test}),Ov=U.map(function(Xr){return Xr.implementation}),Iv=function(){for(var Br=Nv;Br<xv;Br++)if(zv[Br](arguments))return Ov[Br].apply(this,arguments);return a.onMismatch(w,arguments,U)};function nn(Xr,Br){return arguments.length===Fv&&Xt(Xr)&&lv(Br)?mv.apply(this,arguments):arguments.length===Cv&&Jn(Xr)&&pv(Br)?yv.apply(this,arguments):arguments.length===Sv&&tn(Xr)&&vv(Br)?_v.apply(this,arguments):arguments.length===bv&&fv(Xr)&&dv(Br)?wv.apply(this,arguments):arguments.length===Mv&&cv(Xr)&&gv(Br)?Av.apply(this,arguments):arguments.length===Bv&&hv(Xr)&&Dv(Br)?Ev.apply(this,arguments):Iv.apply(this,arguments)}try{Object.defineProperty(nn,"name",{value:w})}catch{}return nn.signatures=q,nn._typedFunctionData={signatures:U,signatureMap:qr},nn}function Es(w,E,M){throw $(w,E,M)}function Fs(w){return uu(w,0,w.length-1)}function Fe(w){return w[w.length-1]}function uu(w,E,M){return Array.prototype.slice.call(w,E,M)}function nv(w,E){for(var M=0;M<w.length;M++)if(E(w[M]))return w[M]}function iv(w,E){return Array.prototype.concat.apply([],w.map(E))}function uv(){var w=Fs(arguments).map(function(M){return g(_(M))}),E=Fe(arguments);if(typeof E!="function")throw new TypeError("Callback function expected as last argument");return Cs(w,E)}function Cs(w,E){return{referTo:{references:w,callback:E}}}function Ss(w){if(typeof w!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:w}}}function bs(w){return w&&Gt(w.referTo)==="object"&&Array.isArray(w.referTo.references)&&typeof w.referTo.callback=="function"}function Ms(w){return w&&Gt(w.referToSelf)==="object"&&typeof w.referToSelf.callback=="function"}function Bs(w,E){if(!w)return E;if(E&&E!==w){var M=new Error("Function names do not match (expected: "+w+", actual: "+E+")");throw M.data={actual:E,expected:w},M}return w}function av(w){var E;for(var M in w)Object.prototype.hasOwnProperty.call(w,M)&&(l(w[M])||typeof w[M].signature=="string")&&(E=Bs(E,w[M].name));return E}function ov(w,E){var M;for(M in E)if(Object.prototype.hasOwnProperty.call(E,M)){if(M in w&&E[M]!==w[M]){var x=new Error('Signature "'+M+'" is defined twice');throw x.data={signature:M,sourceFunction:E[M],destFunction:w[M]},x}w[M]=E[M]}}var sv=a;a=function(E){for(var M=typeof E=="string",x=M?1:0,q=M?E:"",P={},L=x;L<arguments.length;++L){var O=arguments[L],R={},Y=void 0;if(typeof O=="function"?(Y=O.name,typeof O.signature=="string"?R[O.signature]=O:l(O)&&(R=O.signatures)):r(O)&&(R=O,M||(Y=av(O))),Object.keys(R).length===0){var X=new TypeError("Argument to 'typed' at index "+L+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw X.data={index:L,argument:O},X}M||(q=Bs(q,Y)),ov(P,R)}return ev(q||"",P)},a.create=du,a.createCount=sv.createCount,a.onMismatch=Es,a.throwMismatchError=Es,a.createError=$,a.clear=h,a.clearConversions=c,a.addTypes=o,a._findType=f,a.referTo=uv,a.referToSelf=Ss,a.convert=p,a.findSignature=v,a.find=d,a.isTypedFunction=l,a.warnAgainstDeprecatedThis=!0,a.addType=function(w,E){var M="any";E!==!1&&i.has("Object")&&(M="Object"),a.addTypes([w],M)};function Ns(w){if(!w||typeof w.from!="string"||typeof w.to!="string"||typeof w.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(w.to===w.from)throw new SyntaxError('Illegal to define conversion from "'+w.from+'" to itself.')}return a.addConversion=function(w){Ns(w);var E=f(w.to);if(E.conversionsTo.every(function(M){return M.from!==w.from}))E.conversionsTo.push({from:w.from,convert:w.convert,index:u++});else throw new Error('There is already a conversion from "'+w.from+'" to "'+E.name+'"')},a.addConversions=function(w){w.forEach(a.addConversion)},a.removeConversion=function(w){Ns(w);var E=f(w.to),M=nv(E.conversionsTo,function(q){return q.from===w.from});if(!M)throw new Error("Attempt to remove nonexistent conversion from "+w.from+" to "+w.to);if(M.convert!==w.convert)throw new Error("Conversion to remove does not match existing conversion");var x=E.conversionsTo.indexOf(M);E.conversionsTo.splice(x,1)},a.resolve=function(w,E){if(!l(w))throw new TypeError(vu);for(var M=w._typedFunctionData.signatures,x=0;x<M.length;++x)if(M[x].test(E))return M[x];return null},a}var gu=du();function dr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var lf=Math.sign||function(r){return r>0?1:r<0?-1:0};function Vn(r,t,e){var i={2:"0b",8:"0o",16:"0x"},n=i[t],u="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!dr(e))throw new Error("size must be an integer");if(r>2**(e-1)-1||r<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!dr(r))throw new Error("Value must be an integer");r<0&&(r=r+2**e),u="i".concat(e)}var a="";return r<0&&(r=-r,a="-"),"".concat(a).concat(n).concat(r.toString(t)).concat(u)}function Qn(r,t){if(typeof t=="function")return t(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var e="auto",i,n;if(t&&(t.notation&&(e=t.notation),hr(t)?i=t:hr(t.precision)&&(i=t.precision),t.wordSize&&(n=t.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return vf(r,i);case"exponential":return Du(r,i);case"engineering":return pf(r,i);case"bin":return Vn(r,2,n);case"oct":return Vn(r,8,n);case"hex":return Vn(r,16,n);case"auto":return df(r,i,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function on(r){var t=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+r);var e=t[1],i=t[2],n=parseFloat(t[4]||"0"),u=i.indexOf(".");n+=u!==-1?u-1:i.length-1;var a=i.replace(".","").replace(/^0*/,function(f){return n-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return a.length===0&&(a.push(0),n++),{sign:e,coefficients:a,exponent:n}}function pf(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=on(r),i=sn(e,t),n=i.exponent,u=i.coefficients,a=n%3===0?n:n<0?n-3-n%3:n-n%3;if(hr(t))for(;t>u.length||n-a+1>u.length;)u.push(0);else for(var f=Math.abs(n-a)-(u.length-1),o=0;o<f;o++)u.push(0);for(var h=Math.abs(n-a),c=1;h>0;)c++,h--;var s=u.slice(c).join(""),l=hr(t)&&s.length||s.match(/[1-9]/)?"."+s:"",v=u.slice(0,c).join("")+l+"e"+(n>=0?"+":"")+a.toString();return i.sign+v}function vf(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=on(r),i=typeof t=="number"?sn(e,e.exponent+1+t):e,n=i.coefficients,u=i.exponent+1,a=u+(t||0);return n.length<a&&(n=n.concat(Qt(a-n.length))),u<0&&(n=Qt(-u+1).concat(n),u=1),u<n.length&&n.splice(u,0,u===0?"0.":"."),i.sign+n.join("")}function Du(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=on(r),i=t?sn(e,t):e,n=i.coefficients,u=i.exponent;n.length<t&&(n=n.concat(Qt(t-n.length)));var a=n.shift();return i.sign+a+(n.length>0?"."+n.join(""):"")+"e"+(u>=0?"+":"")+u}function df(r,t,e){if(isNaN(r)||!isFinite(r))return String(r);var i=e&&e.lowerExp!==void 0?e.lowerExp:-3,n=e&&e.upperExp!==void 0?e.upperExp:5,u=on(r),a=t?sn(u,t):u;if(a.exponent<i||a.exponent>=n)return Du(r,t);var f=a.coefficients,o=a.exponent;f.length<t&&(f=f.concat(Qt(t-f.length))),f=f.concat(Qt(o-f.length+1+(f.length<t?t-f.length:0))),f=Qt(-o).concat(f);var h=o>0?o:0;return h<f.length-1&&f.splice(h+1,0,"."),a.sign+f.join("")}function sn(r,t){for(var e={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=e.coefficients;t<=0;)i.unshift(0),e.exponent++,t++;if(i.length>t){var n=i.splice(t,i.length-t);if(n[0]>=5){var u=t-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),e.exponent++,u++),u--,i[u]++}}return e}function Qt(r){for(var t=[],e=0;e<r;e++)t.push(0);return t}function gf(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Df=Number.EPSILON||2220446049250313e-31;function _t(r,t,e){if(e==null)return r===t;if(r===t)return!0;if(isNaN(r)||isNaN(t))return!1;if(isFinite(r)&&isFinite(t)){var i=Math.abs(r-t);return i<Df?!0:i<=Math.max(Math.abs(r),Math.abs(t))*e}return!1}function ri(r,t,e){var i=r.constructor,n=new i(2),u="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!dr(e))throw new Error("size must be an integer");if(r.greaterThan(n.pow(e-1).sub(1))||r.lessThan(n.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(e))),u="i".concat(e)}switch(t){case 2:return"".concat(r.toBinary()).concat(u);case 8:return"".concat(r.toOctal()).concat(u);case 16:return"".concat(r.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function mf(r,t){if(typeof t=="function")return t(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var e="auto",i,n;if(t!==void 0&&(t.notation&&(e=t.notation),typeof t=="number"?i=t:t.precision&&(i=t.precision),t.wordSize&&(n=t.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(e){case"fixed":return _f(r,i);case"exponential":return mu(r,i);case"engineering":return yf(r,i);case"bin":return ri(r,2,n);case"oct":return ri(r,8,n);case"hex":return ri(r,16,n);case"auto":{var u=t&&t.lowerExp!==void 0?t.lowerExp:-3,a=t&&t.upperExp!==void 0?t.upperExp:5;if(r.isZero())return"0";var f,o=r.toSignificantDigits(i),h=o.e;return h>=u&&h<a?f=o.toFixed():f=mu(r,i),f.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],s=arguments[4];return c!=="."?c+s:s})}default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function yf(r,t){var e=r.e,i=e%3===0?e:e<0?e-3-e%3:e-e%3,n=r.mul(Math.pow(10,-i)),u=n.toPrecision(t);return u.indexOf("e")!==-1&&(u=n.toString()),u+"e"+(e>=0?"+":"")+i.toString()}function mu(r,t){return t!==void 0?r.toExponential(t-1):r.toExponential()}function _f(r,t){return r.toFixed(t)}function Lr(r,t){var e=wf(r,t);return t&&typeof t=="object"&&"truncate"in t&&e.length>t.truncate?e.substring(0,t.truncate-3)+"...":e}function wf(r,t){if(typeof r=="number")return Qn(r,t);if(Nr(r))return mf(r,t);if(Af(r))return!t||t.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return yu(r,t);if(it(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(t);if(r&&r.toString(t)!=={}.toString())return r.toString(t);var e=Object.keys(r).map(i=>'"'+i+'": '+Lr(r[i],t));return"{"+e.join(", ")+"}"}return String(r)}function yu(r,t){if(Array.isArray(r)){for(var e="[",i=r.length,n=0;n<i;n++)n!==0&&(e+=", "),e+=yu(r[n],t);return e+="]",e}else return Lr(r,t)}function Af(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function H(r,t,e){if(!(this instanceof H))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}H.prototype=new RangeError,H.prototype.constructor=RangeError,H.prototype.name="DimensionError",H.prototype.isDimensionError=!0;function Bt(r,t,e){if(!(this instanceof Bt))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Bt.prototype=new RangeError,Bt.prototype.constructor=RangeError,Bt.prototype.name="IndexError",Bt.prototype.isIndexError=!0;function wt(r){for(var t=[];Array.isArray(r);)t.push(r.length),r=r[0];return t}function _u(r,t,e){var i,n=r.length;if(n!==t[e])throw new H(n,t[e]);if(e<t.length-1){var u=e+1;for(i=0;i<n;i++){var a=r[i];if(!Array.isArray(a))throw new H(t.length-1,t.length,"<");_u(r[i],t,u)}}else for(i=0;i<n;i++)if(Array.isArray(r[i]))throw new H(t.length+1,t.length,">")}function wu(r,t){var e=t.length===0;if(e){if(Array.isArray(r))throw new H(r.length,0)}else _u(r,t,0)}function ir(r,t){if(!hr(r)||!dr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof t=="number"&&r>=t)throw new Bt(r,t)}function fn(r,t,e){if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(n){if(!hr(n)||!dr(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Lr(t)+")")});var i=e!==void 0?e:0;return ti(r,t,0,i),r}function ti(r,t,e,i){var n,u,a=r.length,f=t[e],o=Math.min(a,f);if(r.length=f,e<t.length-1){var h=e+1;for(n=0;n<o;n++)u=r[n],Array.isArray(u)||(u=[u],r[n]=u),ti(u,t,h,i);for(n=o;n<f;n++)u=[],r[n]=u,ti(u,t,h,i)}else{for(n=0;n<o;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=o;n<f;n++)r[n]=i}}function Ef(r,t){var e=Ut(r),i=e.length;if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new H(0,i,"!=");t=ei(t,i);var n=Au(t);if(i!==n)throw new H(n,i,"!=");try{return Ff(e,t)}catch(u){throw u instanceof H?new H(n,i,"!="):u}}function ei(r,t){var e=Au(r),i=r.slice(),n=-1,u=r.indexOf(n),a=r.indexOf(n,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var f=u>=0,o=t%e===0;if(f)if(o)i[u]=-t/e;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-e);return i}function Au(r){return r.reduce((t,e)=>t*e,1)}function Ff(r,t){for(var e=r,i,n=t.length-1;n>0;n--){var u=t[n];i=[];for(var a=e.length/u,f=0;f<a;f++)i.push(e.slice(f*u,(f+1)*u));e=i}return e}function Eu(r,t){for(var e=t||wt(r);Array.isArray(r)&&r.length===1;)r=r[0],e.shift();for(var i=e.length;e[i-1]===1;)i--;return i<e.length&&(r=Fu(r,i,0),e.length=i),r}function Fu(r,t,e){var i,n;if(e<t){var u=e+1;for(i=0,n=r.length;i<n;i++)r[i]=Fu(r[i],t,u)}else for(;Array.isArray(r);)r=r[0];return r}function Cu(r,t,e,i){var n=i||wt(r);if(e)for(var u=0;u<e;u++)r=[r],n.unshift(1);for(r=Su(r,t,0);n.length<t;)n.push(1);return r}function Su(r,t,e){var i,n;if(Array.isArray(r)){var u=e+1;for(i=0,n=r.length;i<n;i++)r[i]=Su(r[i],t,u)}else for(var a=e;a<t;a++)r=[r];return r}function Ut(r){if(!Array.isArray(r))return r;var t=[];return r.forEach(function e(i){Array.isArray(i)?i.forEach(e):t.push(i)}),t}function cn(r,t){for(var e,i=0,n=0;n<r.length;n++){var u=r[n],a=Array.isArray(u);if(n===0&&a&&(i=u.length),a&&u.length!==i)return;var f=a?cn(u,t):t(u);if(e===void 0)e=f;else if(e!==f)return"mixed"}return e}function k(r,t,e,i){function n(u){var a=sf(u,t.map(bf));return Cf(r,t,u),e(a)}return n.isFactory=!0,n.fn=r,n.dependencies=t.slice().sort(),i&&(n.meta=i),n}function Cf(r,t,e){var i=t.filter(u=>!Sf(u)).every(u=>e[u]!==void 0);if(!i){var n=t.filter(u=>e[u]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Sf(r){return r&&r[0]==="?"}function bf(r){return r&&r[0]==="?"?r.slice(1):r}function bu(r,t){if(Nu(r)&&Bu(r,t))return r[t];throw typeof r[t]=="function"&&Bf(r,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Mu(r,t,e){if(Nu(r)&&Bu(r,t))return r[t]=e,e;throw new Error('No access to property "'+t+'"')}function Mf(r,t){return t in r}function Bu(r,t){return!r||typeof r!="object"?!1:Me(Nf,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Bf(r,t){return r==null||typeof r[t]!="function"||Me(r,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(r)?!1:Me(xf,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Nu(r){return typeof r=="object"&&r&&r.constructor===Object}var Nf={length:!0,name:!0},xf={toString:!0,valueOf:!0,toLocaleString:!0};class zf{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return bu(this.wrappedObject,t)}set(t,e){return Mu(this.wrappedObject,t,e),this}has(t){return Mf(this.wrappedObject,t)}}function Of(r){return r?r instanceof Map||r instanceof zf||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var xu=function(){return xu=gu.create,gu},If=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Tf=k("typed",If,function(t){var{BigNumber:e,Complex:i,DenseMatrix:n,Fraction:u}=t,a=xu();return a.clear(),a.addTypes([{name:"number",test:hr},{name:"Complex",test:ou},{name:"BigNumber",test:Nr},{name:"Fraction",test:su},{name:"Unit",test:fu},{name:"identifier",test:f=>it&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(f)},{name:"string",test:it},{name:"Chain",test:uf},{name:"Array",test:or},{name:"Matrix",test:Fr},{name:"DenseMatrix",test:Gn},{name:"SparseMatrix",test:be},{name:"Range",test:cu},{name:"Index",test:un},{name:"boolean",test:Is},{name:"ResultSet",test:Ts},{name:"Help",test:qs},{name:"function",test:$s},{name:"Date",test:Ps},{name:"RegExp",test:Rs},{name:"null",test:Us},{name:"undefined",test:hu},{name:"AccessorNode",test:js},{name:"ArrayNode",test:Zs},{name:"AssignmentNode",test:ks},{name:"BlockNode",test:Ws},{name:"ConditionalNode",test:Ys},{name:"ConstantNode",test:Js},{name:"FunctionNode",test:Hs},{name:"FunctionAssignmentNode",test:Ks},{name:"IndexNode",test:Xs},{name:"Node",test:Gs},{name:"ObjectNode",test:Vs},{name:"OperatorNode",test:Qs},{name:"ParenthesisNode",test:rf},{name:"RangeNode",test:tf},{name:"RelationalNode",test:ef},{name:"SymbolNode",test:nf},{name:"Map",test:Of},{name:"Object",test:Ls}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(o){if(e||ni(o),gf(o)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+o+"). Use function bignumber(x) to convert to BigNumber.");return new e(o)}},{from:"number",to:"Complex",convert:function(o){return i||hn(o),new i(o,0)}},{from:"BigNumber",to:"Complex",convert:function(o){return i||hn(o),new i(o.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(o){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(o){return i||hn(o),new i(o.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(o){u||ii(o);var h=new u(o);if(h.valueOf()!==o)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+o+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(o){var h=Number(o);if(isNaN(h))throw new Error('Cannot convert "'+o+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(o){e||ni(o);try{return new e(o)}catch{throw new Error('Cannot convert "'+o+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(o){u||ii(o);try{return new u(o)}catch{throw new Error('Cannot convert "'+o+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(o){i||hn(o);try{return new i(o)}catch{throw new Error('Cannot convert "'+o+'" to Complex')}}},{from:"boolean",to:"number",convert:function(o){return+o}},{from:"boolean",to:"BigNumber",convert:function(o){return e||ni(o),new e(+o)}},{from:"boolean",to:"Fraction",convert:function(o){return u||ii(o),new u(+o)}},{from:"boolean",to:"string",convert:function(o){return String(o)}},{from:"Array",to:"Matrix",convert:function(o){return n||qf(),new n(o)}},{from:"Matrix",to:"Array",convert:function(o){return o.valueOf()}}]),a.onMismatch=(f,o,h)=>{var c=a.createError(f,o,h);if(["wrongType","mismatch"].includes(c.data.category)&&o.length===1&&Se(o[0])&&h.some(l=>!l.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=c.data,s}throw c},a.onMismatch=(f,o,h)=>{var c=a.createError(f,o,h);if(["wrongType","mismatch"].includes(c.data.category)&&o.length===1&&Se(o[0])&&h.some(l=>!l.params.includes(","))){var s=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw s.data=c.data,s}throw c},a});function ni(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function hn(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function qf(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function ii(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var re=9e15,Nt=1e9,ui="0123456789abcdef",ln="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",pn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ai={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-re,maxE:re,crypto:!1},zu,At,K=!0,vn="[DecimalError] ",xt=vn+"Invalid argument: ",Ou=vn+"Precision limit exceeded",Iu=vn+"crypto unavailable",Tu="[object Decimal]",xr=Math.floor,mr=Math.pow,$f=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Pf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Rf=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,qu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ot=1e7,J=7,Lf=9007199254740991,Uf=ln.length-1,oi=pn.length-1,z={toStringTag:Tu};z.absoluteValue=z.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),W(r)},z.ceil=function(){return W(new this.constructor(this),this.e+1,2)},z.clampedTo=z.clamp=function(r,t){var e,i=this,n=i.constructor;if(r=new n(r),t=new n(t),!r.s||!t.s)return new n(NaN);if(r.gt(t))throw Error(xt+t);return e=i.cmp(r),e<0?r:i.cmp(t)>0?t:new n(i)},z.comparedTo=z.cmp=function(r){var t,e,i,n,u=this,a=u.d,f=(r=new u.constructor(r)).d,o=u.s,h=r.s;if(!a||!f)return!o||!h?NaN:o!==h?o:a===f?0:!a^o<0?1:-1;if(!a[0]||!f[0])return a[0]?o:f[0]?-h:0;if(o!==h)return o;if(u.e!==r.e)return u.e>r.e^o<0?1:-1;for(i=a.length,n=f.length,t=0,e=i<n?i:n;t<e;++t)if(a[t]!==f[t])return a[t]>f[t]^o<0?1:-1;return i===n?0:i>n^o<0?1:-1},z.cosine=z.cos=function(){var r,t,e=this,i=e.constructor;return e.d?e.d[0]?(r=i.precision,t=i.rounding,i.precision=r+Math.max(e.e,e.sd())+J,i.rounding=1,e=jf(i,ju(i,e)),i.precision=r,i.rounding=t,W(At==2||At==3?e.neg():e,r,t,!0)):new i(1):new i(NaN)},z.cubeRoot=z.cbrt=function(){var r,t,e,i,n,u,a,f,o,h,c=this,s=c.constructor;if(!c.isFinite()||c.isZero())return new s(c);for(K=!1,u=c.s*mr(c.s*c,1/3),!u||Math.abs(u)==1/0?(e=Cr(c.d),r=c.e,(u=(r-e.length+1)%3)&&(e+=u==1||u==-2?"0":"00"),u=mr(e,1/3),r=xr((r+1)/3)-(r%3==(r<0?-1:2)),u==1/0?e="5e"+r:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),i=new s(e),i.s=c.s):i=new s(u.toString()),a=(r=s.precision)+3;;)if(f=i,o=f.times(f).times(f),h=o.plus(c),i=ur(h.plus(c).times(f),h.plus(o),a+2,1),Cr(f.d).slice(0,a)===(e=Cr(i.d)).slice(0,a))if(e=e.slice(a-3,a+1),e=="9999"||!n&&e=="4999"){if(!n&&(W(f,r+1,0),f.times(f).times(f).eq(c))){i=f;break}a+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(W(i,r+1,1),t=!i.times(i).times(i).eq(c));break}return K=!0,W(i,r,s.rounding,t)},z.decimalPlaces=z.dp=function(){var r,t=this.d,e=NaN;if(t){if(r=t.length-1,e=(r-xr(this.e/J))*J,r=t[r],r)for(;r%10==0;r/=10)e--;e<0&&(e=0)}return e},z.dividedBy=z.div=function(r){return ur(this,new this.constructor(r))},z.dividedToIntegerBy=z.divToInt=function(r){var t=this,e=t.constructor;return W(ur(t,new e(r),0,1,1),e.precision,e.rounding)},z.equals=z.eq=function(r){return this.cmp(r)===0},z.floor=function(){return W(new this.constructor(this),this.e+1,3)},z.greaterThan=z.gt=function(r){return this.cmp(r)>0},z.greaterThanOrEqualTo=z.gte=function(r){var t=this.cmp(r);return t==1||t===0},z.hyperbolicCosine=z.cosh=function(){var r,t,e,i,n,u=this,a=u.constructor,f=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return f;e=a.precision,i=a.rounding,a.precision=e+Math.max(u.e,u.sd())+4,a.rounding=1,n=u.d.length,n<32?(r=Math.ceil(n/3),t=(1/mn(4,r)).toString()):(r=16,t="2.3283064365386962890625e-10"),u=te(a,1,u.times(t),new a(1),!0);for(var o,h=r,c=new a(8);h--;)o=u.times(u),u=f.minus(o.times(c.minus(o.times(c))));return W(u,a.precision=e,a.rounding=i,!0)},z.hyperbolicSine=z.sinh=function(){var r,t,e,i,n=this,u=n.constructor;if(!n.isFinite()||n.isZero())return new u(n);if(t=u.precision,e=u.rounding,u.precision=t+Math.max(n.e,n.sd())+4,u.rounding=1,i=n.d.length,i<3)n=te(u,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/mn(5,r)),n=te(u,2,n,n,!0);for(var a,f=new u(5),o=new u(16),h=new u(20);r--;)a=n.times(n),n=n.times(f.plus(a.times(o.times(a).plus(h))))}return u.precision=t,u.rounding=e,W(n,t,e,!0)},z.hyperbolicTangent=z.tanh=function(){var r,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+7,i.rounding=1,ur(e.sinh(),e.cosh(),i.precision=r,i.rounding=t)):new i(e.s)},z.inverseCosine=z.acos=function(){var r,t=this,e=t.constructor,i=t.abs().cmp(1),n=e.precision,u=e.rounding;return i!==-1?i===0?t.isNeg()?st(e,n,u):new e(0):new e(NaN):t.isZero()?st(e,n+4,u).times(.5):(e.precision=n+6,e.rounding=1,t=t.asin(),r=st(e,n+4,u).times(.5),e.precision=n,e.rounding=u,r.minus(t))},z.inverseHyperbolicCosine=z.acosh=function(){var r,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(r=i.precision,t=i.rounding,i.precision=r+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,K=!1,e=e.times(e).minus(1).sqrt().plus(e),K=!0,i.precision=r,i.rounding=t,e.ln()):new i(e)},z.inverseHyperbolicSine=z.asinh=function(){var r,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,K=!1,e=e.times(e).plus(1).sqrt().plus(e),K=!0,i.precision=r,i.rounding=t,e.ln())},z.inverseHyperbolicTangent=z.atanh=function(){var r,t,e,i,n=this,u=n.constructor;return n.isFinite()?n.e>=0?new u(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=u.precision,t=u.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?W(new u(n),r,t,!0):(u.precision=e=i-n.e,n=ur(n.plus(1),new u(1).minus(n),e+r,1),u.precision=r+4,u.rounding=1,n=n.ln(),u.precision=r,u.rounding=t,n.times(.5))):new u(NaN)},z.inverseSine=z.asin=function(){var r,t,e,i,n=this,u=n.constructor;return n.isZero()?new u(n):(t=n.abs().cmp(1),e=u.precision,i=u.rounding,t!==-1?t===0?(r=st(u,e+4,i).times(.5),r.s=n.s,r):new u(NaN):(u.precision=e+6,u.rounding=1,n=n.div(new u(1).minus(n.times(n)).sqrt().plus(1)).atan(),u.precision=e,u.rounding=i,n.times(2)))},z.inverseTangent=z.atan=function(){var r,t,e,i,n,u,a,f,o,h=this,c=h.constructor,s=c.precision,l=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&s+4<=oi)return a=st(c,s+4,l).times(.25),a.s=h.s,a}else{if(!h.s)return new c(NaN);if(s+4<=oi)return a=st(c,s+4,l).times(.5),a.s=h.s,a}for(c.precision=f=s+10,c.rounding=1,e=Math.min(28,f/J+2|0),r=e;r;--r)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(K=!1,t=Math.ceil(f/J),i=1,o=h.times(h),a=new c(h),n=h;r!==-1;)if(n=n.times(o),u=a.minus(n.div(i+=2)),n=n.times(o),a=u.plus(n.div(i+=2)),a.d[t]!==void 0)for(r=t;a.d[r]===u.d[r]&&r--;);return e&&(a=a.times(2<<e-1)),K=!0,W(a,c.precision=s,c.rounding=l,!0)},z.isFinite=function(){return!!this.d},z.isInteger=z.isInt=function(){return!!this.d&&xr(this.e/J)>this.d.length-2},z.isNaN=function(){return!this.s},z.isNegative=z.isNeg=function(){return this.s<0},z.isPositive=z.isPos=function(){return this.s>0},z.isZero=function(){return!!this.d&&this.d[0]===0},z.lessThan=z.lt=function(r){return this.cmp(r)<0},z.lessThanOrEqualTo=z.lte=function(r){return this.cmp(r)<1},z.logarithm=z.log=function(r){var t,e,i,n,u,a,f,o,h=this,c=h.constructor,s=c.precision,l=c.rounding,v=5;if(r==null)r=new c(10),t=!0;else{if(r=new c(r),e=r.d,r.s<0||!e||!e[0]||r.eq(1))return new c(NaN);t=r.eq(10)}if(e=h.d,h.s<0||!e||!e[0]||h.eq(1))return new c(e&&!e[0]?-1/0:h.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)u=!0;else{for(n=e[0];n%10===0;)n/=10;u=n!==1}if(K=!1,f=s+v,a=Ot(h,f),i=t?Dn(c,f+10):Ot(r,f),o=ur(a,i,f,1),Be(o.d,n=s,l))do if(f+=10,a=Ot(h,f),i=t?Dn(c,f+10):Ot(r,f),o=ur(a,i,f,1),!u){+Cr(o.d).slice(n+1,n+15)+1==1e14&&(o=W(o,s+1,0));break}while(Be(o.d,n+=10,l));return K=!0,W(o,s,l)},z.minus=z.sub=function(r){var t,e,i,n,u,a,f,o,h,c,s,l,v=this,d=v.constructor;if(r=new d(r),!v.d||!r.d)return!v.s||!r.s?r=new d(NaN):v.d?r.s=-r.s:r=new d(r.d||v.s!==r.s?v:NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(h=v.d,l=r.d,f=d.precision,o=d.rounding,!h[0]||!l[0]){if(l[0])r.s=-r.s;else if(h[0])r=new d(v);else return new d(o===3?-0:0);return K?W(r,f,o):r}if(e=xr(r.e/J),c=xr(v.e/J),h=h.slice(),u=c-e,u){for(s=u<0,s?(t=h,u=-u,a=l.length):(t=l,e=c,a=h.length),i=Math.max(Math.ceil(f/J),a)+2,u>i&&(u=i,t.length=1),t.reverse(),i=u;i--;)t.push(0);t.reverse()}else{for(i=h.length,a=l.length,s=i<a,s&&(a=i),i=0;i<a;i++)if(h[i]!=l[i]){s=h[i]<l[i];break}u=0}for(s&&(t=h,h=l,l=t,r.s=-r.s),a=h.length,i=l.length-a;i>0;--i)h[a++]=0;for(i=l.length;i>u;){if(h[--i]<l[i]){for(n=i;n&&h[--n]===0;)h[n]=ot-1;--h[n],h[i]+=ot}h[i]-=l[i]}for(;h[--a]===0;)h.pop();for(;h[0]===0;h.shift())--e;return h[0]?(r.d=h,r.e=gn(h,e),K?W(r,f,o):r):new d(o===3?-0:0)},z.modulo=z.mod=function(r){var t,e=this,i=e.constructor;return r=new i(r),!e.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||e.d&&!e.d[0]?W(new i(e),i.precision,i.rounding):(K=!1,i.modulo==9?(t=ur(e,r.abs(),0,3,1),t.s*=r.s):t=ur(e,r,0,i.modulo,1),t=t.times(r),K=!0,e.minus(t))},z.naturalExponential=z.exp=function(){return si(this)},z.naturalLogarithm=z.ln=function(){return Ot(this)},z.negated=z.neg=function(){var r=new this.constructor(this);return r.s=-r.s,W(r)},z.plus=z.add=function(r){var t,e,i,n,u,a,f,o,h,c,s=this,l=s.constructor;if(r=new l(r),!s.d||!r.d)return!s.s||!r.s?r=new l(NaN):s.d||(r=new l(r.d||s.s===r.s?s:NaN)),r;if(s.s!=r.s)return r.s=-r.s,s.minus(r);if(h=s.d,c=r.d,f=l.precision,o=l.rounding,!h[0]||!c[0])return c[0]||(r=new l(s)),K?W(r,f,o):r;if(u=xr(s.e/J),i=xr(r.e/J),h=h.slice(),n=u-i,n){for(n<0?(e=h,n=-n,a=c.length):(e=c,i=u,a=h.length),u=Math.ceil(f/J),a=u>a?u+1:a+1,n>a&&(n=a,e.length=1),e.reverse();n--;)e.push(0);e.reverse()}for(a=h.length,n=c.length,a-n<0&&(n=a,e=c,c=h,h=e),t=0;n;)t=(h[--n]=h[n]+c[n]+t)/ot|0,h[n]%=ot;for(t&&(h.unshift(t),++i),a=h.length;h[--a]==0;)h.pop();return r.d=h,r.e=gn(h,i),K?W(r,f,o):r},z.precision=z.sd=function(r){var t,e=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(xt+r);return e.d?(t=$u(e.d),r&&e.e+1>t&&(t=e.e+1)):t=NaN,t},z.round=function(){var r=this,t=r.constructor;return W(new t(r),r.e+1,t.rounding)},z.sine=z.sin=function(){var r,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+Math.max(e.e,e.sd())+J,i.rounding=1,e=kf(i,ju(i,e)),i.precision=r,i.rounding=t,W(At>2?e.neg():e,r,t,!0)):new i(NaN)},z.squareRoot=z.sqrt=function(){var r,t,e,i,n,u,a=this,f=a.d,o=a.e,h=a.s,c=a.constructor;if(h!==1||!f||!f[0])return new c(!h||h<0&&(!f||f[0])?NaN:f?a:1/0);for(K=!1,h=Math.sqrt(+a),h==0||h==1/0?(t=Cr(f),(t.length+o)%2==0&&(t+="0"),h=Math.sqrt(t),o=xr((o+1)/2)-(o<0||o%2),h==1/0?t="5e"+o:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+o),i=new c(t)):i=new c(h.toString()),e=(o=c.precision)+3;;)if(u=i,i=u.plus(ur(a,u,e+2,1)).times(.5),Cr(u.d).slice(0,e)===(t=Cr(i.d)).slice(0,e))if(t=t.slice(e-3,e+1),t=="9999"||!n&&t=="4999"){if(!n&&(W(u,o+1,0),u.times(u).eq(a))){i=u;break}e+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(W(i,o+1,1),r=!i.times(i).eq(a));break}return K=!0,W(i,o,c.rounding,r)},z.tangent=z.tan=function(){var r,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+10,i.rounding=1,e=e.sin(),e.s=1,e=ur(e,new i(1).minus(e.times(e)).sqrt(),r+10,0),i.precision=r,i.rounding=t,W(At==2||At==4?e.neg():e,r,t,!0)):new i(NaN)},z.times=z.mul=function(r){var t,e,i,n,u,a,f,o,h,c=this,s=c.constructor,l=c.d,v=(r=new s(r)).d;if(r.s*=c.s,!l||!l[0]||!v||!v[0])return new s(!r.s||l&&!l[0]&&!v||v&&!v[0]&&!l?NaN:!l||!v?r.s/0:r.s*0);for(e=xr(c.e/J)+xr(r.e/J),o=l.length,h=v.length,o<h&&(u=l,l=v,v=u,a=o,o=h,h=a),u=[],a=o+h,i=a;i--;)u.push(0);for(i=h;--i>=0;){for(t=0,n=o+i;n>i;)f=u[n]+v[i]*l[n-i-1]+t,u[n--]=f%ot|0,t=f/ot|0;u[n]=(u[n]+t)%ot|0}for(;!u[--a];)u.pop();return t?++e:u.shift(),r.d=u,r.e=gn(u,e),K?W(r,s.precision,s.rounding):r},z.toBinary=function(r,t){return ci(this,2,r,t)},z.toDecimalPlaces=z.toDP=function(r,t){var e=this,i=e.constructor;return e=new i(e),r===void 0?e:(Ur(r,0,Nt),t===void 0?t=i.rounding:Ur(t,0,8),W(e,r+e.e+1,t))},z.toExponential=function(r,t){var e,i=this,n=i.constructor;return r===void 0?e=vt(i,!0):(Ur(r,0,Nt),t===void 0?t=n.rounding:Ur(t,0,8),i=W(new n(i),r+1,t),e=vt(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+e:e},z.toFixed=function(r,t){var e,i,n=this,u=n.constructor;return r===void 0?e=vt(n):(Ur(r,0,Nt),t===void 0?t=u.rounding:Ur(t,0,8),i=W(new u(n),r+n.e+1,t),e=vt(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+e:e},z.toFraction=function(r){var t,e,i,n,u,a,f,o,h,c,s,l,v=this,d=v.d,p=v.constructor;if(!d)return new p(v);if(h=e=new p(1),i=o=new p(0),t=new p(i),u=t.e=$u(d)-v.e-1,a=u%J,t.d[0]=mr(10,a<0?J+a:a),r==null)r=u>0?t:h;else{if(f=new p(r),!f.isInt()||f.lt(h))throw Error(xt+f);r=f.gt(t)?u>0?t:h:f}for(K=!1,f=new p(Cr(d)),c=p.precision,p.precision=u=d.length*J*2;s=ur(f,t,0,1,1),n=e.plus(s.times(i)),n.cmp(r)!=1;)e=i,i=n,n=h,h=o.plus(s.times(n)),o=n,n=t,t=f.minus(s.times(n)),f=n;return n=ur(r.minus(e),i,0,1,1),o=o.plus(n.times(h)),e=e.plus(n.times(i)),o.s=h.s=v.s,l=ur(h,i,u,1).minus(v).abs().cmp(ur(o,e,u,1).minus(v).abs())<1?[h,i]:[o,e],p.precision=c,K=!0,l},z.toHexadecimal=z.toHex=function(r,t){return ci(this,16,r,t)},z.toNearest=function(r,t){var e=this,i=e.constructor;if(e=new i(e),r==null){if(!e.d)return e;r=new i(1),t=i.rounding}else{if(r=new i(r),t===void 0?t=i.rounding:Ur(t,0,8),!e.d)return r.s?e:r;if(!r.d)return r.s&&(r.s=e.s),r}return r.d[0]?(K=!1,e=ur(e,r,0,t,1).times(r),K=!0,W(e)):(r.s=e.s,e=r),e},z.toNumber=function(){return+this},z.toOctal=function(r,t){return ci(this,8,r,t)},z.toPower=z.pow=function(r){var t,e,i,n,u,a,f=this,o=f.constructor,h=+(r=new o(r));if(!f.d||!r.d||!f.d[0]||!r.d[0])return new o(mr(+f,h));if(f=new o(f),f.eq(1))return f;if(i=o.precision,u=o.rounding,r.eq(1))return W(f,i,u);if(t=xr(r.e/J),t>=r.d.length-1&&(e=h<0?-h:h)<=Lf)return n=Pu(o,f,e,i),r.s<0?new o(1).div(n):W(n,i,u);if(a=f.s,a<0){if(t<r.d.length-1)return new o(NaN);if((r.d[t]&1)==0&&(a=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=a,f}return e=mr(+f,h),t=e==0||!isFinite(e)?xr(h*(Math.log("0."+Cr(f.d))/Math.LN10+f.e+1)):new o(e+"").e,t>o.maxE+1||t<o.minE-1?new o(t>0?a/0:0):(K=!1,o.rounding=f.s=1,e=Math.min(12,(t+"").length),n=si(r.times(Ot(f,i+e)),i),n.d&&(n=W(n,i+5,1),Be(n.d,i,u)&&(t=i+10,n=W(si(r.times(Ot(f,t+e)),t),t+5,1),+Cr(n.d).slice(i+1,i+15)+1==1e14&&(n=W(n,i+1,0)))),n.s=a,K=!0,o.rounding=u,W(n,i,u))},z.toPrecision=function(r,t){var e,i=this,n=i.constructor;return r===void 0?e=vt(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Ur(r,1,Nt),t===void 0?t=n.rounding:Ur(t,0,8),i=W(new n(i),r,t),e=vt(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+e:e},z.toSignificantDigits=z.toSD=function(r,t){var e=this,i=e.constructor;return r===void 0?(r=i.precision,t=i.rounding):(Ur(r,1,Nt),t===void 0?t=i.rounding:Ur(t,0,8)),W(new i(e),r,t)},z.toString=function(){var r=this,t=r.constructor,e=vt(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()&&!r.isZero()?"-"+e:e},z.truncated=z.trunc=function(){return W(new this.constructor(this),this.e+1,1)},z.valueOf=z.toJSON=function(){var r=this,t=r.constructor,e=vt(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()?"-"+e:e};function Cr(r){var t,e,i,n=r.length-1,u="",a=r[0];if(n>0){for(u+=a,t=1;t<n;t++)i=r[t]+"",e=J-i.length,e&&(u+=zt(e)),u+=i;a=r[t],i=a+"",e=J-i.length,e&&(u+=zt(e))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function Ur(r,t,e){if(r!==~~r||r<t||r>e)throw Error(xt+r)}function Be(r,t,e,i){var n,u,a,f;for(u=r[0];u>=10;u/=10)--t;return--t<0?(t+=J,n=0):(n=Math.ceil((t+1)/J),t%=J),u=mr(10,J-t),f=r[n]%u|0,i==null?t<3?(t==0?f=f/100|0:t==1&&(f=f/10|0),a=e<4&&f==99999||e>3&&f==49999||f==5e4||f==0):a=(e<4&&f+1==u||e>3&&f+1==u/2)&&(r[n+1]/u/100|0)==mr(10,t-2)-1||(f==u/2||f==0)&&(r[n+1]/u/100|0)==0:t<4?(t==0?f=f/1e3|0:t==1?f=f/100|0:t==2&&(f=f/10|0),a=(i||e<4)&&f==9999||!i&&e>3&&f==4999):a=((i||e<4)&&f+1==u||!i&&e>3&&f+1==u/2)&&(r[n+1]/u/1e3|0)==mr(10,t-3)-1,a}function dn(r,t,e){for(var i,n=[0],u,a=0,f=r.length;a<f;){for(u=n.length;u--;)n[u]*=t;for(n[0]+=ui.indexOf(r.charAt(a++)),i=0;i<n.length;i++)n[i]>e-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/e|0,n[i]%=e)}return n.reverse()}function jf(r,t){var e,i,n;if(t.isZero())return t;i=t.d.length,i<32?(e=Math.ceil(i/3),n=(1/mn(4,e)).toString()):(e=16,n="2.3283064365386962890625e-10"),r.precision+=e,t=te(r,1,t.times(n),new r(1));for(var u=e;u--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return r.precision-=e,t}var ur=function(){function r(i,n,u){var a,f=0,o=i.length;for(i=i.slice();o--;)a=i[o]*n+f,i[o]=a%u|0,f=a/u|0;return f&&i.unshift(f),i}function t(i,n,u,a){var f,o;if(u!=a)o=u>a?1:-1;else for(f=o=0;f<u;f++)if(i[f]!=n[f]){o=i[f]>n[f]?1:-1;break}return o}function e(i,n,u,a){for(var f=0;u--;)i[u]-=f,f=i[u]<n[u]?1:0,i[u]=f*a+i[u]-n[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,u,a,f,o){var h,c,s,l,v,d,p,g,D,y,m,_,F,S,b,A,C,B,N,$,j=i.constructor,I=i.s==n.s?1:-1,Z=i.d,T=n.d;if(!Z||!Z[0]||!T||!T[0])return new j(!i.s||!n.s||(Z?T&&Z[0]==T[0]:!T)?NaN:Z&&Z[0]==0||!T?I*0:I/0);for(o?(v=1,c=i.e-n.e):(o=ot,v=J,c=xr(i.e/v)-xr(n.e/v)),N=T.length,C=Z.length,D=new j(I),y=D.d=[],s=0;T[s]==(Z[s]||0);s++);if(T[s]>(Z[s]||0)&&c--,u==null?(S=u=j.precision,a=j.rounding):f?S=u+(i.e-n.e)+1:S=u,S<0)y.push(1),d=!0;else{if(S=S/v+2|0,s=0,N==1){for(l=0,T=T[0],S++;(s<C||l)&&S--;s++)b=l*o+(Z[s]||0),y[s]=b/T|0,l=b%T|0;d=l||s<C}else{for(l=o/(T[0]+1)|0,l>1&&(T=r(T,l,o),Z=r(Z,l,o),N=T.length,C=Z.length),A=N,m=Z.slice(0,N),_=m.length;_<N;)m[_++]=0;$=T.slice(),$.unshift(0),B=T[0],T[1]>=o/2&&++B;do l=0,h=t(T,m,N,_),h<0?(F=m[0],N!=_&&(F=F*o+(m[1]||0)),l=F/B|0,l>1?(l>=o&&(l=o-1),p=r(T,l,o),g=p.length,_=m.length,h=t(p,m,g,_),h==1&&(l--,e(p,N<g?$:T,g,o))):(l==0&&(h=l=1),p=T.slice()),g=p.length,g<_&&p.unshift(0),e(m,p,_,o),h==-1&&(_=m.length,h=t(T,m,N,_),h<1&&(l++,e(m,N<_?$:T,_,o))),_=m.length):h===0&&(l++,m=[0]),y[s++]=l,h&&m[0]?m[_++]=Z[A]||0:(m=[Z[A]],_=1);while((A++<C||m[0]!==void 0)&&S--);d=m[0]!==void 0}y[0]||y.shift()}if(v==1)D.e=c,zu=d;else{for(s=1,l=y[0];l>=10;l/=10)s++;D.e=s+c*v-1,W(D,f?u+D.e+1:u,a,d)}return D}}();function W(r,t,e,i){var n,u,a,f,o,h,c,s,l,v=r.constructor;r:if(t!=null){if(s=r.d,!s)return r;for(n=1,f=s[0];f>=10;f/=10)n++;if(u=t-n,u<0)u+=J,a=t,c=s[l=0],o=c/mr(10,n-a-1)%10|0;else if(l=Math.ceil((u+1)/J),f=s.length,l>=f)if(i){for(;f++<=l;)s.push(0);c=o=0,n=1,u%=J,a=u-J+1}else break r;else{for(c=f=s[l],n=1;f>=10;f/=10)n++;u%=J,a=u-J+n,o=a<0?0:c/mr(10,n-a-1)%10|0}if(i=i||t<0||s[l+1]!==void 0||(a<0?c:c%mr(10,n-a-1)),h=e<4?(o||i)&&(e==0||e==(r.s<0?3:2)):o>5||o==5&&(e==4||i||e==6&&(u>0?a>0?c/mr(10,n-a):0:s[l-1])%10&1||e==(r.s<0?8:7)),t<1||!s[0])return s.length=0,h?(t-=r.e+1,s[0]=mr(10,(J-t%J)%J),r.e=-t||0):s[0]=r.e=0,r;if(u==0?(s.length=l,f=1,l--):(s.length=l+1,f=mr(10,J-u),s[l]=a>0?(c/mr(10,n-a)%mr(10,a)|0)*f:0),h)for(;;)if(l==0){for(u=1,a=s[0];a>=10;a/=10)u++;for(a=s[0]+=f,f=1;a>=10;a/=10)f++;u!=f&&(r.e++,s[0]==ot&&(s[0]=1));break}else{if(s[l]+=f,s[l]!=ot)break;s[l--]=0,f=1}for(u=s.length;s[--u]===0;)s.pop()}return K&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function vt(r,t,e){if(!r.isFinite())return Uu(r);var i,n=r.e,u=Cr(r.d),a=u.length;return t?(e&&(i=e-a)>0?u=u.charAt(0)+"."+u.slice(1)+zt(i):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(r.e<0?"e":"e+")+r.e):n<0?(u="0."+zt(-n-1)+u,e&&(i=e-a)>0&&(u+=zt(i))):n>=a?(u+=zt(n+1-a),e&&(i=e-n-1)>0&&(u=u+"."+zt(i))):((i=n+1)<a&&(u=u.slice(0,i)+"."+u.slice(i)),e&&(i=e-a)>0&&(n+1===a&&(u+="."),u+=zt(i))),u}function gn(r,t){var e=r[0];for(t*=J;e>=10;e/=10)t++;return t}function Dn(r,t,e){if(t>Uf)throw K=!0,e&&(r.precision=e),Error(Ou);return W(new r(ln),t,1,!0)}function st(r,t,e){if(t>oi)throw Error(Ou);return W(new r(pn),t,e,!0)}function $u(r){var t=r.length-1,e=t*J+1;if(t=r[t],t){for(;t%10==0;t/=10)e--;for(t=r[0];t>=10;t/=10)e++}return e}function zt(r){for(var t="";r--;)t+="0";return t}function Pu(r,t,e,i){var n,u=new r(1),a=Math.ceil(i/J+4);for(K=!1;;){if(e%2&&(u=u.times(t),Zu(u.d,a)&&(n=!0)),e=xr(e/2),e===0){e=u.d.length-1,n&&u.d[e]===0&&++u.d[e];break}t=t.times(t),Zu(t.d,a)}return K=!0,u}function Ru(r){return r.d[r.d.length-1]&1}function Lu(r,t,e){for(var i,n=new r(t[0]),u=0;++u<t.length;)if(i=new r(t[u]),i.s)n[e](i)&&(n=i);else{n=i;break}return n}function si(r,t){var e,i,n,u,a,f,o,h=0,c=0,s=0,l=r.constructor,v=l.rounding,d=l.precision;if(!r.d||!r.d[0]||r.e>17)return new l(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(t==null?(K=!1,o=d):o=t,f=new l(.03125);r.e>-2;)r=r.times(f),s+=5;for(i=Math.log(mr(2,s))/Math.LN10*2+5|0,o+=i,e=u=a=new l(1),l.precision=o;;){if(u=W(u.times(r),o,1),e=e.times(++c),f=a.plus(ur(u,e,o,1)),Cr(f.d).slice(0,o)===Cr(a.d).slice(0,o)){for(n=s;n--;)a=W(a.times(a),o,1);if(t==null)if(h<3&&Be(a.d,o-i,v,h))l.precision=o+=10,e=u=f=new l(1),c=0,h++;else return W(a,l.precision=d,v,K=!0);else return l.precision=d,a}a=f}}function Ot(r,t){var e,i,n,u,a,f,o,h,c,s,l,v=1,d=10,p=r,g=p.d,D=p.constructor,y=D.rounding,m=D.precision;if(p.s<0||!g||!g[0]||!p.e&&g[0]==1&&g.length==1)return new D(g&&!g[0]?-1/0:p.s!=1?NaN:g?0:p);if(t==null?(K=!1,c=m):c=t,D.precision=c+=d,e=Cr(g),i=e.charAt(0),Math.abs(u=p.e)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)p=p.times(r),e=Cr(p.d),i=e.charAt(0),v++;u=p.e,i>1?(p=new D("0."+e),u++):p=new D(i+"."+e.slice(1))}else return h=Dn(D,c+2,m).times(u+""),p=Ot(new D(i+"."+e.slice(1)),c-d).plus(h),D.precision=m,t==null?W(p,m,y,K=!0):p;for(s=p,o=a=p=ur(p.minus(1),p.plus(1),c,1),l=W(p.times(p),c,1),n=3;;){if(a=W(a.times(l),c,1),h=o.plus(ur(a,new D(n),c,1)),Cr(h.d).slice(0,c)===Cr(o.d).slice(0,c))if(o=o.times(2),u!==0&&(o=o.plus(Dn(D,c+2,m).times(u+""))),o=ur(o,new D(v),c,1),t==null)if(Be(o.d,c-d,y,f))D.precision=c+=d,h=a=p=ur(s.minus(1),s.plus(1),c,1),l=W(p.times(p),c,1),n=f=1;else return W(o,D.precision=m,y,K=!0);else return D.precision=m,o;o=h,n+=2}}function Uu(r){return String(r.s*r.s/0)}function fi(r,t){var e,i,n;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;i++);for(n=t.length;t.charCodeAt(n-1)===48;--n);if(t=t.slice(i,n),t){if(n-=i,r.e=e=e-i-1,r.d=[],i=(e+1)%J,e<0&&(i+=J),i<n){for(i&&r.d.push(+t.slice(0,i)),n-=J;i<n;)r.d.push(+t.slice(i,i+=J));t=t.slice(i),i=J-t.length}else i-=n;for(;i--;)t+="0";r.d.push(+t),K&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Zf(r,t){var e,i,n,u,a,f,o,h,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),qu.test(t))return fi(r,t)}else if(t==="Infinity"||t==="NaN")return+t||(r.s=NaN),r.e=NaN,r.d=null,r;if(Pf.test(t))e=16,t=t.toLowerCase();else if($f.test(t))e=2;else if(Rf.test(t))e=8;else throw Error(xt+t);for(u=t.search(/p/i),u>0?(o=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),a=u>=0,i=r.constructor,a&&(t=t.replace(".",""),f=t.length,u=f-u,n=Pu(i,new i(e),u,u*2)),h=dn(t,e,ot),c=h.length-1,u=c;h[u]===0;--u)h.pop();return u<0?new i(r.s*0):(r.e=gn(h,c),r.d=h,K=!1,a&&(r=ur(r,n,f*4)),o&&(r=r.times(Math.abs(o)<54?mr(2,o):ee.pow(2,o))),K=!0,r)}function kf(r,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:te(r,2,t,t);e=1.4*Math.sqrt(i),e=e>16?16:e|0,t=t.times(1/mn(5,e)),t=te(r,2,t,t);for(var n,u=new r(5),a=new r(16),f=new r(20);e--;)n=t.times(t),t=t.times(u.plus(n.times(a.times(n).minus(f))));return t}function te(r,t,e,i,n){var u,a,f,o,h=r.precision,c=Math.ceil(h/J);for(K=!1,o=e.times(e),f=new r(i);;){if(a=ur(f.times(o),new r(t++*t++),h,1),f=n?i.plus(a):i.minus(a),i=ur(a.times(o),new r(t++*t++),h,1),a=f.plus(i),a.d[c]!==void 0){for(u=c;a.d[u]===f.d[u]&&u--;);if(u==-1)break}u=f,f=i,i=a,a=u}return K=!0,a.d.length=c+1,a}function mn(r,t){for(var e=r;--t;)e*=r;return e}function ju(r,t){var e,i=t.s<0,n=st(r,r.precision,1),u=n.times(.5);if(t=t.abs(),t.lte(u))return At=i?4:1,t;if(e=t.divToInt(n),e.isZero())At=i?3:2;else{if(t=t.minus(e.times(n)),t.lte(u))return At=Ru(e)?i?2:3:i?4:1,t;At=Ru(e)?i?1:4:i?3:2}return t.minus(n).abs()}function ci(r,t,e,i){var n,u,a,f,o,h,c,s,l,v=r.constructor,d=e!==void 0;if(d?(Ur(e,1,Nt),i===void 0?i=v.rounding:Ur(i,0,8)):(e=v.precision,i=v.rounding),!r.isFinite())c=Uu(r);else{for(c=vt(r),a=c.indexOf("."),d?(n=2,t==16?e=e*4-3:t==8&&(e=e*3-2)):n=t,a>=0&&(c=c.replace(".",""),l=new v(1),l.e=c.length-a,l.d=dn(vt(l),10,n),l.e=l.d.length),s=dn(c,10,n),u=o=s.length;s[--o]==0;)s.pop();if(!s[0])c=d?"0p+0":"0";else{if(a<0?u--:(r=new v(r),r.d=s,r.e=u,r=ur(r,l,e,i,0,n),s=r.d,u=r.e,h=zu),a=s[e],f=n/2,h=h||s[e+1]!==void 0,h=i<4?(a!==void 0||h)&&(i===0||i===(r.s<0?3:2)):a>f||a===f&&(i===4||h||i===6&&s[e-1]&1||i===(r.s<0?8:7)),s.length=e,h)for(;++s[--e]>n-1;)s[e]=0,e||(++u,s.unshift(1));for(o=s.length;!s[o-1];--o);for(a=0,c="";a<o;a++)c+=ui.charAt(s[a]);if(d){if(o>1)if(t==16||t==8){for(a=t==16?4:3,--o;o%a;o++)c+="0";for(s=dn(c,n,t),o=s.length;!s[o-1];--o);for(a=1,c="1.";a<o;a++)c+=ui.charAt(s[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)c="0"+c;c="0."+c}else if(++u>o)for(u-=o;u--;)c+="0";else u<o&&(c=c.slice(0,u)+"."+c.slice(u))}c=(t==16?"0x":t==2?"0b":t==8?"0o":"")+c}return r.s<0?"-"+c:c}function Zu(r,t){if(r.length>t)return r.length=t,!0}function Wf(r){return new this(r).abs()}function Yf(r){return new this(r).acos()}function Jf(r){return new this(r).acosh()}function Kf(r,t){return new this(r).plus(t)}function Hf(r){return new this(r).asin()}function Xf(r){return new this(r).asinh()}function Gf(r){return new this(r).atan()}function Vf(r){return new this(r).atanh()}function Qf(r,t){r=new this(r),t=new this(t);var e,i=this.precision,n=this.rounding,u=i+4;return!r.s||!t.s?e=new this(NaN):!r.d&&!t.d?(e=st(this,u,1).times(t.s>0?.25:.75),e.s=r.s):!t.d||r.isZero()?(e=t.s<0?st(this,i,n):new this(0),e.s=r.s):!r.d||t.isZero()?(e=st(this,u,1).times(.5),e.s=r.s):t.s<0?(this.precision=u,this.rounding=1,e=this.atan(ur(r,t,u,1)),t=st(this,u,1),this.precision=i,this.rounding=n,e=r.s<0?e.minus(t):e.plus(t)):e=this.atan(ur(r,t,u,1)),e}function rc(r){return new this(r).cbrt()}function tc(r){return W(r=new this(r),r.e+1,2)}function ec(r,t,e){return new this(r).clamp(t,e)}function nc(r){if(!r||typeof r!="object")throw Error(vn+"Object expected");var t,e,i,n=r.defaults===!0,u=["precision",1,Nt,"rounding",0,8,"toExpNeg",-re,0,"toExpPos",0,re,"maxE",0,re,"minE",-re,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(e=u[t],n&&(this[e]=ai[e]),(i=r[e])!==void 0)if(xr(i)===i&&i>=u[t+1]&&i<=u[t+2])this[e]=i;else throw Error(xt+e+": "+i);if(e="crypto",n&&(this[e]=ai[e]),(i=r[e])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[e]=!0;else throw Error(Iu);else this[e]=!1;else throw Error(xt+e+": "+i);return this}function ic(r){return new this(r).cos()}function uc(r){return new this(r).cosh()}function ku(r){var t,e,i;function n(u){var a,f,o,h=this;if(!(h instanceof n))return new n(u);if(h.constructor=n,Wu(u)){h.s=u.s,K?!u.d||u.e>n.maxE?(h.e=NaN,h.d=null):u.e<n.minE?(h.e=0,h.d=[0]):(h.e=u.e,h.d=u.d.slice()):(h.e=u.e,h.d=u.d?u.d.slice():u.d);return}if(o=typeof u,o==="number"){if(u===0){h.s=1/u<0?-1:1,h.e=0,h.d=[0];return}if(u<0?(u=-u,h.s=-1):h.s=1,u===~~u&&u<1e7){for(a=0,f=u;f>=10;f/=10)a++;K?a>n.maxE?(h.e=NaN,h.d=null):a<n.minE?(h.e=0,h.d=[0]):(h.e=a,h.d=[u]):(h.e=a,h.d=[u]);return}else if(u*0!==0){u||(h.s=NaN),h.e=NaN,h.d=null;return}return fi(h,u.toString())}else if(o!=="string")throw Error(xt+u);return(f=u.charCodeAt(0))===45?(u=u.slice(1),h.s=-1):(f===43&&(u=u.slice(1)),h.s=1),qu.test(u)?fi(h,u):Zf(h,u)}if(n.prototype=z,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=nc,n.clone=ku,n.isDecimal=Wu,n.abs=Wf,n.acos=Yf,n.acosh=Jf,n.add=Kf,n.asin=Hf,n.asinh=Xf,n.atan=Gf,n.atanh=Vf,n.atan2=Qf,n.cbrt=rc,n.ceil=tc,n.clamp=ec,n.cos=ic,n.cosh=uc,n.div=ac,n.exp=oc,n.floor=sc,n.hypot=fc,n.ln=cc,n.log=hc,n.log10=pc,n.log2=lc,n.max=vc,n.min=dc,n.mod=gc,n.mul=Dc,n.pow=mc,n.random=yc,n.round=_c,n.sign=wc,n.sin=Ac,n.sinh=Ec,n.sqrt=Fc,n.sub=Cc,n.sum=Sc,n.tan=bc,n.tanh=Mc,n.trunc=Bc,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)r.hasOwnProperty(e=i[t++])||(r[e]=this[e]);return n.config(r),n}function ac(r,t){return new this(r).div(t)}function oc(r){return new this(r).exp()}function sc(r){return W(r=new this(r),r.e+1,3)}function fc(){var r,t,e=new this(0);for(K=!1,r=0;r<arguments.length;)if(t=new this(arguments[r++]),t.d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return K=!0,new this(1/0);e=t}return K=!0,e.sqrt()}function Wu(r){return r instanceof ee||r&&r.toStringTag===Tu||!1}function cc(r){return new this(r).ln()}function hc(r,t){return new this(r).log(t)}function lc(r){return new this(r).log(2)}function pc(r){return new this(r).log(10)}function vc(){return Lu(this,arguments,"lt")}function dc(){return Lu(this,arguments,"gt")}function gc(r,t){return new this(r).mod(t)}function Dc(r,t){return new this(r).mul(t)}function mc(r,t){return new this(r).pow(t)}function yc(r){var t,e,i,n,u=0,a=new this(1),f=[];if(r===void 0?r=this.precision:Ur(r,1,Nt),i=Math.ceil(r/J),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));u<i;)n=t[u],n>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:f[u++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);u<i;)n=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(t,u):(f.push(n%1e7),u+=4);u=i/4}else throw Error(Iu);else for(;u<i;)f[u++]=Math.random()*1e7|0;for(i=f[--u],r%=J,i&&r&&(n=mr(10,J-r),f[u]=(i/n|0)*n);f[u]===0;u--)f.pop();if(u<0)e=0,f=[0];else{for(e=-1;f[0]===0;e-=J)f.shift();for(i=1,n=f[0];n>=10;n/=10)i++;i<J&&(e-=J-i)}return a.e=e,a.d=f,a}function _c(r){return W(r=new this(r),r.e+1,this.rounding)}function wc(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Ac(r){return new this(r).sin()}function Ec(r){return new this(r).sinh()}function Fc(r){return new this(r).sqrt()}function Cc(r,t){return new this(r).sub(t)}function Sc(){var r=0,t=arguments,e=new this(t[r]);for(K=!1;e.s&&++r<t.length;)e=e.plus(t[r]);return K=!0,W(e,this.precision,this.rounding)}function bc(r){return new this(r).tan()}function Mc(r){return new this(r).tanh()}function Bc(r){return W(r=new this(r),r.e+1,1)}z[Symbol.for("nodejs.util.inspect.custom")]=z.toString,z[Symbol.toStringTag]="Decimal";var ee=z.constructor=ku(ai);ln=new ee(ln),pn=new ee(pn);var Nc="BigNumber",xc=["?on","config"],zc=k(Nc,xc,r=>{var{on:t,config:e}=r,i=ee.clone({precision:e.precision,modulo:ee.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},t&&t("config",function(n,u){n.precision!==u.precision&&i.config({precision:n.precision})}),i},{isClass:!0}),jt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Yu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ju={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,t){(function(e){var i=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},n=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},u=function(s){var l=Math.PI/4;if(-l>s||s>l)return Math.cos(s)-1;var v=s*s;return v*(v*(v*(v*(v*(v*(v*(v/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},a=function(s,l){var v=Math.abs(s),d=Math.abs(l);return v<3e3&&d<3e3?Math.sqrt(v*v+d*d):(v<d?(v=d,d=s/l):d=l/s,v*Math.sqrt(1+d*d))},f=function(){throw SyntaxError("Invalid Param")};function o(s,l){var v=Math.abs(s),d=Math.abs(l);return s===0?Math.log(d):l===0?Math.log(v):v<3e3&&d<3e3?Math.log(s*s+l*l)*.5:(s=s/2,l=l/2,.5*Math.log(s*s+l*l)+Math.LN2)}var h=function(s,l){var v={re:0,im:0};if(s==null)v.re=v.im=0;else if(l!==void 0)v.re=s,v.im=l;else switch(typeof s){case"object":if("im"in s&&"re"in s)v.re=s.re,v.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return c.INFINITY;v.re=s.abs*Math.cos(s.arg),v.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return c.INFINITY;v.re=s.r*Math.cos(s.phi),v.im=s.r*Math.sin(s.phi)}else s.length===2?(v.re=s[0],v.im=s[1]):f();break;case"string":v.im=v.re=0;var d=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,g=0;d===null&&f();for(var D=0;D<d.length;D++){var y=d[D];y===" "||y==="	"||y===`
`||(y==="+"?p++:y==="-"?g++:y==="i"||y==="I"?(p+g===0&&f(),d[D+1]!==" "&&!isNaN(d[D+1])?(v.im+=parseFloat((g%2?"-":"")+d[D+1]),D++):v.im+=parseFloat((g%2?"-":"")+"1"),p=g=0):((p+g===0||isNaN(y))&&f(),d[D+1]==="i"||d[D+1]==="I"?(v.im+=parseFloat((g%2?"-":"")+y),D++):v.re+=parseFloat((g%2?"-":"")+y),p=g=0))}p+g>0&&f();break;case"number":v.im=0,v.re=s;break;default:f()}return isNaN(v.re)||isNaN(v.im),v};function c(s,l){if(!(this instanceof c))return new c(s,l);var v=h(s,l);this.re=v.re,this.im=v.im}c.prototype={re:0,im:0,sign:function(){var s=this.abs();return new c(this.re/s,this.im/s)},add:function(s,l){var v=new c(s,l);return this.isInfinite()&&v.isInfinite()?c.NAN:this.isInfinite()||v.isInfinite()?c.INFINITY:new c(this.re+v.re,this.im+v.im)},sub:function(s,l){var v=new c(s,l);return this.isInfinite()&&v.isInfinite()?c.NAN:this.isInfinite()||v.isInfinite()?c.INFINITY:new c(this.re-v.re,this.im-v.im)},mul:function(s,l){var v=new c(s,l);return this.isInfinite()&&v.isZero()||this.isZero()&&v.isInfinite()?c.NAN:this.isInfinite()||v.isInfinite()?c.INFINITY:v.im===0&&this.im===0?new c(this.re*v.re,0):new c(this.re*v.re-this.im*v.im,this.re*v.im+this.im*v.re)},div:function(s,l){var v=new c(s,l);if(this.isZero()&&v.isZero()||this.isInfinite()&&v.isInfinite())return c.NAN;if(this.isInfinite()||v.isZero())return c.INFINITY;if(this.isZero()||v.isInfinite())return c.ZERO;s=this.re,l=this.im;var d=v.re,p=v.im,g,D;return p===0?new c(s/d,l/d):Math.abs(d)<Math.abs(p)?(D=d/p,g=d*D+p,new c((s*D+l)/g,(l*D-s)/g)):(D=p/d,g=p*D+d,new c((s+l*D)/g,(l-s*D)/g))},pow:function(s,l){var v=new c(s,l);if(s=this.re,l=this.im,v.isZero())return c.ONE;if(v.im===0){if(l===0&&s>0)return new c(Math.pow(s,v.re),0);if(s===0)switch((v.re%4+4)%4){case 0:return new c(Math.pow(l,v.re),0);case 1:return new c(0,Math.pow(l,v.re));case 2:return new c(-Math.pow(l,v.re),0);case 3:return new c(0,-Math.pow(l,v.re))}}if(s===0&&l===0&&v.re>0&&v.im>=0)return c.ZERO;var d=Math.atan2(l,s),p=o(s,l);return s=Math.exp(v.re*p-v.im*d),l=v.im*p+v.re*d,new c(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){var s=this.re,l=this.im,v=this.abs(),d,p;if(s>=0){if(l===0)return new c(Math.sqrt(s),0);d=.5*Math.sqrt(2*(v+s))}else d=Math.abs(l)/Math.sqrt(2*(v-s));return s<=0?p=.5*Math.sqrt(2*(v-s)):p=Math.abs(l)/Math.sqrt(2*(v+s)),new c(d,l<0?-p:p)},exp:function(){var s=Math.exp(this.re);return this.im,new c(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,l=this.im;return new c(Math.expm1(s)*Math.cos(l)+u(l),Math.exp(s)*Math.sin(l))},log:function(){var s=this.re,l=this.im;return new c(o(s,l),Math.atan2(l,s))},abs:function(){return a(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,l=this.im;return new c(Math.sin(s)*i(l),Math.cos(s)*n(l))},cos:function(){var s=this.re,l=this.im;return new c(Math.cos(s)*i(l),-Math.sin(s)*n(l))},tan:function(){var s=2*this.re,l=2*this.im,v=Math.cos(s)+i(l);return new c(Math.sin(s)/v,n(l)/v)},cot:function(){var s=2*this.re,l=2*this.im,v=Math.cos(s)-i(l);return new c(-Math.sin(s)/v,n(l)/v)},sec:function(){var s=this.re,l=this.im,v=.5*i(2*l)+.5*Math.cos(2*s);return new c(Math.cos(s)*i(l)/v,Math.sin(s)*n(l)/v)},csc:function(){var s=this.re,l=this.im,v=.5*i(2*l)-.5*Math.cos(2*s);return new c(Math.sin(s)*i(l)/v,-Math.cos(s)*n(l)/v)},asin:function(){var s=this.re,l=this.im,v=new c(l*l-s*s+1,-2*s*l).sqrt(),d=new c(v.re-l,v.im+s).log();return new c(d.im,-d.re)},acos:function(){var s=this.re,l=this.im,v=new c(l*l-s*s+1,-2*s*l).sqrt(),d=new c(v.re-l,v.im+s).log();return new c(Math.PI/2-d.im,d.re)},atan:function(){var s=this.re,l=this.im;if(s===0){if(l===1)return new c(0,1/0);if(l===-1)return new c(0,-1/0)}var v=s*s+(1-l)*(1-l),d=new c((1-l*l-s*s)/v,-2*s/v).log();return new c(-.5*d.im,.5*d.re)},acot:function(){var s=this.re,l=this.im;if(l===0)return new c(Math.atan2(1,s),0);var v=s*s+l*l;return v!==0?new c(s/v,-l/v).atan():new c(s!==0?s/0:0,l!==0?-l/0:0).atan()},asec:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new c(0,1/0);var v=s*s+l*l;return v!==0?new c(s/v,-l/v).acos():new c(s!==0?s/0:0,l!==0?-l/0:0).acos()},acsc:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new c(Math.PI/2,1/0);var v=s*s+l*l;return v!==0?new c(s/v,-l/v).asin():new c(s!==0?s/0:0,l!==0?-l/0:0).asin()},sinh:function(){var s=this.re,l=this.im;return new c(n(s)*Math.cos(l),i(s)*Math.sin(l))},cosh:function(){var s=this.re,l=this.im;return new c(i(s)*Math.cos(l),n(s)*Math.sin(l))},tanh:function(){var s=2*this.re,l=2*this.im,v=i(s)+Math.cos(l);return new c(n(s)/v,Math.sin(l)/v)},coth:function(){var s=2*this.re,l=2*this.im,v=i(s)-Math.cos(l);return new c(n(s)/v,-Math.sin(l)/v)},csch:function(){var s=this.re,l=this.im,v=Math.cos(2*l)-i(2*s);return new c(-2*n(s)*Math.cos(l)/v,2*i(s)*Math.sin(l)/v)},sech:function(){var s=this.re,l=this.im,v=Math.cos(2*l)+i(2*s);return new c(2*i(s)*Math.cos(l)/v,-2*n(s)*Math.sin(l)/v)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var l=this.asin();return this.re=-this.im,this.im=s,s=l.re,l.re=-l.im,l.im=s,l},acosh:function(){var s=this.acos();if(s.im<=0){var l=s.re;s.re=-s.im,s.im=l}else{var l=s.im;s.im=-s.re,s.re=l}return s},atanh:function(){var s=this.re,l=this.im,v=s>1&&l===0,d=1-s,p=1+s,g=d*d+l*l,D=g!==0?new c((p*d-l*l)/g,(l*d+p*l)/g):new c(s!==-1?s/0:0,l!==0?l/0:0),y=D.re;return D.re=o(D.re,D.im)/2,D.im=Math.atan2(D.im,y)/2,v&&(D.im=-D.im),D},acoth:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new c(0,Math.PI/2);var v=s*s+l*l;return v!==0?new c(s/v,-l/v).atanh():new c(s!==0?s/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var s=this.re,l=this.im;if(l===0)return new c(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var v=s*s+l*l;return v!==0?new c(s/v,-l/v).asinh():new c(s!==0?s/0:0,l!==0?-l/0:0).asinh()},asech:function(){var s=this.re,l=this.im;if(this.isZero())return c.INFINITY;var v=s*s+l*l;return v!==0?new c(s/v,-l/v).acosh():new c(s!==0?s/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var s=this.re,l=this.im,v=s*s+l*l;return new c(s/v,-l/v)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new c(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new c(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new c(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,l){var v=new c(s,l);return Math.abs(v.re-this.re)<=c.EPSILON&&Math.abs(v.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var s=this.re,l=this.im,v="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<c.EPSILON&&(s=0),Math.abs(l)<c.EPSILON&&(l=0),l===0?v+s:(s!==0?(v+=s,v+=" ",l<0?(l=-l,v+="-"):v+="+",v+=" "):l<0&&(l=-l,v+="-"),l!==1&&(v+=l),v+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,r.exports=c})()})(Ju);var Sr=Yu(Ju.exports),Oc="Complex",Ic=[],Tc=k(Oc,Ic,()=>(Object.defineProperty(Sr,"name",{value:"Complex"}),Sr.prototype.constructor=Sr,Sr.prototype.type="Complex",Sr.prototype.isComplex=!0,Sr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Sr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Sr.prototype.format=function(r){var t="",e=this.im,i=this.re,n=Qn(this.re,r),u=Qn(this.im,r),a=hr(r)?r:r?r.precision:null;if(a!==null){var f=Math.pow(10,-a);Math.abs(i/e)<f&&(i=0),Math.abs(e/i)<f&&(e=0)}return e===0?t=n:i===0?e===1?t="i":e===-1?t="-i":t=u+"i":e<0?e===-1?t=n+" - i":t=n+" - "+u.substring(1)+"i":e===1?t=n+" + i":t=n+" + "+u+"i",t},Sr.fromPolar=function(r){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Sr(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var e=arguments[0],i=arguments[1];if(hr(e)){if(fu(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),hr(i))return new Sr({r:e,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Sr.prototype.valueOf=Sr.prototype.toString,Sr.fromJSON=function(r){return new Sr(r)},Sr.compare=function(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0},Sr),{isClass:!0}),Ku={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,t){(function(e){var i=2e3,n={s:1,n:0,d:1};function u(d,p){if(isNaN(d=parseInt(d,10)))throw v.InvalidParameter;return d*p}function a(d,p){if(p===0)throw v.DivisionByZero;var g=Object.create(v.prototype);g.s=d<0?-1:1,d=d<0?-d:d;var D=l(d,p);return g.n=d/D,g.d=p/D,g}function f(d){for(var p={},g=d,D=2,y=4;y<=g;){for(;g%D===0;)g/=D,p[D]=(p[D]||0)+1;y+=1+2*D++}return g!==d?g>1&&(p[g]=(p[g]||0)+1):p[d]=(p[d]||0)+1,p}var o=function(d,p){var g=0,D=1,y=1,m=0,_=0,F=0,S=1,b=1,A=0,C=1,B=1,N=1,$=1e7,j;if(d!=null)if(p!==void 0){if(g=d,D=p,y=g*D,g%1!==0||D%1!==0)throw v.NonIntegerParameter}else switch(typeof d){case"object":{if("d"in d&&"n"in d)g=d.n,D=d.d,"s"in d&&(g*=d.s);else if(0 in d)g=d[0],1 in d&&(D=d[1]);else throw v.InvalidParameter;y=g*D;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)g=d;else if(d>0){for(d>=1&&(b=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=b);C<=$&&N<=$;)if(j=(A+B)/(C+N),d===j){C+N<=$?(g=A+B,D=C+N):N>C?(g=B,D=N):(g=A,D=C);break}else d>j?(A+=B,C+=N):(B+=A,N+=C),C>$?(g=B,D=N):(g=A,D=C);g*=b}else(isNaN(d)||isNaN(p))&&(D=g=NaN);break}case"string":{if(C=d.match(/\d+|./g),C===null)throw v.InvalidParameter;if(C[A]==="-"?(y=-1,A++):C[A]==="+"&&A++,C.length===A+1?_=u(C[A++],y):C[A+1]==="."||C[A]==="."?(C[A]!=="."&&(m=u(C[A++],y)),A++,(A+1===C.length||C[A+1]==="("&&C[A+3]===")"||C[A+1]==="'"&&C[A+3]==="'")&&(_=u(C[A],y),S=Math.pow(10,C[A].length),A++),(C[A]==="("&&C[A+2]===")"||C[A]==="'"&&C[A+2]==="'")&&(F=u(C[A+1],y),b=Math.pow(10,C[A+1].length)-1,A+=3)):C[A+1]==="/"||C[A+1]===":"?(_=u(C[A],y),S=u(C[A+2],1),A+=3):C[A+3]==="/"&&C[A+1]===" "&&(m=u(C[A],y),_=u(C[A+2],y),S=u(C[A+4],1),A+=5),C.length<=A){D=S*b,y=g=F+D*m+b*_;break}}default:throw v.InvalidParameter}if(D===0)throw v.DivisionByZero;n.s=y<0?-1:1,n.n=Math.abs(g),n.d=Math.abs(D)};function h(d,p,g){for(var D=1;p>0;d=d*d%g,p>>=1)p&1&&(D=D*d%g);return D}function c(d,p){for(;p%2===0;p/=2);for(;p%5===0;p/=5);if(p===1)return 0;for(var g=10%p,D=1;g!==1;D++)if(g=g*10%p,D>i)return 0;return D}function s(d,p,g){for(var D=1,y=h(10,g,p),m=0;m<300;m++){if(D===y)return m;D=D*10%p,y=y*10%p}return 0}function l(d,p){if(!d)return p;if(!p)return d;for(;;){if(d%=p,!d)return p;if(p%=d,!p)return d}}function v(d,p){if(o(d,p),this instanceof v)d=l(n.d,n.n),this.s=n.s,this.n=n.n/d,this.d=n.d/d;else return a(n.s*n.n,n.d)}v.DivisionByZero=new Error("Division by Zero"),v.InvalidParameter=new Error("Invalid argument"),v.NonIntegerParameter=new Error("Parameters must be integer"),v.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(d,p){return o(d,p),a(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(d,p){return o(d,p),a(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(d,p){return o(d,p),a(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(d,p){return o(d,p),a(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(d,p){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(d===void 0)return a(this.s*this.n%this.d,1);if(o(d,p),n.n===0&&this.d===0)throw v.DivisionByZero;return a(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(d,p){return o(d,p),a(l(n.n,this.n)*l(n.d,this.d),n.d*this.d)},lcm:function(d,p){return o(d,p),n.n===0&&this.n===0?a(0,1):a(n.n*this.n,l(n.n,this.n)*l(n.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):a(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):a(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):a(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(d,p){if(o(d,p),n.d===1)return n.s<0?a(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):a(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var g=f(this.n),D=f(this.d),y=1,m=1;for(var _ in g)if(_!=="1"){if(_==="0"){y=0;break}if(g[_]*=n.n,g[_]%n.d===0)g[_]/=n.d;else return null;y*=Math.pow(_,g[_])}for(var _ in D)if(_!=="1"){if(D[_]*=n.n,D[_]%n.d===0)D[_]/=n.d;else return null;m*=Math.pow(_,D[_])}return n.s<0?a(m,y):a(y,m)},equals:function(d,p){return o(d,p),this.s*this.n*n.d===n.s*n.n*this.d},compare:function(d,p){o(d,p);var g=this.s*this.n*n.d-n.s*n.n*this.d;return(0<g)-(g<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var p=this.abs(),g=p.toContinued(),D=1;D<g.length;D++){for(var y=a(g[D-1],1),m=D-2;m>=0;m--)y=y.inverse().add(g[m]);if(y.sub(p).abs().valueOf()<d)return y.mul(this.s)}return this},divisible:function(d,p){return o(d,p),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var p,g="",D=this.n,y=this.d;return this.s<0&&(g+="-"),y===1?g+=D:(d&&(p=Math.floor(D/y))>0&&(g+=p,g+=" ",D%=y),g+=D,g+="/",g+=y),g},toLatex:function(d){var p,g="",D=this.n,y=this.d;return this.s<0&&(g+="-"),y===1?g+=D:(d&&(p=Math.floor(D/y))>0&&(g+=p,D%=y),g+="\\frac{",g+=D,g+="}{",g+=y,g+="}"),g},toContinued:function(){var d,p=this.n,g=this.d,D=[];if(isNaN(p)||isNaN(g))return D;do D.push(Math.floor(p/g)),d=p%g,p=g,g=d;while(p!==1);return D},toString:function(d){var p=this.n,g=this.d;if(isNaN(p)||isNaN(g))return"NaN";d=d||15;var D=c(p,g),y=s(p,g,D),m=this.s<0?"-":"";if(m+=p/g|0,p%=g,p*=10,p&&(m+="."),D){for(var _=y;_--;)m+=p/g|0,p%=g,p*=10;m+="(";for(var _=D;_--;)m+=p/g|0,p%=g,p*=10;m+=")"}else for(var _=d;p&&_--;)m+=p/g|0,p%=g,p*=10;return m}},Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,r.exports=v})()})(Ku);var Et=Yu(Ku.exports),qc="Fraction",$c=[],Pc=k(qc,$c,()=>(Object.defineProperty(Et,"name",{value:"Fraction"}),Et.prototype.constructor=Et,Et.prototype.type="Fraction",Et.prototype.isFraction=!0,Et.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Et.fromJSON=function(r){return new Et(r)},Et),{isClass:!0}),Rc="Matrix",Lc=[],Uc=k(Rc,Lc,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(t,e,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(t,e,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function hi(r){return Object.keys(r.signatures||{}).reduce(function(t,e){var i=(e.match(/,/g)||[]).length+1;return Math.max(t,i)},-1)}var jc="DenseMatrix",Zc=["Matrix"],kc=k(jc,Zc,r=>{var{Matrix:t}=r;function e(c,s){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!it(s))throw new Error("Invalid datatype: "+s);if(Fr(c))c.type==="DenseMatrix"?(this._data=nr(c._data),this._size=nr(c._size),this._datatype=s||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=s||c._datatype);else if(c&&or(c.data)&&or(c.size))this._data=c.data,this._size=c.size,wu(this._data,this._size),this._datatype=s||c.datatype;else if(or(c))this._data=h(c),this._size=wt(this._data),wu(this._data,this._size),this._datatype=s;else{if(c)throw new TypeError("Unsupported type of data ("+ut(c)+")");this._data=[],this._size=[0],this._datatype=s}}e.prototype=new t,e.prototype.createDenseMatrix=function(c,s){return new e(c,s)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return cn(this._data,ut)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(c,s){return new e(c,s)},e.prototype.subset=function(c,s,l){switch(arguments.length){case 1:return i(this,c);case 2:case 3:return u(this,c,s,l);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(c){if(!or(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new H(c.length,this._size.length);for(var s=0;s<c.length;s++)ir(c[s],this._size[s]);for(var l=this._data,v=0,d=c.length;v<d;v++){var p=c[v];ir(p,l.length),l=l[p]}return l},e.prototype.set=function(c,s,l){if(!or(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new H(c.length,this._size.length,"<");var v,d,p,g=c.map(function(y){return y+1});o(this,g,l);var D=this._data;for(v=0,d=c.length-1;v<d;v++)p=c[v],ir(p,D.length),D=D[p];return p=c[c.length-1],ir(p,D.length),D[p]=s,this};function i(c,s){if(!un(s))throw new TypeError("Invalid index");var l=s.isScalar();if(l)return c.get(s.min());var v=s.size();if(v.length!==c._size.length)throw new H(v.length,c._size.length);for(var d=s.min(),p=s.max(),g=0,D=c._size.length;g<D;g++)ir(d[g],c._size[g]),ir(p[g],c._size[g]);return new e(n(c._data,s,v.length,0),c._datatype)}function n(c,s,l,v){var d=v===l-1,p=s.dimension(v);return d?p.map(function(g){return ir(g,c.length),c[g]}).valueOf():p.map(function(g){ir(g,c.length);var D=c[g];return n(D,s,l,v+1)}).valueOf()}function u(c,s,l,v){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var d=s.size(),p=s.isScalar(),g;if(Fr(l)?(g=l.size(),l=l.valueOf()):g=wt(l),p){if(g.length!==0)throw new TypeError("Scalar expected");c.set(s.min(),l,v)}else{if(d.length<c._size.length)throw new H(d.length,c._size.length,"<");if(g.length<d.length){for(var D=0,y=0;d[D]===1&&g[D]===1;)D++;for(;d[D]===1;)y++,D++;l=Cu(l,d.length,y,g)}if(!an(d,g))throw new H(d,g,">");var m=s.max().map(function(S){return S+1});o(c,m,v);var _=d.length,F=0;a(c._data,s,l,_,F)}return c}function a(c,s,l,v,d){var p=d===v-1,g=s.dimension(d);p?g.forEach(function(D,y){ir(D),c[D]=l[y[0]]}):g.forEach(function(D,y){ir(D),a(c[D],s,l[y[0]],v,d+1)})}e.prototype.resize=function(c,s,l){if(!Se(c))throw new TypeError("Array or Matrix expected");var v=c.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),d=l?this.clone():this;return f(d,v,s)};function f(c,s,l){if(s.length===0){for(var v=c._data;or(v);)v=v[0];return v}return c._size=s.slice(0),c._data=fn(c._data,c._size,l),c}e.prototype.reshape=function(c,s){var l=s?this.clone():this;l._data=Ef(l._data,c);var v=l._size.reduce((d,p)=>d*p);return l._size=ei(c,v),l};function o(c,s,l){for(var v=c._size.slice(0),d=!1;v.length<s.length;)v.push(0),d=!0;for(var p=0,g=s.length;p<g;p++)s[p]>v[p]&&(v[p]=s[p],d=!0);d&&f(c,v,l)}e.prototype.clone=function(){var c=new e({data:nr(this._data),size:nr(this._size),datatype:this._datatype});return c},e.prototype.size=function(){return this._size.slice(0)},e.prototype.map=function(c){var s=this,l=hi(c),v=function g(D,y){return or(D)?D.map(function(m,_){return g(m,y.concat(_))}):l===1?c(D):l===2?c(D,y):c(D,y,s)},d=v(this._data,[]),p=this._datatype!==void 0?cn(d,ut):void 0;return new e(d,p)},e.prototype.forEach=function(c){var s=this,l=function v(d,p){or(d)?d.forEach(function(g,D){v(g,p.concat(D))}):c(d,p,s)};l(this._data,[])},e.prototype[Symbol.iterator]=function*(){var c=function*s(l,v){if(or(l))for(var d=0;d<l.length;d++)yield*s(l[d],v.concat(d));else yield{value:l,index:v}};yield*c(this._data,[])},e.prototype.rows=function(){var c=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var v of l)c.push(new e([v],this._datatype));return c},e.prototype.columns=function(){var c=this,s=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,d=function(D){var y=v.map(m=>[m[D]]);s.push(new e(y,c._datatype))},p=0;p<l[1];p++)d(p);return s},e.prototype.toArray=function(){return nr(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(c){return Lr(this._data,c)},e.prototype.toString=function(){return Lr(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(c){if(c){if(Nr(c)&&(c=c.toNumber()),!hr(c)||!dr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var s=c>0?c:0,l=c<0?-c:0,v=this._size[0],d=this._size[1],p=Math.min(v-l,d-s),g=[],D=0;D<p;D++)g[D]=this._data[D+l][D+s];return new e({data:g,size:[p],datatype:this._datatype})},e.diagonal=function(c,s,l,v){if(!or(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(b){if(Nr(b)&&(b=b.toNumber()),!hr(b)||!dr(b)||b<1)throw new Error("Size values must be positive integers");return b}),l){if(Nr(l)&&(l=l.toNumber()),!hr(l)||!dr(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var d=l>0?l:0,p=l<0?-l:0,g=c[0],D=c[1],y=Math.min(g-p,D-d),m;if(or(s)){if(s.length!==y)throw new Error("Invalid value array length");m=function(A){return s[A]}}else if(Fr(s)){var _=s.size();if(_.length!==1||_[0]!==y)throw new Error("Invalid matrix length");m=function(A){return s.get([A])}}else m=function(){return s};v||(v=Nr(m(0))?m(0).mul(0):0);var F=[];if(c.length>0){F=fn(F,c,v);for(var S=0;S<y;S++)F[S+p][S+d]=m(S)}return new e({data:F,size:[g,D]})},e.fromJSON=function(c){return new e(c)},e.prototype.swapRows=function(c,s){if(!hr(c)||!dr(c)||!hr(s)||!dr(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ir(c,this._size[0]),ir(s,this._size[0]),e._swapRows(c,s,this._data),this},e._swapRows=function(c,s,l){var v=l[c];l[c]=l[s],l[s]=v};function h(c){for(var s=0,l=c.length;s<l;s++){var v=c[s];or(v)?c[s]=h(v):v&&v.isMatrix===!0&&(c[s]=h(v.valueOf()))}return c}return e},{isClass:!0}),Hu="clone",Wc=["typed"],Yc=k(Hu,Wc,r=>{var{typed:t}=r;return t(Hu,{any:nr})});function Jc(r){var t=r.length,e=r[0].length,i,n,u=[];for(n=0;n<e;n++){var a=[];for(i=0;i<t;i++)a.push(r[i][n]);u.push(a)}return u}function Kc(r){for(var t=0;t<r.length;t++)if(Se(r[t]))return!0;return!1}function Xu(r,t){Fr(r)&&(r=r.valueOf());for(var e=0,i=r.length;e<i;e++){var n=r[e];Array.isArray(n)?Xu(n,t):t(n)}}function It(r,t,e){return r&&typeof r.map=="function"?r.map(function(i){return It(i,t)}):t(r)}function Hc(r,t,e){var i=Array.isArray(r)?wt(r):r.size();if(t<0||t>=i.length)throw new Bt(t,i.length);return Fr(r)?r.create(yn(r.valueOf(),t,e)):yn(r,t,e)}function yn(r,t,e){var i,n,u,a;if(t<=0)if(Array.isArray(r[0])){for(a=Jc(r),n=[],i=0;i<a.length;i++)n[i]=yn(a[i],t-1,e);return n}else{for(u=r[0],i=1;i<r.length;i++)u=e(u,r[i]);return u}else{for(n=[],i=0;i<r.length;i++)n[i]=yn(r[i],t-1,e);return n}}function Gu(r,t,e,i,n,u,a,f,o,h,c){var s=r._values,l=r._index,v=r._ptr,d,p,g,D;if(i)for(p=v[t],g=v[t+1],d=p;d<g;d++)D=l[d],e[D]!==u?(e[D]=u,a.push(D),h?(i[D]=o?f(s[d],c):f(c,s[d]),n[D]=u):i[D]=s[d]):(i[D]=o?f(s[d],i[D]):f(i[D],s[d]),n[D]=u);else for(p=v[t],g=v[t+1],d=p;d<g;d++)D=l[d],e[D]!==u?(e[D]=u,a.push(D)):n[D]=u}var Vu="isInteger",Xc=["typed"],Gc=k(Vu,Xc,r=>{var{typed:t}=r;return t(Vu,{number:dr,BigNumber:function(i){return i.isInt()},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":t.referToSelf(e=>i=>It(i,e))})}),Vc="number",Qu="number, number";function ra(r,t){return r+t}ra.signature=Qu;function ta(r,t){return r*t}ta.signature=Qu;function li(r){return lf(r)}li.signature=Vc;var Qc="number",ea="number, number";function na(r){return!r}na.signature=Qc;function ia(r,t){return!!r!=!!t}ia.signature=ea;function ua(r,t){return!!(r&&t)}ua.signature=ea;function ne(r,t,e){if(e==null)return r.eq(t);if(r.eq(t))return!0;if(r.isNaN()||t.isNaN())return!1;if(r.isFinite()&&t.isFinite()){var i=r.minus(t).abs();if(i.isZero())return!0;var n=r.constructor.max(r.abs(),t.abs());return i.lte(n.times(e))}return!1}function rh(r,t,e){return _t(r.re,t.re,e)&&_t(r.im,t.im,e)}var ie=k("compareUnits",["typed"],r=>{var{typed:t}=r;return{"Unit, Unit":t.referToSelf(e=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return t.find(e,[i.valueType(),n.valueType()])(i.value,n.value)})}}),_n="equalScalar",th=["typed","config"],eh=k(_n,th,r=>{var{typed:t,config:e}=r,i=ie({typed:t});return t(_n,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return _t(u,a,e.epsilon)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||ne(u,a,e.epsilon)},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return rh(u,a,e.epsilon)}},i)});k(_n,["typed","config"],r=>{var{typed:t,config:e}=r;return t(_n,{"number, number":function(n,u){return _t(n,u,e.epsilon)}})});var nh="SparseMatrix",ih=["typed","equalScalar","Matrix"],uh=k(nh,ih,r=>{var{typed:t,equalScalar:e,Matrix:i}=r;function n(p,g){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!it(g))throw new Error("Invalid datatype: "+g);if(Fr(p))u(this,p,g);else if(p&&or(p.index)&&or(p.ptr)&&or(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=g||p.datatype;else if(or(p))a(this,p,g);else{if(p)throw new TypeError("Unsupported type of data ("+ut(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function u(p,g,D){g.type==="SparseMatrix"?(p._values=g._values?nr(g._values):void 0,p._index=nr(g._index),p._ptr=nr(g._ptr),p._size=nr(g._size),p._datatype=D||g._datatype):a(p,g.valueOf(),D||g._datatype)}function a(p,g,D){p._values=[],p._index=[],p._ptr=[],p._datatype=D;var y=g.length,m=0,_=e,F=0;if(it(D)&&(_=t.find(e,[D,D])||e,F=t.convert(0,D)),y>0){var S=0;do{p._ptr.push(p._index.length);for(var b=0;b<y;b++){var A=g[b];if(or(A)){if(S===0&&m<A.length&&(m=A.length),S<A.length){var C=A[S];_(C,F)||(p._values.push(C),p._index.push(b))}}else S===0&&m<1&&(m=1),_(A,F)||(p._values.push(A),p._index.push(b))}S++}while(S<m)}p._ptr.push(p._index.length),p._size=[y,m]}n.prototype=new i,n.prototype.createSparseMatrix=function(p,g){return new n(p,g)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return cn(this._values,ut)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(p,g){return new n(p,g)},n.prototype.density=function(){var p=this._size[0],g=this._size[1];return p!==0&&g!==0?this._index.length/(p*g):0},n.prototype.subset=function(p,g,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,p);case 2:case 3:return o(this,p,g,D);default:throw new SyntaxError("Wrong number of arguments")}};function f(p,g){if(!un(g))throw new TypeError("Invalid index");var D=g.isScalar();if(D)return p.get(g.min());var y=g.size();if(y.length!==p._size.length)throw new H(y.length,p._size.length);var m,_,F,S,b=g.min(),A=g.max();for(m=0,_=p._size.length;m<_;m++)ir(b[m],p._size[m]),ir(A[m],p._size[m]);var C=p._values,B=p._index,N=p._ptr,$=g.dimension(0),j=g.dimension(1),I=[],Z=[];$.forEach(function(V,_r){Z[V]=_r[0],I[V]=!0});var T=C?[]:void 0,tr=[],er=[];return j.forEach(function(V){for(er.push(tr.length),F=N[V],S=N[V+1];F<S;F++)m=B[F],I[m]===!0&&(tr.push(Z[m]),T&&T.push(C[F]))}),er.push(tr.length),new n({values:T,index:tr,ptr:er,size:y,datatype:p._datatype})}function o(p,g,D,y){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var m=g.size(),_=g.isScalar(),F;if(Fr(D)?(F=D.size(),D=D.toArray()):F=wt(D),_){if(F.length!==0)throw new TypeError("Scalar expected");p.set(g.min(),D,y)}else{if(m.length!==1&&m.length!==2)throw new H(m.length,p._size.length,"<");if(F.length<m.length){for(var S=0,b=0;m[S]===1&&F[S]===1;)S++;for(;m[S]===1;)b++,S++;D=Cu(D,m.length,b,F)}if(!an(m,F))throw new H(m,F,">");if(m.length===1){var A=g.dimension(0);A.forEach(function(N,$){ir(N),p.set([N,0],D[$[0]],y)})}else{var C=g.dimension(0),B=g.dimension(1);C.forEach(function(N,$){ir(N),B.forEach(function(j,I){ir(j),p.set([N,j],D[$[0]][I[0]],y)})})}}return p}n.prototype.get=function(p){if(!or(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new H(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=p[0],D=p[1];ir(g,this._size[0]),ir(D,this._size[1]);var y=h(g,this._ptr[D],this._ptr[D+1],this._index);return y<this._ptr[D+1]&&this._index[y]===g?this._values[y]:0},n.prototype.set=function(p,g,D){if(!or(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new H(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=p[0],m=p[1],_=this._size[0],F=this._size[1],S=e,b=0;it(this._datatype)&&(S=t.find(e,[this._datatype,this._datatype])||e,b=t.convert(0,this._datatype)),(y>_-1||m>F-1)&&(l(this,Math.max(y+1,_),Math.max(m+1,F),D),_=this._size[0],F=this._size[1]),ir(y,_),ir(m,F);var A=h(y,this._ptr[m],this._ptr[m+1],this._index);return A<this._ptr[m+1]&&this._index[A]===y?S(g,b)?c(A,m,this._values,this._index,this._ptr):this._values[A]=g:S(g,b)||s(A,y,m,g,this._values,this._index,this._ptr),this};function h(p,g,D,y){if(D-g===0)return D;for(var m=g;m<D;m++)if(y[m]===p)return m;return g}function c(p,g,D,y,m){D.splice(p,1),y.splice(p,1);for(var _=g+1;_<m.length;_++)m[_]--}function s(p,g,D,y,m,_,F){m.splice(p,0,y),_.splice(p,0,g);for(var S=D+1;S<F.length;S++)F[S]++}n.prototype.resize=function(p,g,D){if(!Se(p))throw new TypeError("Array or Matrix expected");var y=p.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(_){if(!hr(_)||!dr(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Lr(y)+")")});var m=D?this.clone():this;return l(m,y[0],y[1],g)};function l(p,g,D,y){var m=y||0,_=e,F=0;it(p._datatype)&&(_=t.find(e,[p._datatype,p._datatype])||e,F=t.convert(0,p._datatype),m=t.convert(m,p._datatype));var S=!_(m,F),b=p._size[0],A=p._size[1],C,B,N;if(D>A){for(B=A;B<D;B++)if(p._ptr[B]=p._values.length,S)for(C=0;C<b;C++)p._values.push(m),p._index.push(C);p._ptr[D]=p._values.length}else D<A&&(p._ptr.splice(D+1,A-D),p._values.splice(p._ptr[D],p._values.length),p._index.splice(p._ptr[D],p._index.length));if(A=D,g>b){if(S){var $=0;for(B=0;B<A;B++){p._ptr[B]=p._ptr[B]+$,N=p._ptr[B+1]+$;var j=0;for(C=b;C<g;C++,j++)p._values.splice(N+j,0,m),p._index.splice(N+j,0,C),$++}p._ptr[A]=p._values.length}}else if(g<b){var I=0;for(B=0;B<A;B++){p._ptr[B]=p._ptr[B]-I;var Z=p._ptr[B],T=p._ptr[B+1]-I;for(N=Z;N<T;N++)C=p._index[N],C>g-1&&(p._values.splice(N,1),p._index.splice(N,1),I++)}p._ptr[B]=p._values.length}return p._size[0]=g,p._size[1]=D,p}n.prototype.reshape=function(p,g){if(!or(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(V){if(!hr(V)||!dr(V)||V<=-2||V===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Lr(p)+")")});var D=this._size[0]*this._size[1];p=ei(p,D);var y=p[0]*p[1];if(D!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var m=g?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return m;for(var _=[],F=0;F<m._ptr.length;F++)for(var S=0;S<m._ptr[F+1]-m._ptr[F];S++)_.push(F);for(var b=m._values.slice(),A=m._index.slice(),C=0;C<m._index.length;C++){var B=A[C],N=_[C],$=B*m._size[1]+N;_[C]=$%p[1],A[C]=Math.floor($/p[1])}m._values.length=0,m._index.length=0,m._ptr.length=p[1]+1,m._size=p.slice();for(var j=0;j<m._ptr.length;j++)m._ptr[j]=0;for(var I=0;I<b.length;I++){var Z=A[I],T=_[I],tr=b[I],er=h(Z,m._ptr[T],m._ptr[T+1],m._index);s(er,Z,T,tr,m._values,m._index,m._ptr)}return m},n.prototype.clone=function(){var p=new n({values:this._values?nr(this._values):void 0,index:nr(this._index),ptr:nr(this._ptr),size:nr(this._size),datatype:this._datatype});return p},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(p,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,y=this._size[0],m=this._size[1],_=hi(p),F=function(b,A,C){return _===1?p(b):_===2?p(b,[A,C]):p(b,[A,C],D)};return v(this,0,y-1,0,m-1,F,g)};function v(p,g,D,y,m,_,F){var S=[],b=[],A=[],C=e,B=0;it(p._datatype)&&(C=t.find(e,[p._datatype,p._datatype])||e,B=t.convert(0,p._datatype));for(var N=function(Mt,Yn,iu){Mt=_(Mt,Yn,iu),C(Mt,B)||(S.push(Mt),b.push(Yn))},$=y;$<=m;$++){A.push(S.length);var j=p._ptr[$],I=p._ptr[$+1];if(F)for(var Z=j;Z<I;Z++){var T=p._index[Z];T>=g&&T<=D&&N(p._values[Z],T-g,$-y)}else{for(var tr={},er=j;er<I;er++){var V=p._index[er];tr[V]=p._values[er]}for(var _r=g;_r<=D;_r++){var rn=_r in tr?tr[_r]:0;N(rn,_r-g,$-y)}}}return A.push(S.length),new n({values:S,index:b,ptr:A,size:[D-g+1,m-y+1]})}n.prototype.forEach=function(p,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,y=this._size[0],m=this._size[1],_=0;_<m;_++){var F=this._ptr[_],S=this._ptr[_+1];if(g)for(var b=F;b<S;b++){var A=this._index[b];p(this._values[b],[A,_],D)}else{for(var C={},B=F;B<S;B++){var N=this._index[B];C[N]=this._values[B]}for(var $=0;$<y;$++){var j=$ in C?C[$]:0;p(j,[$,_],D)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],g=0;g<p;g++)for(var D=this._ptr[g],y=this._ptr[g+1],m=D;m<y;m++){var _=this._index[m];yield{value:this._values[m],index:[_,g]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(p,g,D,y,m){var _=y[0],F=y[1],S=[],b,A;for(b=0;b<_;b++)for(S[b]=[],A=0;A<F;A++)S[b][A]=0;for(A=0;A<F;A++)for(var C=D[A],B=D[A+1],N=C;N<B;N++)b=g[N],S[b][A]=p?m?nr(p[N]):p[N]:1;return S}return n.prototype.format=function(p){for(var g=this._size[0],D=this._size[1],y=this.density(),m="Sparse Matrix ["+Lr(g,p)+" x "+Lr(D,p)+"] density: "+Lr(y,p)+`
`,_=0;_<D;_++)for(var F=this._ptr[_],S=this._ptr[_+1],b=F;b<S;b++){var A=this._index[b];m+=`
    (`+Lr(A,p)+", "+Lr(_,p)+") ==> "+(this._values?Lr(this._values[b],p):"X")}return m},n.prototype.toString=function(){return Lr(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(p){if(p){if(Nr(p)&&(p=p.toNumber()),!hr(p)||!dr(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var g=p>0?p:0,D=p<0?-p:0,y=this._size[0],m=this._size[1],_=Math.min(y-D,m-g),F=[],S=[],b=[];b[0]=0;for(var A=g;A<m&&F.length<_;A++)for(var C=this._ptr[A],B=this._ptr[A+1],N=C;N<B;N++){var $=this._index[N];if($===A-g+D){F.push(this._values[N]),S[F.length-1]=$-D;break}}return b.push(F.length),new n({values:F,index:S,ptr:b,size:[_,1]})},n.fromJSON=function(p){return new n(p)},n.diagonal=function(p,g,D,y,m){if(!or(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(V){if(Nr(V)&&(V=V.toNumber()),!hr(V)||!dr(V)||V<1)throw new Error("Size values must be positive integers");return V}),D){if(Nr(D)&&(D=D.toNumber()),!hr(D)||!dr(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var _=e,F=0;it(m)&&(_=t.find(e,[m,m])||e,F=t.convert(0,m));var S=D>0?D:0,b=D<0?-D:0,A=p[0],C=p[1],B=Math.min(A-b,C-S),N;if(or(g)){if(g.length!==B)throw new Error("Invalid value array length");N=function(_r){return g[_r]}}else if(Fr(g)){var $=g.size();if($.length!==1||$[0]!==B)throw new Error("Invalid matrix length");N=function(_r){return g.get([_r])}}else N=function(){return g};for(var j=[],I=[],Z=[],T=0;T<C;T++){Z.push(j.length);var tr=T-S;if(tr>=0&&tr<B){var er=N(tr);_(er,F)||(I.push(tr+b),j.push(er))}}return Z.push(j.length),new n({values:j,index:I,ptr:Z,size:[A,C]})},n.prototype.swapRows=function(p,g){if(!hr(p)||!dr(p)||!hr(g)||!dr(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ir(p,this._size[0]),ir(g,this._size[0]),n._swapRows(p,g,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(p,g,D,y,m){for(var _=y[p],F=y[p+1],S=_;S<F;S++)m(D[S],g[S])},n._swapRows=function(p,g,D,y,m,_){for(var F=0;F<D;F++){var S=_[F],b=_[F+1],A=h(p,S,b,m),C=h(g,S,b,m);if(A<b&&C<b&&m[A]===p&&m[C]===g){if(y){var B=y[A];y[A]=y[C],y[C]=B}continue}if(A<b&&m[A]===p&&(C>=b||m[C]!==g)){var N=y?y[A]:void 0;m.splice(C,0,g),y&&y.splice(C,0,N),m.splice(C<=A?A+1:A,1),y&&y.splice(C<=A?A+1:A,1);continue}if(C<b&&m[C]===g&&(A>=b||m[A]!==p)){var $=y?y[C]:void 0;m.splice(A,0,p),y&&y.splice(A,0,$),m.splice(A<=C?C+1:C,1),y&&y.splice(A<=C?C+1:C,1)}}},n},{isClass:!0}),ah="number",oh=["typed"];function sh(r){var t=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var e={"0b":2,"0o":8,"0x":16}[t[1]],i=t[2],n=t[3];return{input:r,radix:e,integerPart:i,fractionalPart:n}}else return null}function fh(r){for(var t=parseInt(r.integerPart,r.radix),e=0,i=0;i<r.fractionalPart.length;i++){var n=parseInt(r.fractionalPart[i],r.radix);e+=n/Math.pow(r.radix,i+1)}var u=t+e;if(isNaN(u))throw new SyntaxError('String "'+r.input+'" is no valid number');return u}var ch=k(ah,oh,r=>{var{typed:t}=r,e=t("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var u=sh(n);if(u)return fh(u);var a=0,f=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);f&&(a=Number(f[2]),n=f[1]);var o=Number(n);if(isNaN(o))throw new SyntaxError('String "'+n+'" is no valid number');if(f){if(o>2**a-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));o>=2**(a-1)&&(o=o-2**a)}return o},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:function(n){throw new Error("Second argument with valueless unit expected")},null:function(n){return 0},"Unit, string | Unit":function(n,u){return n.toNumber(u)},"Array | Matrix":t.referToSelf(i=>n=>It(n,i))});return e.fromJSON=function(i){return parseFloat(i.value)},e}),hh="bignumber",lh=["typed","BigNumber"],ph=k(hh,lh,r=>{var{typed:t,BigNumber:e}=r;return t("bignumber",{"":function(){return new e(0)},number:function(n){return new e(n+"")},string:function(n){var u=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],f=e(u[1]),o=new e(2).pow(Number(a));if(f.gt(o.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var h=new e(2).pow(Number(a)-1);return f.gte(h)?f.sub(o):f}return new e(n)},BigNumber:function(n){return n},Fraction:function(n){return new e(n.n).div(n.d).times(n.s)},null:function(n){return new e(0)},"Array | Matrix":t.referToSelf(i=>n=>It(n,i))})}),vh="complex",dh=["typed","Complex"],gh=k(vh,dh,r=>{var{typed:t,Complex:e}=r;return t("complex",{"":function(){return e.ZERO},number:function(n){return new e(n,0)},"number, number":function(n,u){return new e(n,u)},"BigNumber, BigNumber":function(n,u){return new e(n.toNumber(),u.toNumber())},Fraction:function(n){return new e(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return e(n)},null:function(n){return e(0)},Object:function(n){if("re"in n&&"im"in n)return new e(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new e(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(i=>n=>It(n,i))})}),Dh="fraction",mh=["typed","Fraction"],yh=k(Dh,mh,r=>{var{typed:t,Fraction:e}=r;return t("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new e(n)},string:function(n){return new e(n)},"number, number":function(n,u){return new e(n,u)},null:function(n){return new e(0)},BigNumber:function(n){return new e(n.toString())},Fraction:function(n){return n},Object:function(n){return new e(n)},"Array | Matrix":t.referToSelf(i=>n=>It(n,i))})}),aa="matrix",_h=["typed","Matrix","DenseMatrix","SparseMatrix"],wh=k(aa,_h,r=>{var{typed:t,Matrix:e,DenseMatrix:i,SparseMatrix:n}=r;return t(aa,{"":function(){return u([])},string:function(f){return u([],f)},"string, string":function(f,o){return u([],f,o)},Array:function(f){return u(f)},Matrix:function(f){return u(f,f.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,f,o){if(f==="dense"||f==="default"||f===void 0)return new i(a,o);if(f==="sparse")return new n(a,o);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),oa="addScalar",Ah=["typed"],Eh=k(oa,Ah,r=>{var{typed:t}=r;return t(oa,{"number, number":ra,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":t.referToSelf(e=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=t.find(e,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),Fh="matAlgo11xS0s",Ch=["typed","equalScalar"],sa=k(Fh,Ch,r=>{var{typed:t,equalScalar:e}=r;return function(n,u,a,f){var o=n._values,h=n._index,c=n._ptr,s=n._size,l=n._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],d=s[1],p,g=e,D=0,y=a;typeof l=="string"&&(p=l,g=t.find(e,[p,p]),D=t.convert(0,p),u=t.convert(u,p),y=t.find(a,[p,p]));for(var m=[],_=[],F=[],S=0;S<d;S++){F[S]=_.length;for(var b=c[S],A=c[S+1],C=b;C<A;C++){var B=h[C],N=f?y(u,o[C]):y(o[C],u);g(N,D)||(_.push(B),m.push(N))}}return F[d]=_.length,n.createSparseMatrix({values:m,index:_,ptr:F,size:[v,d],datatype:p})}}),Sh="matAlgo12xSfs",bh=["typed","DenseMatrix"],ue=k(Sh,bh,r=>{var{typed:t,DenseMatrix:e}=r;return function(n,u,a,f){var o=n._values,h=n._index,c=n._ptr,s=n._size,l=n._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],d=s[1],p,g=a;typeof l=="string"&&(p=l,u=t.convert(u,p),g=t.find(a,[p,p]));for(var D=[],y=[],m=[],_=0;_<d;_++){for(var F=_+1,S=c[_],b=c[_+1],A=S;A<b;A++){var C=h[A];y[C]=o[A],m[C]=F}for(var B=0;B<v;B++)_===0&&(D[B]=[]),m[B]===F?D[B][_]=f?g(u,y[B]):g(y[B],u):D[B][_]=f?g(u,0):g(0,u)}return new e({data:D,size:[v,d],datatype:p})}}),Mh="matAlgo14xDs",Bh=["typed"],fa=k(Mh,Bh,r=>{var{typed:t}=r;return function(n,u,a,f){var o=n._data,h=n._size,c=n._datatype,s,l=a;typeof c=="string"&&(s=c,u=t.convert(u,s),l=t.find(a,[s,s]));var v=h.length>0?e(l,0,h,h[0],o,u,f):[];return n.createDenseMatrix({data:v,size:nr(h),datatype:s})};function e(i,n,u,a,f,o,h){var c=[];if(n===u.length-1)for(var s=0;s<a;s++)c[s]=h?i(o,f[s]):i(f[s],o);else for(var l=0;l<a;l++)c[l]=e(i,n+1,u,u[n+1],f[l],o,h);return c}}),Nh="matAlgo01xDSid",xh=["typed"],zh=k(Nh,xh,r=>{var{typed:t}=r;return function(i,n,u,a){var f=i._data,o=i._size,h=i._datatype,c=n._values,s=n._index,l=n._ptr,v=n._size,d=n._datatype;if(o.length!==v.length)throw new H(o.length,v.length);if(o[0]!==v[0]||o[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+v+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=o[0],g=o[1],D=typeof h=="string"&&h===d?h:void 0,y=D?t.find(u,[D,D]):u,m,_,F=[];for(m=0;m<p;m++)F[m]=[];var S=[],b=[];for(_=0;_<g;_++){for(var A=_+1,C=l[_],B=l[_+1],N=C;N<B;N++)m=s[N],S[m]=a?y(c[N],f[m][_]):y(f[m][_],c[N]),b[m]=A;for(m=0;m<p;m++)b[m]===A?F[m][_]=S[m]:F[m][_]=f[m][_]}return i.createDenseMatrix({data:F,size:[p,g],datatype:D})}}),Oh="matAlgo04xSidSid",Ih=["typed","equalScalar"],Th=k(Oh,Ih,r=>{var{typed:t,equalScalar:e}=r;return function(n,u,a){var f=n._values,o=n._index,h=n._ptr,c=n._size,s=n._datatype,l=u._values,v=u._index,d=u._ptr,p=u._size,g=u._datatype;if(c.length!==p.length)throw new H(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var D=c[0],y=c[1],m,_=e,F=0,S=a;typeof s=="string"&&s===g&&(m=s,_=t.find(e,[m,m]),F=t.convert(0,m),S=t.find(a,[m,m]));var b=f&&l?[]:void 0,A=[],C=[],B=f&&l?[]:void 0,N=f&&l?[]:void 0,$=[],j=[],I,Z,T,tr,er;for(Z=0;Z<y;Z++){C[Z]=A.length;var V=Z+1;for(tr=h[Z],er=h[Z+1],T=tr;T<er;T++)I=o[T],A.push(I),$[I]=V,B&&(B[I]=f[T]);for(tr=d[Z],er=d[Z+1],T=tr;T<er;T++)if(I=v[T],$[I]===V){if(B){var _r=S(B[I],l[T]);_(_r,F)?$[I]=null:B[I]=_r}}else A.push(I),j[I]=V,N&&(N[I]=l[T]);if(B&&N)for(T=C[Z];T<A.length;)I=A[T],$[I]===V?(b[T]=B[I],T++):j[I]===V?(b[T]=N[I],T++):A.splice(T,1)}return C[y]=A.length,n.createSparseMatrix({values:b,index:A,ptr:C,size:[D,y],datatype:m})}}),qh="matAlgo10xSids",$h=["typed","DenseMatrix"],Ph=k(qh,$h,r=>{var{typed:t,DenseMatrix:e}=r;return function(n,u,a,f){var o=n._values,h=n._index,c=n._ptr,s=n._size,l=n._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=s[0],d=s[1],p,g=a;typeof l=="string"&&(p=l,u=t.convert(u,p),g=t.find(a,[p,p]));for(var D=[],y=[],m=[],_=0;_<d;_++){for(var F=_+1,S=c[_],b=c[_+1],A=S;A<b;A++){var C=h[A];y[C]=o[A],m[C]=F}for(var B=0;B<v;B++)_===0&&(D[B]=[]),m[B]===F?D[B][_]=f?g(u,y[B]):g(y[B],u):D[B][_]=u}return new e({data:D,size:[v,d],datatype:p})}}),Rh="matAlgo13xDD",Lh=["typed"],Uh=k(Rh,Lh,r=>{var{typed:t}=r;return function(n,u,a){var f=n._data,o=n._size,h=n._datatype,c=u._data,s=u._size,l=u._datatype,v=[];if(o.length!==s.length)throw new H(o.length,s.length);for(var d=0;d<o.length;d++){if(o[d]!==s[d])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+s+")");v[d]=o[d]}var p,g=a;typeof h=="string"&&h===l&&(p=h,g=t.find(a,[p,p]));var D=v.length>0?e(g,0,v,v[0],f,c):[];return n.createDenseMatrix({data:D,size:v,datatype:p})};function e(i,n,u,a,f,o){var h=[];if(n===u.length-1)for(var c=0;c<a;c++)h[c]=i(f[c],o[c]);else for(var s=0;s<a;s++)h[s]=e(i,n+1,u,u[n+1],f[s],o[s]);return h}}),jh="broadcast",Zh=["concat"],kh=k(jh,Zh,r=>{var{concat:t}=r;return function(u,a){var f=Math.max(u._size.length,a._size.length);if(u._size.length===a._size.length&&u._size.every((g,D)=>g===a._size[D]))return[u,a];for(var o=e(u._size,f,0),h=e(a._size,f,0),c=[],s=0;s<f;s++)c[s]=Math.max(o[s],h[s]);for(var l=0;l<f;l++)n(o,c,l),n(h,c,l);var v=u.clone(),d=a.clone();v._size.length<f?v.reshape(e(v._size,f,1)):d._size.length<f&&d.reshape(e(d._size,f,1));for(var p=0;p<f;p++)v._size[p]<c[p]&&(v=i(v,c[p],p)),d._size[p]<c[p]&&(d=i(d,c[p],p));return[v,d]};function e(u,a,f){return[...Array(a-u.length).fill(f),...u]}function i(u,a,f){return t(...Array(a).fill(u),f)}function n(u,a,f){if(u[f]<a[f]&u[f]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(u,") not possible to broadcast dimension ").concat(f," with size ").concat(u[f]," to size ").concat(a[f]))}}),Wh="matrixAlgorithmSuite",Yh=["typed","matrix","concat"],Ft=k(Wh,Yh,r=>{var{typed:t,matrix:e,concat:i}=r,n=Uh({typed:t}),u=fa({typed:t}),a=kh({concat:i});return function(o){var h=o.elop,c=o.SD||o.DS,s;h?(s={"DenseMatrix, DenseMatrix":(p,g)=>n(...a(p,g),h),"Array, Array":(p,g)=>n(...a(e(p),e(g)),h).valueOf(),"Array, DenseMatrix":(p,g)=>n(...a(e(p),g),h),"DenseMatrix, Array":(p,g)=>n(...a(p,e(g)),h)},o.SS&&(s["SparseMatrix, SparseMatrix"]=(p,g)=>o.SS(...a(p,g),h,!1)),o.DS&&(s["DenseMatrix, SparseMatrix"]=(p,g)=>o.DS(...a(p,g),h,!1),s["Array, SparseMatrix"]=(p,g)=>o.DS(...a(e(p),g),h,!1)),c&&(s["SparseMatrix, DenseMatrix"]=(p,g)=>c(...a(g,p),h,!0),s["SparseMatrix, Array"]=(p,g)=>c(...a(e(g),p),h,!0))):(s={"DenseMatrix, DenseMatrix":t.referToSelf(p=>(g,D)=>n(...a(g,D),p)),"Array, Array":t.referToSelf(p=>(g,D)=>n(...a(e(g),e(D)),p).valueOf()),"Array, DenseMatrix":t.referToSelf(p=>(g,D)=>n(...a(e(g),D),p)),"DenseMatrix, Array":t.referToSelf(p=>(g,D)=>n(...a(g,e(D)),p))},o.SS&&(s["SparseMatrix, SparseMatrix"]=t.referToSelf(p=>(g,D)=>o.SS(...a(g,D),p,!1))),o.DS&&(s["DenseMatrix, SparseMatrix"]=t.referToSelf(p=>(g,D)=>o.DS(...a(g,D),p,!1)),s["Array, SparseMatrix"]=t.referToSelf(p=>(g,D)=>o.DS(...a(e(g),D),p,!1))),c&&(s["SparseMatrix, DenseMatrix"]=t.referToSelf(p=>(g,D)=>c(...a(D,g),p,!0)),s["SparseMatrix, Array"]=t.referToSelf(p=>(g,D)=>c(...a(e(D),g),p,!0))));var l=o.scalar||"any",v=o.Ds||o.Ss;v&&(h?(s["DenseMatrix,"+l]=(p,g)=>u(p,g,h,!1),s[l+", DenseMatrix"]=(p,g)=>u(g,p,h,!0),s["Array,"+l]=(p,g)=>u(e(p),g,h,!1).valueOf(),s[l+", Array"]=(p,g)=>u(e(g),p,h,!0).valueOf()):(s["DenseMatrix,"+l]=t.referToSelf(p=>(g,D)=>u(g,D,p,!1)),s[l+", DenseMatrix"]=t.referToSelf(p=>(g,D)=>u(D,g,p,!0)),s["Array,"+l]=t.referToSelf(p=>(g,D)=>u(e(g),D,p,!1).valueOf()),s[l+", Array"]=t.referToSelf(p=>(g,D)=>u(e(D),g,p,!0).valueOf())));var d=o.sS!==void 0?o.sS:o.Ss;return h?(o.Ss&&(s["SparseMatrix,"+l]=(p,g)=>o.Ss(p,g,h,!1)),d&&(s[l+", SparseMatrix"]=(p,g)=>d(g,p,h,!0))):(o.Ss&&(s["SparseMatrix,"+l]=t.referToSelf(p=>(g,D)=>o.Ss(g,D,p,!1))),d&&(s[l+", SparseMatrix"]=t.referToSelf(p=>(g,D)=>d(D,g,p,!0)))),h&&h.signatures&&of(s,h.signatures),s}}),Jh="matAlgo02xDS0",Kh=["typed","equalScalar"],ca=k(Jh,Kh,r=>{var{typed:t,equalScalar:e}=r;return function(n,u,a,f){var o=n._data,h=n._size,c=n._datatype,s=u._values,l=u._index,v=u._ptr,d=u._size,p=u._datatype;if(h.length!==d.length)throw new H(h.length,d.length);if(h[0]!==d[0]||h[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+d+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=h[0],D=h[1],y,m=e,_=0,F=a;typeof c=="string"&&c===p&&(y=c,m=t.find(e,[y,y]),_=t.convert(0,y),F=t.find(a,[y,y]));for(var S=[],b=[],A=[],C=0;C<D;C++){A[C]=b.length;for(var B=v[C],N=v[C+1],$=B;$<N;$++){var j=l[$],I=f?F(s[$],o[j][C]):F(o[j][C],s[$]);m(I,_)||(b.push(j),S.push(I))}}return A[D]=b.length,u.createSparseMatrix({values:S,index:b,ptr:A,size:[g,D],datatype:y})}}),Hh="matAlgo06xS0S0",Xh=["typed","equalScalar"],Gh=k(Hh,Xh,r=>{var{typed:t,equalScalar:e}=r;return function(n,u,a){var f=n._values,o=n._size,h=n._datatype,c=u._values,s=u._size,l=u._datatype;if(o.length!==s.length)throw new H(o.length,s.length);if(o[0]!==s[0]||o[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+s+")");var v=o[0],d=o[1],p,g=e,D=0,y=a;typeof h=="string"&&h===l&&(p=h,g=t.find(e,[p,p]),D=t.convert(0,p),y=t.find(a,[p,p]));for(var m=f&&c?[]:void 0,_=[],F=[],S=m?[]:void 0,b=[],A=[],C=0;C<d;C++){F[C]=_.length;var B=C+1;if(Gu(n,C,b,S,A,B,_,y),Gu(u,C,b,S,A,B,_,y),S)for(var N=F[C];N<_.length;){var $=_[N];if(A[$]===B){var j=S[$];g(j,D)?_.splice(N,1):(m.push(j),N++)}else _.splice(N,1)}else for(var I=F[C];I<_.length;){var Z=_[I];A[Z]!==B?_.splice(I,1):I++}}return F[d]=_.length,n.createSparseMatrix({values:m,index:_,ptr:F,size:[v,d],datatype:p})}}),Vh="matAlgo03xDSf",Qh=["typed"],ae=k(Vh,Qh,r=>{var{typed:t}=r;return function(i,n,u,a){var f=i._data,o=i._size,h=i._datatype,c=n._values,s=n._index,l=n._ptr,v=n._size,d=n._datatype;if(o.length!==v.length)throw new H(o.length,v.length);if(o[0]!==v[0]||o[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+v+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=o[0],g=o[1],D,y=0,m=u;typeof h=="string"&&h===d&&(D=h,y=t.convert(0,D),m=t.find(u,[D,D]));for(var _=[],F=0;F<p;F++)_[F]=[];for(var S=[],b=[],A=0;A<g;A++){for(var C=A+1,B=l[A],N=l[A+1],$=B;$<N;$++){var j=s[$];S[j]=a?m(c[$],f[j][A]):m(f[j][A],c[$]),b[j]=C}for(var I=0;I<p;I++)b[I]===C?_[I][A]=S[I]:_[I][A]=a?m(y,f[I][A]):m(f[I][A],y)}return i.createDenseMatrix({data:_,size:[p,g],datatype:D})}}),r0="matAlgo05xSfSf",t0=["typed","equalScalar"],e0=k(r0,t0,r=>{var{typed:t,equalScalar:e}=r;return function(n,u,a){var f=n._values,o=n._index,h=n._ptr,c=n._size,s=n._datatype,l=u._values,v=u._index,d=u._ptr,p=u._size,g=u._datatype;if(c.length!==p.length)throw new H(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var D=c[0],y=c[1],m,_=e,F=0,S=a;typeof s=="string"&&s===g&&(m=s,_=t.find(e,[m,m]),F=t.convert(0,m),S=t.find(a,[m,m]));var b=f&&l?[]:void 0,A=[],C=[],B=b?[]:void 0,N=b?[]:void 0,$=[],j=[],I,Z,T,tr;for(Z=0;Z<y;Z++){C[Z]=A.length;var er=Z+1;for(T=h[Z],tr=h[Z+1];T<tr;T++)I=o[T],A.push(I),$[I]=er,B&&(B[I]=f[T]);for(T=d[Z],tr=d[Z+1];T<tr;T++)I=v[T],$[I]!==er&&A.push(I),j[I]=er,N&&(N[I]=l[T]);if(b)for(T=C[Z];T<A.length;){I=A[T];var V=$[I],_r=j[I];if(V===er||_r===er){var rn=V===er?B[I]:F,Wn=_r===er?N[I]:F,Mt=S(rn,Wn);_(Mt,F)?A.splice(T,1):(b.push(Mt),T++)}}}return C[y]=A.length,n.createSparseMatrix({values:b,index:A,ptr:C,size:[D,y],datatype:m})}}),n0="multiplyScalar",i0=["typed"],u0=k(n0,i0,r=>{var{typed:t}=r;return t("multiplyScalar",{"number, number":ta,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(e,i)=>i.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,i)=>e.multiply(i)})}),ha="sign",a0=["typed","BigNumber","Fraction","complex"],o0=k(ha,a0,r=>{var{typed:t,BigNumber:e,complex:i,Fraction:n}=r;return t(ha,{number:li,Complex:function(a){return a.im===0?i(li(a.re)):a.sign()},BigNumber:function(a){return new e(a.cmp(0))},Fraction:function(a){return new n(a.s,1)},"Array | Matrix":t.referToSelf(u=>a=>It(a,u)),Unit:t.referToSelf(u=>a=>{if(!a._isDerived()&&a.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return t.find(u,a.valueType())(a.value)})})}),s0="matAlgo09xS0Sf",f0=["typed","equalScalar"],c0=k(s0,f0,r=>{var{typed:t,equalScalar:e}=r;return function(n,u,a){var f=n._values,o=n._index,h=n._ptr,c=n._size,s=n._datatype,l=u._values,v=u._index,d=u._ptr,p=u._size,g=u._datatype;if(c.length!==p.length)throw new H(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var D=c[0],y=c[1],m,_=e,F=0,S=a;typeof s=="string"&&s===g&&(m=s,_=t.find(e,[m,m]),F=t.convert(0,m),S=t.find(a,[m,m]));var b=f&&l?[]:void 0,A=[],C=[],B=b?[]:void 0,N=[],$,j,I,Z,T;for(j=0;j<y;j++){C[j]=A.length;var tr=j+1;if(B)for(Z=d[j],T=d[j+1],I=Z;I<T;I++)$=v[I],N[$]=tr,B[$]=l[I];for(Z=h[j],T=h[j+1],I=Z;I<T;I++)if($=o[I],B){var er=N[$]===tr?B[$]:F,V=S(f[I],er);_(V,F)||(A.push($),b.push(V))}else A.push($)}return C[y]=A.length,n.createSparseMatrix({values:b,index:A,ptr:C,size:[D,y],datatype:m})}}),la="dotMultiply",h0=["typed","matrix","equalScalar","multiplyScalar","concat"],l0=k(la,h0,r=>{var{typed:t,matrix:e,equalScalar:i,multiplyScalar:n,concat:u}=r,a=ca({typed:t,equalScalar:i}),f=c0({typed:t,equalScalar:i}),o=sa({typed:t,equalScalar:i}),h=Ft({typed:t,matrix:e,concat:u});return t(la,h({elop:n,SS:f,DS:a,Ss:o}))}),p0="matAlgo07xSSf",v0=["typed","DenseMatrix"],Ne=k(p0,v0,r=>{var{typed:t,DenseMatrix:e}=r;return function(u,a,f){var o=u._size,h=u._datatype,c=a._size,s=a._datatype;if(o.length!==c.length)throw new H(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var l=o[0],v=o[1],d,p=0,g=f;typeof h=="string"&&h===s&&(d=h,p=t.convert(0,d),g=t.find(f,[d,d]));var D,y,m=[];for(D=0;D<l;D++)m[D]=[];var _=[],F=[],S=[],b=[];for(y=0;y<v;y++){var A=y+1;for(i(u,y,S,_,A),i(a,y,b,F,A),D=0;D<l;D++){var C=S[D]===A?_[D]:p,B=b[D]===A?F[D]:p;m[D][y]=g(C,B)}}return new e({data:m,size:[l,v],datatype:d})};function i(n,u,a,f,o){for(var h=n._values,c=n._index,s=n._ptr,l=s[u],v=s[u+1];l<v;l++){var d=c[l];a[d]=o,f[d]=h[l]}}}),pa="not",d0=["typed"],g0=k(pa,d0,r=>{var{typed:t}=r;return t(pa,{"null | undefined":()=>!0,number:na,Complex:function(i){return i.re===0&&i.im===0},BigNumber:function(i){return i.isZero()||i.isNaN()},Unit:t.referToSelf(e=>i=>t.find(e,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(e=>i=>It(i,e))})}),va="xor",D0=["typed","matrix","DenseMatrix","concat"],m0=k(va,D0,r=>{var{typed:t,matrix:e,DenseMatrix:i,concat:n}=r,u=ae({typed:t}),a=Ne({typed:t,DenseMatrix:i}),f=ue({typed:t,DenseMatrix:i}),o=Ft({typed:t,matrix:e,concat:n});return t(va,{"number, number":ia,"Complex, Complex":function(c,s){return(c.re!==0||c.im!==0)!=(s.re!==0||s.im!==0)},"BigNumber, BigNumber":function(c,s){return(!c.isZero()&&!c.isNaN())!=(!s.isZero()&&!s.isNaN())},"Unit, Unit":t.referToSelf(h=>(c,s)=>h(c.value||0,s.value||0))},o({SS:a,DS:u,Ss:f}))}),da="concat",y0=["typed","matrix","isInteger"],_0=k(da,y0,r=>{var{typed:t,matrix:e,isInteger:i}=r;return t(da,{"...Array | Matrix | number | BigNumber":function(u){var a,f=u.length,o=-1,h,c=!1,s=[];for(a=0;a<f;a++){var l=u[a];if(Fr(l)&&(c=!0),hr(l)||Nr(l)){if(a!==f-1)throw new Error("Dimension must be specified as last argument");if(h=o,o=l.valueOf(),!i(o))throw new TypeError("Integer number expected for dimension");if(o<0||a>0&&o>h)throw new Bt(o,h+1)}else{var v=nr(l).valueOf(),d=wt(v);if(s[a]=v,h=o,o=d.length-1,a>0&&o!==h)throw new H(h+1,o+1)}}if(s.length===0)throw new SyntaxError("At least one matrix expected");for(var p=s.shift();s.length;)p=ga(p,s.shift(),o,0);return c?e(p):p},"...string":function(u){return u.join("")}})});function ga(r,t,e,i){if(i<e){if(r.length!==t.length)throw new H(r.length,t.length);for(var n=[],u=0;u<r.length;u++)n[u]=ga(r[u],t[u],e,i+1);return n}else return r.concat(t)}var Da="flatten",w0=["typed","matrix"],A0=k(Da,w0,r=>{var{typed:t,matrix:e}=r;return t(Da,{Array:function(n){return Ut(n)},Matrix:function(n){var u=Ut(n.toArray());return e(u)}})}),ma="map",E0=["typed"],F0=k(ma,E0,r=>{var{typed:t}=r;return t(ma,{"Array, function":C0,"Matrix, function":function(i,n){return i.map(n)}})});function C0(r,t){var e=hi(t),i=function n(u,a){if(Array.isArray(u))return u.map(function(h,c){return n(h,a.concat(c))});try{return e===1?t(u):e===2?t(u,a):t(u,a,r)}catch(h){if(h instanceof TypeError&&"data"in h&&h.data.category==="wrongType"){var f="map attempted to call '".concat(h.data.fn,"(").concat(u),o=JSON.stringify(a);throw e===2?f+=","+o:e!==1&&(f+=",".concat(o,",").concat(r)),f+=")' but argument ".concat(h.data.index+1," of type "),f+="".concat(h.data.actual," does not match expected type "),f+=h.data.expected.join(" or "),new TypeError(f)}throw h}};return i(r,[])}var S0="ones",b0=["typed","config","matrix","BigNumber"],M0=k(S0,b0,r=>{var{typed:t,config:e,matrix:i,BigNumber:n}=r;return t("ones",{"":function(){return e.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(h){var c=h[h.length-1];if(typeof c=="string"){var s=h.pop();return u(h,s)}else return e.matrix==="Array"?u(h):u(h,"default")},Array:u,Matrix:function(h){var c=h.storage();return u(h.valueOf(),c)},"Array | Matrix, string":function(h,c){return u(h.valueOf(),c)}});function u(o,h){var c=a(o),s=c?new n(1):1;if(f(o),h){var l=i(h);return o.length>0?l.resize(o,s):l}else{var v=[];return o.length>0?fn(v,o,s):v}}function a(o){var h=!1;return o.forEach(function(c,s,l){Nr(c)&&(h=!0,l[s]=c.toNumber())}),h}function f(o){o.forEach(function(h){if(typeof h!="number"||!dr(h)||h<0)throw new Error("Parameters in function ones must be positive integers")})}});function ya(){throw new Error('No "bignumber" implementation available')}function B0(){throw new Error('No "fraction" implementation available')}function _a(){throw new Error('No "matrix" implementation available')}var wa="range",N0=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],x0=k(wa,N0,r=>{var{typed:t,config:e,matrix:i,bignumber:n,smaller:u,smallerEq:a,larger:f,largerEq:o}=r;return t(wa,{string:c,"string, boolean":c,"number, number":function(D,y){return h(s(D,y,1))},"number, number, number":function(D,y,m){return h(s(D,y,m))},"number, number, boolean":function(D,y,m){return h(m?l(D,y,1):s(D,y,1))},"number, number, number, boolean":function(D,y,m,_){return h(_?l(D,y,m):s(D,y,m))},"BigNumber, BigNumber":function(D,y){var m=D.constructor;return h(v(D,y,new m(1)))},"BigNumber, BigNumber, BigNumber":function(D,y,m){return h(v(D,y,m))},"BigNumber, BigNumber, boolean":function(D,y,m){var _=D.constructor;return h(m?d(D,y,new _(1)):v(D,y,new _(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(D,y,m,_){return h(_?d(D,y,m):v(D,y,m))}});function h(g){return e.matrix==="Matrix"?i?i(g):_a():g}function c(g,D){var y=p(g);if(!y)throw new SyntaxError('String "'+g+'" is no valid range');var m;return e.number==="BigNumber"?(n===void 0&&ya(),m=D?d:v,h(m(n(y.start),n(y.end),n(y.step)))):(m=D?l:s,h(m(y.start,y.end,y.step)))}function s(g,D,y){var m=[],_=g;if(y>0)for(;u(_,D);)m.push(_),_+=y;else if(y<0)for(;f(_,D);)m.push(_),_+=y;return m}function l(g,D,y){var m=[],_=g;if(y>0)for(;a(_,D);)m.push(_),_+=y;else if(y<0)for(;o(_,D);)m.push(_),_+=y;return m}function v(g,D,y){var m=n(0),_=[],F=g;if(y.gt(m))for(;u(F,D);)_.push(F),F=F.plus(y);else if(y.lt(m))for(;f(F,D);)_.push(F),F=F.plus(y);return _}function d(g,D,y){var m=n(0),_=[],F=g;if(y.gt(m))for(;a(F,D);)_.push(F),F=F.plus(y);else if(y.lt(m))for(;o(F,D);)_.push(F),F=F.plus(y);return _}function p(g){var D=g.split(":"),y=D.map(function(_){return Number(_)}),m=y.some(function(_){return isNaN(_)});if(m)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}}),Aa="size",z0=["typed","config","?matrix"],O0=k(Aa,z0,r=>{var{typed:t,config:e,matrix:i}=r;return t(Aa,{Matrix:function(u){return u.create(u.size())},Array:wt,string:function(u){return e.matrix==="Array"?[u.length]:i([u.length])},"number | Complex | BigNumber | Unit | boolean | null":function(u){return e.matrix==="Array"?[]:i?i([]):_a()}})}),Ea="squeeze",I0=["typed","matrix"],T0=k(Ea,I0,r=>{var{typed:t,matrix:e}=r;return t(Ea,{Array:function(n){return Eu(nr(n))},Matrix:function(n){var u=Eu(n.toArray());return Array.isArray(u)?e(u):u},any:function(n){return nr(n)}})}),Fa="subset",q0=["typed","matrix"],$0=k(Fa,q0,r=>{var{typed:t,matrix:e}=r;return t(Fa,{"Array, Index":function(n,u){var a=e(n),f=a.subset(u);return u.isScalar()?f:f.valueOf()},"Matrix, Index":function(n,u){return n.subset(u)},"Object, Index":R0,"string, Index":P0,"Array, Index, any":function(n,u,a){return e(nr(n)).subset(u,a,void 0).valueOf()},"Array, Index, any, any":function(n,u,a,f){return e(nr(n)).subset(u,a,f).valueOf()},"Matrix, Index, any":function(n,u,a){return n.clone().subset(u,a)},"Matrix, Index, any, any":function(n,u,a,f){return n.clone().subset(u,a,f)},"string, Index, string":Ca,"string, Index, string, string":Ca,"Object, Index, any":L0})});function P0(r,t){if(!un(t))throw new TypeError("Index expected");if(t.size().length!==1)throw new H(t.size().length,1);var e=r.length;ir(t.min()[0],e),ir(t.max()[0],e);var i=t.dimension(0),n="";return i.forEach(function(u){n+=r.charAt(u)}),n}function Ca(r,t,e,i){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(t.size().length!==1)throw new H(t.size().length,1);if(i!==void 0){if(typeof i!="string"||i.length!==1)throw new TypeError("Single character expected as defaultValue")}else i=" ";var n=t.dimension(0),u=n.size()[0];if(u!==e.length)throw new H(n.size()[0],e.length);var a=r.length;ir(t.min()[0]),ir(t.max()[0]);for(var f=[],o=0;o<a;o++)f[o]=r.charAt(o);if(n.forEach(function(s,l){f[s]=e.charAt(l[0])}),f.length>a)for(var h=a-1,c=f.length;h<c;h++)f[h]||(f[h]=i);return f.join("")}function R0(r,t){if(t.size().length!==1)throw new H(t.size(),1);var e=t.dimension(0);if(typeof e!="string")throw new TypeError("String expected as index to retrieve an object property");return bu(r,e)}function L0(r,t,e){if(t.size().length!==1)throw new H(t.size(),1);var i=t.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");var n=nr(r);return Mu(n,i,e),n}var Sa="zeros",U0=["typed","config","matrix","BigNumber"],j0=k(Sa,U0,r=>{var{typed:t,config:e,matrix:i,BigNumber:n}=r;return t(Sa,{"":function(){return e.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(h){var c=h[h.length-1];if(typeof c=="string"){var s=h.pop();return u(h,s)}else return e.matrix==="Array"?u(h):u(h,"default")},Array:u,Matrix:function(h){var c=h.storage();return u(h.valueOf(),c)},"Array | Matrix, string":function(h,c){return u(h.valueOf(),c)}});function u(o,h){var c=a(o),s=c?new n(0):0;if(f(o),h){var l=i(h);return o.length>0?l.resize(o,s):l}else{var v=[];return o.length>0?fn(v,o,s):v}}function a(o){var h=!1;return o.forEach(function(c,s,l){Nr(c)&&(h=!0,l[s]=c.toNumber())}),h}function f(o){o.forEach(function(h){if(typeof h!="number"||!dr(h)||h<0)throw new Error("Parameters in function zeros must be positive integers")})}});function ba(r,t,e){var i;return String(r).indexOf("Unexpected type")!==-1?(i=arguments.length>2?" (type: "+ut(e)+", value: "+JSON.stringify(e)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+i)):String(r).indexOf("complex numbers")!==-1?(i=arguments.length>2?" (type: "+ut(e)+", value: "+JSON.stringify(e)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+i)):r}var Z0="numeric",k0=["number","?bignumber","?fraction"],W0=k(Z0,k0,r=>{var{number:t,bignumber:e,fraction:i}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:a=>t(a),BigNumber:e?a=>e(a):ya,Fraction:i?a=>i(a):B0};return function(f){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(h!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=ut(f);if(!(c in n))throw new TypeError("Cannot convert "+f+' of type "'+c+'"; valid input types are '+Object.keys(n).join(", "));if(!(o in u))throw new TypeError("Cannot convert "+f+' to type "'+o+'"; valid output types are '+Object.keys(u).join(", "));return o===c?f:u[o](f)}}),Ma="and",Y0=["typed","matrix","equalScalar","zeros","not","concat"],J0=k(Ma,Y0,r=>{var{typed:t,matrix:e,equalScalar:i,zeros:n,not:u,concat:a}=r,f=ca({typed:t,equalScalar:i}),o=Gh({typed:t,equalScalar:i}),h=sa({typed:t,equalScalar:i}),c=fa({typed:t}),s=Ft({typed:t,matrix:e,concat:a});return t(Ma,{"number, number":ua,"Complex, Complex":function(v,d){return(v.re!==0||v.im!==0)&&(d.re!==0||d.im!==0)},"BigNumber, BigNumber":function(v,d){return!v.isZero()&&!d.isZero()&&!v.isNaN()&&!d.isNaN()},"Unit, Unit":t.referToSelf(l=>(v,d)=>l(v.value||0,d.value||0)),"SparseMatrix, any":t.referToSelf(l=>(v,d)=>u(d)?n(v.size(),v.storage()):h(v,d,l,!1)),"DenseMatrix, any":t.referToSelf(l=>(v,d)=>u(d)?n(v.size(),v.storage()):c(v,d,l,!1)),"any, SparseMatrix":t.referToSelf(l=>(v,d)=>u(v)?n(v.size(),v.storage()):h(d,v,l,!0)),"any, DenseMatrix":t.referToSelf(l=>(v,d)=>u(v)?n(v.size(),v.storage()):c(d,v,l,!0)),"Array, any":t.referToSelf(l=>(v,d)=>l(e(v),d).valueOf()),"any, Array":t.referToSelf(l=>(v,d)=>l(v,e(d)).valueOf())},s({SS:o,DS:f}))}),wn="compare",K0=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],H0=k(wn,K0,r=>{var{typed:t,config:e,equalScalar:i,matrix:n,BigNumber:u,Fraction:a,DenseMatrix:f,concat:o}=r,h=ae({typed:t}),c=e0({typed:t,equalScalar:i}),s=ue({typed:t,DenseMatrix:f}),l=Ft({typed:t,matrix:n,concat:o}),v=ie({typed:t});return t(wn,X0({typed:t,config:e}),{"boolean, boolean":function(p,g){return p===g?0:p>g?1:-1},"BigNumber, BigNumber":function(p,g){return ne(p,g,e.epsilon)?new u(0):new u(p.cmp(g))},"Fraction, Fraction":function(p,g){return new a(p.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},v,l({SS:c,DS:h,Ss:s}))}),X0=k(wn,["typed","config"],r=>{var{typed:t,config:e}=r;return t(wn,{"number, number":function(n,u){return _t(n,u,e.epsilon)?0:n>u?1:-1}})}),oe=function r(t,e){var i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,n=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,f=/^0/,o=function(m){return r.insensitive&&(""+m).toLowerCase()||""+m},h=o(t).replace(n,"")||"",c=o(e).replace(n,"")||"",s=h.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),l=c.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(h.match(a),16)||s.length!==1&&h.match(u)&&Date.parse(h),d=parseInt(c.match(a),16)||v&&c.match(u)&&Date.parse(c)||null,p,g;if(d){if(v<d)return-1;if(v>d)return 1}for(var D=0,y=Math.max(s.length,l.length);D<y;D++){if(p=!(s[D]||"").match(f)&&parseFloat(s[D])||s[D]||0,g=!(l[D]||"").match(f)&&parseFloat(l[D])||l[D]||0,isNaN(p)!==isNaN(g))return isNaN(p)?1:-1;if(typeof p!=typeof g&&(p+="",g+=""),p<g)return-1;if(p>g)return 1}return 0},Ba="compareNatural",G0=["typed","compare"],V0=k(Ba,G0,r=>{var{typed:t,compare:e}=r,i=e.signatures["boolean,boolean"];return t(Ba,{"any, any":n});function n(o,h){var c=ut(o),s=ut(h),l;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(s==="number"||s==="BigNumber"||s==="Fraction"))return l=e(o,h),l.toString()!=="0"?l>0?1:-1:oe(c,s);var v=["Array","DenseMatrix","SparseMatrix"];if(v.includes(c)||v.includes(s))return l=u(n,o,h),l!==0?l:oe(c,s);if(c!==s)return oe(c,s);if(c==="Complex")return Q0(o,h);if(c==="Unit")return o.equalBase(h)?n(o.value,h.value):a(n,o.formatUnits(),h.formatUnits());if(c==="boolean")return i(o,h);if(c==="string")return oe(o,h);if(c==="Object")return f(n,o,h);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function u(o,h,c){return be(h)&&be(c)?a(o,h.toJSON().values,c.toJSON().values):be(h)?u(o,h.toArray(),c):be(c)?u(o,h,c.toArray()):Gn(h)?u(o,h.toJSON().data,c):Gn(c)?u(o,h,c.toJSON().data):Array.isArray(h)?Array.isArray(c)?a(o,h,c):u(o,h,[c]):u(o,[h],c)}function a(o,h,c){for(var s=0,l=Math.min(h.length,c.length);s<l;s++){var v=o(h[s],c[s]);if(v!==0)return v}return h.length>c.length?1:h.length<c.length?-1:0}function f(o,h,c){var s=Object.keys(h),l=Object.keys(c);s.sort(oe),l.sort(oe);var v=a(o,s,l);if(v!==0)return v;for(var d=0;d<s.length;d++){var p=o(h[s[d]],c[l[d]]);if(p!==0)return p}return 0}});function Q0(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0}var An="smaller",rl=["typed","config","matrix","DenseMatrix","concat"],tl=k(An,rl,r=>{var{typed:t,config:e,matrix:i,DenseMatrix:n,concat:u}=r,a=ae({typed:t}),f=Ne({typed:t,DenseMatrix:n}),o=ue({typed:t,DenseMatrix:n}),h=Ft({typed:t,matrix:i,concat:u}),c=ie({typed:t});return t(An,el({typed:t,config:e}),{"boolean, boolean":(s,l)=>s<l,"BigNumber, BigNumber":function(l,v){return l.lt(v)&&!ne(l,v,e.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)===-1,"Complex, Complex":function(l,v){throw new TypeError("No ordering relation is defined for complex numbers")}},c,h({SS:f,DS:a,Ss:o}))}),el=k(An,["typed","config"],r=>{var{typed:t,config:e}=r;return t(An,{"number, number":function(n,u){return n<u&&!_t(n,u,e.epsilon)}})}),En="smallerEq",nl=["typed","config","matrix","DenseMatrix","concat"],il=k(En,nl,r=>{var{typed:t,config:e,matrix:i,DenseMatrix:n,concat:u}=r,a=ae({typed:t}),f=Ne({typed:t,DenseMatrix:n}),o=ue({typed:t,DenseMatrix:n}),h=Ft({typed:t,matrix:i,concat:u}),c=ie({typed:t});return t(En,ul({typed:t,config:e}),{"boolean, boolean":(s,l)=>s<=l,"BigNumber, BigNumber":function(l,v){return l.lte(v)||ne(l,v,e.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,h({SS:f,DS:a,Ss:o}))}),ul=k(En,["typed","config"],r=>{var{typed:t,config:e}=r;return t(En,{"number, number":function(n,u){return n<=u||_t(n,u,e.epsilon)}})}),Fn="larger",al=["typed","config","matrix","DenseMatrix","concat"],ol=k(Fn,al,r=>{var{typed:t,config:e,matrix:i,DenseMatrix:n,concat:u}=r,a=ae({typed:t}),f=Ne({typed:t,DenseMatrix:n}),o=ue({typed:t,DenseMatrix:n}),h=Ft({typed:t,matrix:i,concat:u}),c=ie({typed:t});return t(Fn,sl({typed:t,config:e}),{"boolean, boolean":(s,l)=>s>l,"BigNumber, BigNumber":function(l,v){return l.gt(v)&&!ne(l,v,e.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,h({SS:f,DS:a,Ss:o}))}),sl=k(Fn,["typed","config"],r=>{var{typed:t,config:e}=r;return t(Fn,{"number, number":function(n,u){return n>u&&!_t(n,u,e.epsilon)}})}),Cn="largerEq",fl=["typed","config","matrix","DenseMatrix","concat"],cl=k(Cn,fl,r=>{var{typed:t,config:e,matrix:i,DenseMatrix:n,concat:u}=r,a=ae({typed:t}),f=Ne({typed:t,DenseMatrix:n}),o=ue({typed:t,DenseMatrix:n}),h=Ft({typed:t,matrix:i,concat:u}),c=ie({typed:t});return t(Cn,hl({typed:t,config:e}),{"boolean, boolean":(s,l)=>s>=l,"BigNumber, BigNumber":function(l,v){return l.gte(v)||ne(l,v,e.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,h({SS:f,DS:a,Ss:o}))}),hl=k(Cn,["typed","config"],r=>{var{typed:t,config:e}=r;return t(Cn,{"number, number":function(n,u){return n>=u||_t(n,u,e.epsilon)}})}),Na="sort",ll=["typed","matrix","compare","compareNatural"],pl=k(Na,ll,r=>{var{typed:t,matrix:e,compare:i,compareNatural:n}=r,u=i,a=(c,s)=>-i(c,s);return t(Na,{Array:function(s){return o(s),s.sort(u)},Matrix:function(s){return h(s),e(s.toArray().sort(u),s.storage())},"Array, function":function(s,l){return o(s),s.sort(l)},"Matrix, function":function(s,l){return h(s),e(s.toArray().sort(l),s.storage())},"Array, string":function(s,l){return o(s),s.sort(f(l))},"Matrix, string":function(s,l){return h(s),e(s.toArray().sort(f(l)),s.storage())}});function f(c){if(c==="asc")return u;if(c==="desc")return a;if(c==="natural")return n;throw new Error('String "asc", "desc", or "natural" expected')}function o(c){if(wt(c).length!==1)throw new Error("One dimensional array expected")}function h(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),vl="ImmutableDenseMatrix",dl=["smaller","DenseMatrix"],gl=k(vl,dl,r=>{var{smaller:t,DenseMatrix:e}=r;function i(n,u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!it(u))throw new Error("Invalid datatype: "+u);if(Fr(n)||or(n)){var a=new e(n,u);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(n&&or(n.data)&&or(n.size))this._data=n.data,this._size=n.size,this._datatype=n.datatype,this._min=typeof n.min!="undefined"?n.min:null,this._max=typeof n.max!="undefined"?n.max:null;else{if(n)throw new TypeError("Unsupported type of data ("+ut(n)+")");this._data=[],this._size=[0],this._datatype=u,this._min=null,this._max=null}}return i.prototype=new e,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(n){switch(arguments.length){case 1:{var u=e.prototype.subset.call(this,n);return Fr(u)?new i({data:u._data,size:u._size,datatype:u._datatype}):u}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:nr(this._data),size:nr(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(n){return new i(n)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(this._min===null){var n=null;this.forEach(function(u){(n===null||t(u,n))&&(n=u)}),this._min=n!==null?n:void 0}return this._min},i.prototype.max=function(){if(this._max===null){var n=null;this.forEach(function(u){(n===null||t(n,u))&&(n=u)}),this._max=n!==null?n:void 0}return this._max},i},{isClass:!0}),Dl="Index",ml=["ImmutableDenseMatrix"],yl=k(Dl,ml,r=>{var{ImmutableDenseMatrix:t}=r;function e(n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var u=0,a=arguments.length;u<a;u++){var f=arguments[u];if(cu(f))this._dimensions.push(f),this._isScalar=!1;else if(Array.isArray(f)||Fr(f)){var o=i(f.valueOf());this._dimensions.push(o);var h=o.size();(h.length!==1||h[0]!==1)&&(this._isScalar=!1)}else if(typeof f=="number")this._dimensions.push(i([f]));else if(typeof f=="string")this._dimensions.push(f);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}e.prototype.type="Index",e.prototype.isIndex=!0;function i(n){for(var u=0,a=n.length;u<a;u++)if(typeof n[u]!="number"||!dr(n[u]))throw new TypeError("Index parameters must be positive integer numbers");return new t(n)}return e.prototype.clone=function(){var n=new e;return n._dimensions=nr(this._dimensions),n._isScalar=this._isScalar,n},e.create=function(n){var u=new e;return e.apply(u,n),u},e.prototype.size=function(){for(var n=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];n[u]=typeof f=="string"?1:f.size()[0]}return n},e.prototype.max=function(){for(var n=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];n[u]=typeof f=="string"?f:f.max()}return n},e.prototype.min=function(){for(var n=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];n[u]=typeof f=="string"?f:f.min()}return n},e.prototype.forEach=function(n){for(var u=0,a=this._dimensions.length;u<a;u++)n(this._dimensions[u],u,this)},e.prototype.dimension=function(n){return this._dimensions[n]||null},e.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var n=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];n.push(typeof f=="string"?f:f.toArray())}return n},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var n=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];typeof f=="string"?n.push(JSON.stringify(f)):n.push(f.toString())}return"["+n.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(n){return e.create(n.dimensions)},e},{isClass:!0}),xa="setCartesian",_l=["typed","size","subset","compareNatural","Index","DenseMatrix"],wl=k(xa,_l,r=>{var{typed:t,size:e,subset:i,compareNatural:n,Index:u,DenseMatrix:a}=r;return t(xa,{"Array | Matrix, Array | Matrix":function(o,h){var c=[];if(i(e(o),new u(0))!==0&&i(e(h),new u(0))!==0){var s=Ut(Array.isArray(o)?o:o.toArray()).sort(n),l=Ut(Array.isArray(h)?h:h.toArray()).sort(n);c=[];for(var v=0;v<s.length;v++)for(var d=0;d<l.length;d++)c.push([s[v],l[d]])}return Array.isArray(o)&&Array.isArray(h)?c:new a(c)}})}),za="add",Al=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],El=k(za,Al,r=>{var{typed:t,matrix:e,addScalar:i,equalScalar:n,DenseMatrix:u,SparseMatrix:a,concat:f}=r,o=zh({typed:t}),h=Th({typed:t,equalScalar:n}),c=Ph({typed:t,DenseMatrix:u}),s=Ft({typed:t,matrix:e,concat:f});return t(za,{"any, any":i,"any, any, ...any":t.referToSelf(l=>(v,d,p)=>{for(var g=l(v,d),D=0;D<p.length;D++)g=l(g,p[D]);return g})},s({elop:i,DS:o,SS:h,Ss:c}))}),Oa="index",Fl=["typed","Index"],Cl=k(Oa,Fl,r=>{var{typed:t,Index:e}=r;return t(Oa,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var u=n.map(function(f){return Nr(f)?f.toNumber():Array.isArray(f)||Fr(f)?f.map(function(o){return Nr(o)?o.toNumber():o}):f}),a=new e;return e.apply(a,u),a}})}),Ia="sum",Sl=["typed","config","add","numeric"],bl=k(Ia,Sl,r=>{var{typed:t,config:e,add:i,numeric:n}=r;return t(Ia,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":a,"...":function(o){if(Kc(o))throw new TypeError("Scalar values expected in function sum");return u(o)}});function u(f){var o;return Xu(f,function(h){try{o=o===void 0?h:i(o,h)}catch(c){throw ba(c,"sum",h)}}),o===void 0&&(o=n(0,e.number)),typeof o=="string"&&(o=n(o,e.number)),o}function a(f,o){try{var h=Hc(f,o,i);return h}catch(c){throw ba(c,"sum")}}}),Ta={exports:{}};(function(r){(function(t,e,i){function n(o){var h=this,c=f();h.next=function(){var s=2091639*h.s0+h.c*23283064365386963e-26;return h.s0=h.s1,h.s1=h.s2,h.s2=s-(h.c=s|0)},h.c=1,h.s0=c(" "),h.s1=c(" "),h.s2=c(" "),h.s0-=c(o),h.s0<0&&(h.s0+=1),h.s1-=c(o),h.s1<0&&(h.s1+=1),h.s2-=c(o),h.s2<0&&(h.s2+=1),c=null}function u(o,h){return h.c=o.c,h.s0=o.s0,h.s1=o.s1,h.s2=o.s2,h}function a(o,h){var c=new n(o),s=h&&h.state,l=c.next;return l.int32=function(){return c.next()*4294967296|0},l.double=function(){return l()+(l()*2097152|0)*11102230246251565e-32},l.quick=l,s&&(typeof s=="object"&&u(s,c),l.state=function(){return u(c,{})}),l}function f(){var o=4022871197,h=function(c){c=String(c);for(var s=0;s<c.length;s++){o+=c.charCodeAt(s);var l=.02519603282416938*o;o=l>>>0,l-=o,l*=o,o=l>>>0,l-=o,o+=l*4294967296}return(o>>>0)*23283064365386963e-26};return h}e&&e.exports?e.exports=a:i&&i.amd?i(function(){return a}):this.alea=a})(jt,r,!1)})(Ta);var qa={exports:{}};(function(r){(function(t,e,i){function n(f){var o=this,h="";o.x=0,o.y=0,o.z=0,o.w=0,o.next=function(){var s=o.x^o.x<<11;return o.x=o.y,o.y=o.z,o.z=o.w,o.w^=o.w>>>19^s^s>>>8},f===(f|0)?o.x=f:h+=f;for(var c=0;c<h.length+64;c++)o.x^=h.charCodeAt(c)|0,o.next()}function u(f,o){return o.x=f.x,o.y=f.y,o.z=f.z,o.w=f.w,o}function a(f,o){var h=new n(f),c=o&&o.state,s=function(){return(h.next()>>>0)/4294967296};return s.double=function(){do var l=h.next()>>>11,v=(h.next()>>>0)/4294967296,d=(l+v)/(1<<21);while(d===0);return d},s.int32=h.next,s.quick=s,c&&(typeof c=="object"&&u(c,h),s.state=function(){return u(h,{})}),s}e&&e.exports?e.exports=a:i&&i.amd?i(function(){return a}):this.xor128=a})(jt,r,!1)})(qa);var $a={exports:{}};(function(r){(function(t,e,i){function n(f){var o=this,h="";o.next=function(){var s=o.x^o.x>>>2;return o.x=o.y,o.y=o.z,o.z=o.w,o.w=o.v,(o.d=o.d+362437|0)+(o.v=o.v^o.v<<4^(s^s<<1))|0},o.x=0,o.y=0,o.z=0,o.w=0,o.v=0,f===(f|0)?o.x=f:h+=f;for(var c=0;c<h.length+64;c++)o.x^=h.charCodeAt(c)|0,c==h.length&&(o.d=o.x<<10^o.x>>>4),o.next()}function u(f,o){return o.x=f.x,o.y=f.y,o.z=f.z,o.w=f.w,o.v=f.v,o.d=f.d,o}function a(f,o){var h=new n(f),c=o&&o.state,s=function(){return(h.next()>>>0)/4294967296};return s.double=function(){do var l=h.next()>>>11,v=(h.next()>>>0)/4294967296,d=(l+v)/(1<<21);while(d===0);return d},s.int32=h.next,s.quick=s,c&&(typeof c=="object"&&u(c,h),s.state=function(){return u(h,{})}),s}e&&e.exports?e.exports=a:i&&i.amd?i(function(){return a}):this.xorwow=a})(jt,r,!1)})($a);var Pa={exports:{}};(function(r){(function(t,e,i){function n(f){var o=this;o.next=function(){var c=o.x,s=o.i,l,v;return l=c[s],l^=l>>>7,v=l^l<<24,l=c[s+1&7],v^=l^l>>>10,l=c[s+3&7],v^=l^l>>>3,l=c[s+4&7],v^=l^l<<7,l=c[s+7&7],l=l^l<<13,v^=l^l<<9,c[s]=v,o.i=s+1&7,v};function h(c,s){var l,v=[];if(s===(s|0))v[0]=s;else for(s=""+s,l=0;l<s.length;++l)v[l&7]=v[l&7]<<15^s.charCodeAt(l)+v[l+1&7]<<13;for(;v.length<8;)v.push(0);for(l=0;l<8&&v[l]===0;++l);for(l==8?v[7]=-1:v[l],c.x=v,c.i=0,l=256;l>0;--l)c.next()}h(o,f)}function u(f,o){return o.x=f.x.slice(),o.i=f.i,o}function a(f,o){f==null&&(f=+new Date);var h=new n(f),c=o&&o.state,s=function(){return(h.next()>>>0)/4294967296};return s.double=function(){do var l=h.next()>>>11,v=(h.next()>>>0)/4294967296,d=(l+v)/(1<<21);while(d===0);return d},s.int32=h.next,s.quick=s,c&&(c.x&&u(c,h),s.state=function(){return u(h,{})}),s}e&&e.exports?e.exports=a:i&&i.amd?i(function(){return a}):this.xorshift7=a})(jt,r,!1)})(Pa);var Ra={exports:{}};(function(r){(function(t,e,i){function n(f){var o=this;o.next=function(){var c=o.w,s=o.X,l=o.i,v,d;return o.w=c=c+1640531527|0,d=s[l+34&127],v=s[l=l+1&127],d^=d<<13,v^=v<<17,d^=d>>>15,v^=v>>>12,d=s[l]=d^v,o.i=l,d+(c^c>>>16)|0};function h(c,s){var l,v,d,p,g,D=[],y=128;for(s===(s|0)?(v=s,s=null):(s=s+"\0",v=0,y=Math.max(y,s.length)),d=0,p=-32;p<y;++p)s&&(v^=s.charCodeAt((p+32)%s.length)),p===0&&(g=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,p>=0&&(g=g+1640531527|0,l=D[p&127]^=v+g,d=l==0?d+1:0);for(d>=128&&(D[(s&&s.length||0)&127]=-1),d=127,p=4*128;p>0;--p)v=D[d+34&127],l=D[d=d+1&127],v^=v<<13,l^=l<<17,v^=v>>>15,l^=l>>>12,D[d]=v^l;c.w=g,c.X=D,c.i=d}h(o,f)}function u(f,o){return o.i=f.i,o.w=f.w,o.X=f.X.slice(),o}function a(f,o){f==null&&(f=+new Date);var h=new n(f),c=o&&o.state,s=function(){return(h.next()>>>0)/4294967296};return s.double=function(){do var l=h.next()>>>11,v=(h.next()>>>0)/4294967296,d=(l+v)/(1<<21);while(d===0);return d},s.int32=h.next,s.quick=s,c&&(c.X&&u(c,h),s.state=function(){return u(h,{})}),s}e&&e.exports?e.exports=a:i&&i.amd?i(function(){return a}):this.xor4096=a})(jt,r,!1)})(Ra);var La={exports:{}};(function(r){(function(t,e,i){function n(f){var o=this,h="";o.next=function(){var s=o.b,l=o.c,v=o.d,d=o.a;return s=s<<25^s>>>7^l,l=l-v|0,v=v<<24^v>>>8^d,d=d-s|0,o.b=s=s<<20^s>>>12^l,o.c=l=l-v|0,o.d=v<<16^l>>>16^d,o.a=d-s|0},o.a=0,o.b=0,o.c=-1640531527,o.d=1367130551,f===Math.floor(f)?(o.a=f/4294967296|0,o.b=f|0):h+=f;for(var c=0;c<h.length+20;c++)o.b^=h.charCodeAt(c)|0,o.next()}function u(f,o){return o.a=f.a,o.b=f.b,o.c=f.c,o.d=f.d,o}function a(f,o){var h=new n(f),c=o&&o.state,s=function(){return(h.next()>>>0)/4294967296};return s.double=function(){do var l=h.next()>>>11,v=(h.next()>>>0)/4294967296,d=(l+v)/(1<<21);while(d===0);return d},s.int32=h.next,s.quick=s,c&&(typeof c=="object"&&u(c,h),s.state=function(){return u(h,{})}),s}e&&e.exports?e.exports=a:i&&i.amd?i(function(){return a}):this.tychei=a})(jt,r,!1)})(La);var Ua={exports:{}};(function(r){(function(t,e,i){var n=256,u=6,a=52,f="random",o=i.pow(n,u),h=i.pow(2,a),c=h*2,s=n-1,l;function v(_,F,S){var b=[];F=F==!0?{entropy:!0}:F||{};var A=D(g(F.entropy?[_,m(e)]:_==null?y():_,3),b),C=new d(b),B=function(){for(var N=C.g(u),$=o,j=0;N<h;)N=(N+j)*n,$*=n,j=C.g(1);for(;N>=c;)N/=2,$/=2,j>>>=1;return(N+j)/$};return B.int32=function(){return C.g(4)|0},B.quick=function(){return C.g(4)/4294967296},B.double=B,D(m(C.S),e),(F.pass||S||function(N,$,j,I){return I&&(I.S&&p(I,C),N.state=function(){return p(C,{})}),j?(i[f]=N,$):N})(B,A,"global"in F?F.global:this==i,F.state)}function d(_){var F,S=_.length,b=this,A=0,C=b.i=b.j=0,B=b.S=[];for(S||(_=[S++]);A<n;)B[A]=A++;for(A=0;A<n;A++)B[A]=B[C=s&C+_[A%S]+(F=B[A])],B[C]=F;(b.g=function(N){for(var $,j=0,I=b.i,Z=b.j,T=b.S;N--;)$=T[I=s&I+1],j=j*n+T[s&(T[I]=T[Z=s&Z+$])+(T[Z]=$)];return b.i=I,b.j=Z,j})(n)}function p(_,F){return F.i=_.i,F.j=_.j,F.S=_.S.slice(),F}function g(_,F){var S=[],b=typeof _,A;if(F&&b=="object")for(A in _)try{S.push(g(_[A],F-1))}catch{}return S.length?S:b=="string"?_:_+"\0"}function D(_,F){for(var S=_+"",b,A=0;A<S.length;)F[s&A]=s&(b^=F[s&A]*19)+S.charCodeAt(A++);return m(F)}function y(){try{var _;return l&&(_=l.randomBytes)?_=_(n):(_=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(_)),m(_)}catch{var F=t.navigator,S=F&&F.plugins;return[+new Date,t,S,t.screen,m(e)]}}function m(_){return String.fromCharCode.apply(0,_)}if(D(i.random(),e),r.exports){r.exports=v;try{l=require("crypto")}catch{}}else i["seed"+f]=v})(typeof self!="undefined"?self:jt,[],Math)})(Ua);var Ml=Ta.exports,Bl=qa.exports,Nl=$a.exports,xl=Pa.exports,zl=Ra.exports,Ol=La.exports,Zt=Ua.exports;Zt.alea=Ml,Zt.xor128=Bl,Zt.xorwow=Nl,Zt.xorshift7=xl,Zt.xor4096=zl,Zt.tychei=Ol;var ja=Zt,Il=ja(Date.now());function Za(r){var t;function e(n){t=n===null?Il:ja(String(n))}e(r);function i(){return t()}return i}var ka="pickRandom",Tl=["typed","config","?on"],ql=k(ka,Tl,r=>{var{typed:t,config:e,on:i}=r,n=Za(e.randomSeed);return i&&i("config",function(a,f){a.randomSeed!==f.randomSeed&&(n=Za(a.randomSeed))}),t(ka,{"Array | Matrix":function(f){return u(f,{})},"Array | Matrix, Object":function(f,o){return u(f,o)},"Array | Matrix, number":function(f,o){return u(f,{number:o})},"Array | Matrix, Array | Matrix":function(f,o){return u(f,{weights:o})},"Array | Matrix, Array | Matrix, number":function(f,o,h){return u(f,{number:h,weights:o})},"Array | Matrix, number, Array | Matrix":function(f,o,h){return u(f,{number:o,weights:h})}});function u(a,f){var{number:o,weights:h,elementWise:c=!0}=f,s=typeof o=="undefined";s&&(o=1);var l=Fr(a)?a.create:Fr(h)?h.create:null;a=a.valueOf(),h&&(h=h.valueOf()),c===!0&&(a=Ut(a),h=Ut(h));var v=0;if(typeof h!="undefined"){if(h.length!==a.length)throw new Error("Weights must have the same length as possibles");for(var d=0,p=h.length;d<p;d++){if(!hr(h[d])||h[d]<0)throw new Error("Weights must be an array of positive numbers");v+=h[d]}}for(var g=a.length,D=[],y;D.length<o;){if(typeof h=="undefined")y=a[Math.floor(n()*g)];else for(var m=n()*v,_=0,F=a.length;_<F;_++)if(m-=h[_],m<0){y=a[_];break}D.push(y)}return s?D[0]:l?l(D):D}}),se=zc({config:Rr}),Wa=Tc({}),Sn=Pc({}),pi=Uc({}),ft=kc({Matrix:pi}),G=Tf({BigNumber:se,Complex:Wa,DenseMatrix:ft,Fraction:Sn}),$l=Eh({typed:G}),Ya=ph({BigNumber:se,typed:G}),Pl=Yc({typed:G}),Rl=gh({Complex:Wa,typed:G}),xe=eh({config:Rr,typed:G}),Ll=Gc({typed:G}),Ja=F0({typed:G}),Ul=u0({typed:G}),jl=g0({typed:G}),Zl=ch({typed:G}),kl=ql({config:Rr,typed:G}),Ka=o0({BigNumber:se,Fraction:Sn,complex:Rl,typed:G}),Ha=uh({Matrix:pi,equalScalar:xe,typed:G}),Wl=yh({Fraction:Sn,typed:G}),yr=wh({DenseMatrix:ft,Matrix:pi,SparseMatrix:Ha,typed:G}),Yl=W0({bignumber:Ya,fraction:Wl,number:Zl}),Jl=O0({matrix:yr,config:Rr,typed:G}),ze=T0({matrix:yr,typed:G}),Kl=$0({matrix:yr,typed:G}),Oe=j0({BigNumber:se,config:Rr,matrix:yr,typed:G}),Ct=_0({isInteger:Ll,matrix:yr,typed:G}),Xa=A0({matrix:yr,typed:G}),Hl=cl({DenseMatrix:ft,concat:Ct,config:Rr,matrix:yr,typed:G}),bn=M0({BigNumber:se,config:Rr,matrix:yr,typed:G}),Ga=tl({DenseMatrix:ft,concat:Ct,config:Rr,matrix:yr,typed:G}),Xl=m0({DenseMatrix:ft,concat:Ct,matrix:yr,typed:G}),vi=El({DenseMatrix:ft,SparseMatrix:Ha,addScalar:$l,concat:Ct,equalScalar:xe,matrix:yr,typed:G}),Va=H0({BigNumber:se,DenseMatrix:ft,Fraction:Sn,concat:Ct,config:Rr,equalScalar:xe,matrix:yr,typed:G}),Gl=gl({DenseMatrix:ft,smaller:Ga}),Qa=yl({ImmutableDenseMatrix:Gl}),Vl=ol({DenseMatrix:ft,concat:Ct,config:Rr,matrix:yr,typed:G}),Ql=il({DenseMatrix:ft,concat:Ct,config:Rr,matrix:yr,typed:G}),rp=J0({concat:Ct,equalScalar:xe,matrix:yr,not:jl,typed:G,zeros:Oe}),ro=V0({compare:Va,typed:G}),Ie=l0({concat:Ct,equalScalar:xe,matrix:yr,multiplyScalar:Ul,typed:G}),vr=Cl({Index:Qa,typed:G}),Tt=x0({bignumber:Ya,matrix:yr,config:Rr,larger:Vl,largerEq:Hl,smaller:Ga,smallerEq:Ql,typed:G}),tp=wl({DenseMatrix:ft,Index:Qa,compareNatural:ro,size:Jl,subset:Kl,typed:G}),Mn=bl({add:vi,config:Rr,numeric:Yl,typed:G}),ep=pl({compare:Va,compareNatural:ro,matrix:yr,typed:G}),to={};Object.defineProperty(to,"__esModule",{value:!0});class np{constructor(t){this.head=0,this.tail=0,this.mask=1,this.list=new Array(2),t&&this.extend(t)}_resize(t,e){const{head:i,mask:n}=this;if(this.head=0,this.tail=t,this.mask=e-1,i===0){this.list.length=e;return}const u=new Array(e);for(let a=0;a<t;a++)u[a]=this.list[i+a&n];this.list=u}push(t){return this.list[this.tail]=t,this.tail=this.tail+1&this.mask,this.head===this.tail&&this._resize(this.list.length,this.list.length<<1),this}pushLeft(t){return this.head=this.head-1&this.mask,this.list[this.head]=t,this.head===this.tail&&this._resize(this.list.length,this.list.length<<1),this}clear(){this.head=0,this.tail=0}extend(t){for(const e of t)this.push(e);return this}extendLeft(t){for(const e of t)this.pushLeft(e);return this}peek(t){const{head:e,size:i,tail:n,list:u}=this;if((t|0)!==t||t>=i||t<-i)throw new RangeError("deque index out of range");const a=(t>=0?e:n)+t&this.mask;return u[a]}indexOf(t,e=0){const{head:i,list:n,size:u,mask:a}=this,f=e>=0?e:e<-u?0:u+e;for(let o=f;o<u;o++)if(n[i+o&a]===t)return o;return-1}has(t){const{head:e,list:i,size:n,mask:u}=this;for(let a=0;a<n;a++)if(i[e+a&u]===t)return!0;return!1}insert(t,e){const i=this.head+t&this.mask;let n=this.tail;for(this.tail=this.tail+1&this.mask;n!==i;){const u=n-1&this.mask;this.list[n]=this.list[u],n=u}return this.list[i]=e,this.head===this.tail&&this._resize(this.list.length,this.list.length<<1),this}get size(){return this.tail-this.head&this.mask}pop(){if(this.head===this.tail)throw new RangeError("pop from an empty deque");this.tail=this.tail-1&this.mask;const t=this.list[this.tail];return this.list[this.tail]=void 0,this.size<this.mask>>>1&&this._resize(this.size,this.list.length>>>1),t}popLeft(){if(this.head===this.tail)throw new RangeError("pop from an empty deque");const t=this.list[this.head];return this.list[this.head]=void 0,this.head=this.head+1&this.mask,this.size<this.mask>>>1&&this._resize(this.size,this.list.length>>>1),t}delete(t){if(t>=this.size||t<0)throw new RangeError("deque index out of range");let i=this.head+t&this.mask;for(;i!==this.tail;){const n=i+1&this.mask;this.list[i]=this.list[n],i=n}return this.tail=this.tail-1&this.mask,this.size<this.mask>>>1&&this._resize(this.size,this.list.length>>>1),this}reverse(){const{head:t,tail:e,size:i,mask:n}=this;for(let u=0;u<~~(i/2);u++){const a=e-u-1&n,f=t+u&n,o=this.list[a];this.list[a]=this.list[f],this.list[f]=o}return this}rotate(t=1){const{head:e,tail:i}=this;if(t===0||e===i)return this;if(this.head=e-t&this.mask,this.tail=i-t&this.mask,t>0)for(let n=1;n<=t;n++){const u=e-n&this.mask,a=i-n&this.mask;this.list[u]=this.list[a],this.list[a]=void 0}else for(let n=0;n>t;n--){const u=i-n&this.mask,a=e-n&this.mask;this.list[u]=this.list[a],this.list[a]=void 0}return this}*entries(){const{head:t,size:e,list:i,mask:n}=this;for(let u=0;u<e;u++)yield i[t+u&n]}keys(){return this.entries()}values(){return this.entries()}[Symbol.iterator](){return this.entries()}}var eo=to.Deque=np,Te="delete",fr=5,Vr=1<<fr,Ir=Vr-1,Q={};function di(){return{value:!1}}function Qr(r){r&&(r.value=!0)}function gi(){}function fe(r){return r.size===void 0&&(r.size=r.__iterate(no)),r.size}function qt(r,t){if(typeof t!="number"){var e=t>>>0;if(""+e!==t||e===4294967295)return NaN;t=e}return t<0?fe(r)+t:t}function no(){return!0}function Bn(r,t,e){return(r===0&&!uo(r)||e!==void 0&&r<=-e)&&(t===void 0||e!==void 0&&t>=e)}function qe(r,t){return io(r,t,0)}function Nn(r,t){return io(r,t,t)}function io(r,t,e){return r===void 0?e:uo(r)?t===1/0?t:Math.max(0,t+r)|0:t===void 0||t===r?r:Math.min(t,r)|0}function uo(r){return r<0||r===0&&1/r===-1/0}var ao="@@__IMMUTABLE_ITERABLE__@@";function jr(r){return Boolean(r&&r[ao])}var oo="@@__IMMUTABLE_KEYED__@@";function lr(r){return Boolean(r&&r[oo])}var so="@@__IMMUTABLE_INDEXED__@@";function Zr(r){return Boolean(r&&r[so])}function xn(r){return lr(r)||Zr(r)}var gr=function(t){return jr(t)?t:Jr(t)},rt=function(r){function t(e){return lr(e)?e:$t(e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(gr),kt=function(r){function t(e){return Zr(e)?e:lt(e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(gr),ce=function(r){function t(e){return jr(e)&&!xn(e)?e:ve(e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(gr);gr.Keyed=rt,gr.Indexed=kt,gr.Set=ce;var fo="@@__IMMUTABLE_SEQ__@@";function Di(r){return Boolean(r&&r[fo])}var co="@@__IMMUTABLE_RECORD__@@";function he(r){return Boolean(r&&r[co])}function dt(r){return jr(r)||he(r)}var le="@@__IMMUTABLE_ORDERED__@@";function ct(r){return Boolean(r&&r[le])}var $e=0,ht=1,tt=2,mi=typeof Symbol=="function"&&Symbol.iterator,ho="@@iterator",zn=mi||ho,rr=function(t){this.next=t};rr.prototype.toString=function(){return"[Iterator]"},rr.KEYS=$e,rr.VALUES=ht,rr.ENTRIES=tt,rr.prototype.inspect=rr.prototype.toSource=function(){return this.toString()},rr.prototype[zn]=function(){return this};function pr(r,t,e,i){var n=r===0?t:r===1?e:[t,e];return i?i.value=n:i={value:n,done:!1},i}function kr(){return{value:void 0,done:!0}}function lo(r){return Array.isArray(r)?!0:!!On(r)}function po(r){return r&&typeof r.next=="function"}function yi(r){var t=On(r);return t&&t.call(r)}function On(r){var t=r&&(mi&&r[mi]||r[ho]);if(typeof t=="function")return t}function ip(r){var t=On(r);return t&&t===r.entries}function up(r){var t=On(r);return t&&t===r.keys}var pe=Object.prototype.hasOwnProperty;function vo(r){return Array.isArray(r)||typeof r=="string"?!0:r&&typeof r=="object"&&Number.isInteger(r.length)&&r.length>=0&&(r.length===0?Object.keys(r).length===1:r.hasOwnProperty(r.length-1))}var Jr=function(r){function t(e){return e==null?wi():dt(e)?e.toSeq():op(e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(i,n){var u=this._cache;if(u){for(var a=u.length,f=0;f!==a;){var o=u[n?a-++f:f++];if(i(o[1],o[0],this)===!1)break}return f}return this.__iterateUncached(i,n)},t.prototype.__iterator=function(i,n){var u=this._cache;if(u){var a=u.length,f=0;return new rr(function(){if(f===a)return kr();var o=u[n?a-++f:f++];return pr(i,o[0],o[1])})}return this.__iteratorUncached(i,n)},t}(gr),$t=function(r){function t(e){return e==null?wi().toKeyedSeq():jr(e)?lr(e)?e.toSeq():e.fromEntrySeq():he(e)?e.toSeq():Ai(e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Jr),lt=function(r){function t(e){return e==null?wi():jr(e)?lr(e)?e.entrySeq():e.toIndexedSeq():he(e)?e.toSeq().entrySeq():Do(e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Jr),ve=function(r){function t(e){return(jr(e)&&!xn(e)?e:lt(e)).toSetSeq()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Jr);Jr.isSeq=Di,Jr.Keyed=$t,Jr.Set=ve,Jr.Indexed=lt,Jr.prototype[fo]=!0;var Wt=function(r){function t(e){this._array=e,this.size=e.length}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.get=function(i,n){return this.has(i)?this._array[qt(this,i)]:n},t.prototype.__iterate=function(i,n){for(var u=this._array,a=u.length,f=0;f!==a;){var o=n?a-++f:f++;if(i(u[o],o,this)===!1)break}return f},t.prototype.__iterator=function(i,n){var u=this._array,a=u.length,f=0;return new rr(function(){if(f===a)return kr();var o=n?a-++f:f++;return pr(i,o,u[o])})},t}(lt),_i=function(r){function t(e){var i=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=i,this.size=i.length}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.get=function(i,n){return n!==void 0&&!this.has(i)?n:this._object[i]},t.prototype.has=function(i){return pe.call(this._object,i)},t.prototype.__iterate=function(i,n){for(var u=this._object,a=this._keys,f=a.length,o=0;o!==f;){var h=a[n?f-++o:o++];if(i(u[h],h,this)===!1)break}return o},t.prototype.__iterator=function(i,n){var u=this._object,a=this._keys,f=a.length,o=0;return new rr(function(){if(o===f)return kr();var h=a[n?f-++o:o++];return pr(i,h,u[h])})},t}($t);_i.prototype[le]=!0;var ap=function(r){function t(e){this._collection=e,this.size=e.length||e.size}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(i,n){if(n)return this.cacheResult().__iterate(i,n);var u=this._collection,a=yi(u),f=0;if(po(a))for(var o;!(o=a.next()).done&&i(o.value,f++,this)!==!1;);return f},t.prototype.__iteratorUncached=function(i,n){if(n)return this.cacheResult().__iterator(i,n);var u=this._collection,a=yi(u);if(!po(a))return new rr(kr);var f=0;return new rr(function(){var o=a.next();return o.done?o:pr(i,f++,o.value)})},t}(lt),go;function wi(){return go||(go=new Wt([]))}function Ai(r){var t=Ei(r);if(t)return t.fromEntrySeq();if(typeof r=="object")return new _i(r);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+r)}function Do(r){var t=Ei(r);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+r)}function op(r){var t=Ei(r);if(t)return ip(r)?t.fromEntrySeq():up(r)?t.toSetSeq():t;if(typeof r=="object")return new _i(r);throw new TypeError("Expected Array or collection object of values, or keyed object: "+r)}function Ei(r){return vo(r)?new Wt(r):lo(r)?new ap(r):void 0}var mo="@@__IMMUTABLE_MAP__@@";function Fi(r){return Boolean(r&&r[mo])}function yo(r){return Fi(r)&&ct(r)}function _o(r){return Boolean(r&&typeof r.equals=="function"&&typeof r.hashCode=="function")}function Kr(r,t){if(r===t||r!==r&&t!==t)return!0;if(!r||!t)return!1;if(typeof r.valueOf=="function"&&typeof t.valueOf=="function"){if(r=r.valueOf(),t=t.valueOf(),r===t||r!==r&&t!==t)return!0;if(!r||!t)return!1}return!!(_o(r)&&_o(t)&&r.equals(t))}var Pe=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t|=0,e|=0;var i=t&65535,n=e&65535;return i*n+((t>>>16)*n+i*(e>>>16)<<16>>>0)|0};function In(r){return r>>>1&1073741824|r&3221225471}var sp=Object.prototype.valueOf;function Hr(r){if(r==null)return wo(r);if(typeof r.hashCode=="function")return In(r.hashCode(r));var t=vp(r);if(t==null)return wo(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return fp(t);case"string":return t.length>dp?cp(t):Ci(t);case"object":case"function":return lp(t);case"symbol":return hp(t);default:if(typeof t.toString=="function")return Ci(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function wo(r){return r===null?1108378658:1108378659}function fp(r){if(r!==r||r===1/0)return 0;var t=r|0;for(t!==r&&(t^=r*4294967295);r>4294967295;)r/=4294967295,t^=r;return In(t)}function cp(r){var t=Ni[r];return t===void 0&&(t=Ci(r),Bi===gp&&(Bi=0,Ni={}),Bi++,Ni[r]=t),t}function Ci(r){for(var t=0,e=0;e<r.length;e++)t=31*t+r.charCodeAt(e)|0;return In(t)}function hp(r){var t=Co[r];return t!==void 0||(t=Fo(),Co[r]=t),t}function lp(r){var t;if(Si&&(t=bi.get(r),t!==void 0)||(t=r[Yt],t!==void 0)||!Eo&&(t=r.propertyIsEnumerable&&r.propertyIsEnumerable[Yt],t!==void 0||(t=pp(r),t!==void 0)))return t;if(t=Fo(),Si)bi.set(r,t);else{if(Ao!==void 0&&Ao(r)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Eo)Object.defineProperty(r,Yt,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(r.propertyIsEnumerable!==void 0&&r.propertyIsEnumerable===r.constructor.prototype.propertyIsEnumerable)r.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},r.propertyIsEnumerable[Yt]=t;else if(r.nodeType!==void 0)r[Yt]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var Ao=Object.isExtensible,Eo=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function pp(r){if(r&&r.nodeType>0)switch(r.nodeType){case 1:return r.uniqueID;case 9:return r.documentElement&&r.documentElement.uniqueID}}function vp(r){return r.valueOf!==sp&&typeof r.valueOf=="function"?r.valueOf(r):r}function Fo(){var r=++Mi;return Mi&1073741824&&(Mi=0),r}var Si=typeof WeakMap=="function",bi;Si&&(bi=new WeakMap);var Co=Object.create(null),Mi=0,Yt="__immutablehash__";typeof Symbol=="function"&&(Yt=Symbol(Yt));var dp=16,gp=255,Bi=0,Ni={},Tn=function(r){function t(e,i){this._iter=e,this._useKeys=i,this.size=e.size}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.get=function(i,n){return this._iter.get(i,n)},t.prototype.has=function(i){return this._iter.has(i)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var i=this,n=xi(this,!0);return this._useKeys||(n.valueSeq=function(){return i._iter.toSeq().reverse()}),n},t.prototype.map=function(i,n){var u=this,a=No(this,i,n);return this._useKeys||(a.valueSeq=function(){return u._iter.toSeq().map(i,n)}),a},t.prototype.__iterate=function(i,n){var u=this;return this._iter.__iterate(function(a,f){return i(a,f,u)},n)},t.prototype.__iterator=function(i,n){return this._iter.__iterator(i,n)},t}($t);Tn.prototype[le]=!0;var So=function(r){function t(e){this._iter=e,this.size=e.size}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.includes=function(i){return this._iter.includes(i)},t.prototype.__iterate=function(i,n){var u=this,a=0;return n&&fe(this),this._iter.__iterate(function(f){return i(f,n?u.size-++a:a++,u)},n)},t.prototype.__iterator=function(i,n){var u=this,a=this._iter.__iterator(ht,n),f=0;return n&&fe(this),new rr(function(){var o=a.next();return o.done?o:pr(i,n?u.size-++f:f++,o.value,o)})},t}(lt),bo=function(r){function t(e){this._iter=e,this.size=e.size}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.has=function(i){return this._iter.includes(i)},t.prototype.__iterate=function(i,n){var u=this;return this._iter.__iterate(function(a){return i(a,a,u)},n)},t.prototype.__iterator=function(i,n){var u=this._iter.__iterator(ht,n);return new rr(function(){var a=u.next();return a.done?a:pr(i,a.value,a.value,a)})},t}(ve),Mo=function(r){function t(e){this._iter=e,this.size=e.size}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(i,n){var u=this;return this._iter.__iterate(function(a){if(a){To(a);var f=jr(a);return i(f?a.get(1):a[1],f?a.get(0):a[0],u)}},n)},t.prototype.__iterator=function(i,n){var u=this._iter.__iterator(ht,n);return new rr(function(){for(;;){var a=u.next();if(a.done)return a;var f=a.value;if(f){To(f);var o=jr(f);return pr(i,o?f.get(0):f[0],o?f.get(1):f[1],a)}}})},t}($t);So.prototype.cacheResult=Tn.prototype.cacheResult=bo.prototype.cacheResult=Mo.prototype.cacheResult=Ii;function Bo(r){var t=gt(r);return t._iter=r,t.size=r.size,t.flip=function(){return r},t.reverse=function(){var e=r.reverse.apply(this);return e.flip=function(){return r.reverse()},e},t.has=function(e){return r.includes(e)},t.includes=function(e){return r.has(e)},t.cacheResult=Ii,t.__iterateUncached=function(e,i){var n=this;return r.__iterate(function(u,a){return e(a,u,n)!==!1},i)},t.__iteratorUncached=function(e,i){if(e===tt){var n=r.__iterator(e,i);return new rr(function(){var u=n.next();if(!u.done){var a=u.value[0];u.value[0]=u.value[1],u.value[1]=a}return u})}return r.__iterator(e===ht?$e:ht,i)},t}function No(r,t,e){var i=gt(r);return i.size=r.size,i.has=function(n){return r.has(n)},i.get=function(n,u){var a=r.get(n,Q);return a===Q?u:t.call(e,a,n,r)},i.__iterateUncached=function(n,u){var a=this;return r.__iterate(function(f,o,h){return n(t.call(e,f,o,h),o,a)!==!1},u)},i.__iteratorUncached=function(n,u){var a=r.__iterator(tt,u);return new rr(function(){var f=a.next();if(f.done)return f;var o=f.value,h=o[0];return pr(n,h,t.call(e,o[1],h,r),f)})},i}function xi(r,t){var e=this,i=gt(r);return i._iter=r,i.size=r.size,i.reverse=function(){return r},r.flip&&(i.flip=function(){var n=Bo(r);return n.reverse=function(){return r.flip()},n}),i.get=function(n,u){return r.get(t?n:-1-n,u)},i.has=function(n){return r.has(t?n:-1-n)},i.includes=function(n){return r.includes(n)},i.cacheResult=Ii,i.__iterate=function(n,u){var a=this,f=0;return u&&fe(r),r.__iterate(function(o,h){return n(o,t?h:u?a.size-++f:f++,a)},!u)},i.__iterator=function(n,u){var a=0;u&&fe(r);var f=r.__iterator(tt,!u);return new rr(function(){var o=f.next();if(o.done)return o;var h=o.value;return pr(n,t?h[0]:u?e.size-++a:a++,h[1],o)})},i}function xo(r,t,e,i){var n=gt(r);return i&&(n.has=function(u){var a=r.get(u,Q);return a!==Q&&!!t.call(e,a,u,r)},n.get=function(u,a){var f=r.get(u,Q);return f!==Q&&t.call(e,f,u,r)?f:a}),n.__iterateUncached=function(u,a){var f=this,o=0;return r.__iterate(function(h,c,s){if(t.call(e,h,c,s))return o++,u(h,i?c:o-1,f)},a),o},n.__iteratorUncached=function(u,a){var f=r.__iterator(tt,a),o=0;return new rr(function(){for(;;){var h=f.next();if(h.done)return h;var c=h.value,s=c[0],l=c[1];if(t.call(e,l,s,r))return pr(u,i?s:o++,l,h)}})},n}function Dp(r,t,e){var i=mt().asMutable();return r.__iterate(function(n,u){i.update(t.call(e,n,u,r),0,function(a){return a+1})}),i.asImmutable()}function mp(r,t,e){var i=lr(r),n=(ct(r)?bt():mt()).asMutable();r.__iterate(function(a,f){n.update(t.call(e,a,f,r),function(o){return o=o||[],o.push(i?[f,a]:a),o})});var u=Oi(r);return n.map(function(a){return ar(r,u(a))}).asImmutable()}function yp(r,t,e){var i=lr(r),n=[[],[]];r.__iterate(function(a,f){n[t.call(e,a,f,r)?1:0].push(i?[f,a]:a)});var u=Oi(r);return n.map(function(a){return ar(r,u(a))})}function zi(r,t,e,i){var n=r.size;if(Bn(t,e,n))return r;var u=qe(t,n),a=Nn(e,n);if(u!==u||a!==a)return zi(r.toSeq().cacheResult(),t,e,i);var f=a-u,o;f===f&&(o=f<0?0:f);var h=gt(r);return h.size=o===0?o:r.size&&o||void 0,!i&&Di(r)&&o>=0&&(h.get=function(c,s){return c=qt(this,c),c>=0&&c<o?r.get(c+u,s):s}),h.__iterateUncached=function(c,s){var l=this;if(o===0)return 0;if(s)return this.cacheResult().__iterate(c,s);var v=0,d=!0,p=0;return r.__iterate(function(g,D){if(!(d&&(d=v++<u)))return p++,c(g,i?D:p-1,l)!==!1&&p!==o}),p},h.__iteratorUncached=function(c,s){if(o!==0&&s)return this.cacheResult().__iterator(c,s);if(o===0)return new rr(kr);var l=r.__iterator(c,s),v=0,d=0;return new rr(function(){for(;v++<u;)l.next();if(++d>o)return kr();var p=l.next();return i||c===ht||p.done?p:c===$e?pr(c,d-1,void 0,p):pr(c,d-1,p.value[1],p)})},h}function _p(r,t,e){var i=gt(r);return i.__iterateUncached=function(n,u){var a=this;if(u)return this.cacheResult().__iterate(n,u);var f=0;return r.__iterate(function(o,h,c){return t.call(e,o,h,c)&&++f&&n(o,h,a)}),f},i.__iteratorUncached=function(n,u){var a=this;if(u)return this.cacheResult().__iterator(n,u);var f=r.__iterator(tt,u),o=!0;return new rr(function(){if(!o)return kr();var h=f.next();if(h.done)return h;var c=h.value,s=c[0],l=c[1];return t.call(e,l,s,a)?n===tt?h:pr(n,s,l,h):(o=!1,kr())})},i}function zo(r,t,e,i){var n=gt(r);return n.__iterateUncached=function(u,a){var f=this;if(a)return this.cacheResult().__iterate(u,a);var o=!0,h=0;return r.__iterate(function(c,s,l){if(!(o&&(o=t.call(e,c,s,l))))return h++,u(c,i?s:h-1,f)}),h},n.__iteratorUncached=function(u,a){var f=this;if(a)return this.cacheResult().__iterator(u,a);var o=r.__iterator(tt,a),h=!0,c=0;return new rr(function(){var s,l,v;do{if(s=o.next(),s.done)return i||u===ht?s:u===$e?pr(u,c++,void 0,s):pr(u,c++,s.value[1],s);var d=s.value;l=d[0],v=d[1],h&&(h=t.call(e,v,l,f))}while(h);return u===tt?s:pr(u,l,v,s)})},n}function wp(r,t){var e=lr(r),i=[r].concat(t).map(function(a){return jr(a)?e&&(a=rt(a)):a=e?Ai(a):Do(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(i.length===0)return r;if(i.length===1){var n=i[0];if(n===r||e&&lr(n)||Zr(r)&&Zr(n))return n}var u=new Wt(i);return e?u=u.toKeyedSeq():Zr(r)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=i.reduce(function(a,f){if(a!==void 0){var o=f.size;if(o!==void 0)return a+o}},0),u}function Oo(r,t,e){var i=gt(r);return i.__iterateUncached=function(n,u){if(u)return this.cacheResult().__iterate(n,u);var a=0,f=!1;function o(h,c){h.__iterate(function(s,l){return(!t||c<t)&&jr(s)?o(s,c+1):(a++,n(s,e?l:a-1,i)===!1&&(f=!0)),!f},u)}return o(r,0),a},i.__iteratorUncached=function(n,u){if(u)return this.cacheResult().__iterator(n,u);var a=r.__iterator(n,u),f=[],o=0;return new rr(function(){for(;a;){var h=a.next();if(h.done!==!1){a=f.pop();continue}var c=h.value;if(n===tt&&(c=c[1]),(!t||f.length<t)&&jr(c))f.push(a),a=c.__iterator(n,u);else return e?h:pr(n,o++,c,h)}return kr()})},i}function Ap(r,t,e){var i=Oi(r);return r.toSeq().map(function(n,u){return i(t.call(e,n,u,r))}).flatten(!0)}function Ep(r,t){var e=gt(r);return e.size=r.size&&r.size*2-1,e.__iterateUncached=function(i,n){var u=this,a=0;return r.__iterate(function(f){return(!a||i(t,a++,u)!==!1)&&i(f,a++,u)!==!1},n),a},e.__iteratorUncached=function(i,n){var u=r.__iterator(ht,n),a=0,f;return new rr(function(){return(!f||a%2)&&(f=u.next(),f.done)?f:a%2?pr(i,a++,t):pr(i,a++,f.value,f)})},e}function de(r,t,e){t||(t=qo);var i=lr(r),n=0,u=r.toSeq().map(function(a,f){return[f,a,n++,e?e(a,f,r):a]}).valueSeq().toArray();return u.sort(function(a,f){return t(a[3],f[3])||a[2]-f[2]}).forEach(i?function(a,f){u[f].length=2}:function(a,f){u[f]=a[1]}),i?$t(u):Zr(r)?lt(u):ve(u)}function qn(r,t,e){if(t||(t=qo),e){var i=r.toSeq().map(function(n,u){return[n,e(n,u,r)]}).reduce(function(n,u){return Io(t,n[1],u[1])?u:n});return i&&i[0]}return r.reduce(function(n,u){return Io(t,n,u)?u:n})}function Io(r,t,e){var i=r(e,t);return i===0&&e!==t&&(e==null||e!==e)||i>0}function $n(r,t,e,i){var n=gt(r),u=new Wt(e).map(function(a){return a.size});return n.size=i?u.max():u.min(),n.__iterate=function(a,f){for(var o=this.__iterator(ht,f),h,c=0;!(h=o.next()).done&&a(h.value,c++,this)!==!1;);return c},n.__iteratorUncached=function(a,f){var o=e.map(function(s){return s=gr(s),yi(f?s.reverse():s)}),h=0,c=!1;return new rr(function(){var s;return c||(s=o.map(function(l){return l.next()}),c=i?s.every(function(l){return l.done}):s.some(function(l){return l.done})),c?kr():pr(a,h++,t.apply(null,s.map(function(l){return l.value})))})},n}function ar(r,t){return r===t?r:Di(r)?t:r.constructor(t)}function To(r){if(r!==Object(r))throw new TypeError("Expected [K, V] tuple: "+r)}function Oi(r){return lr(r)?rt:Zr(r)?kt:ce}function gt(r){return Object.create((lr(r)?$t:Zr(r)?lt:ve).prototype)}function Ii(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Jr.prototype.cacheResult.call(this)}function qo(r,t){return r===void 0&&t===void 0?0:r===void 0?1:t===void 0?-1:r>t?1:r<t?-1:0}function Dt(r,t){t=t||0;for(var e=Math.max(0,r.length-t),i=new Array(e),n=0;n<e;n++)i[n]=r[n+t];return i}function Ti(r,t){if(!r)throw new Error(t)}function et(r){Ti(r!==1/0,"Cannot perform this action with an infinite size.")}function $o(r){if(vo(r)&&typeof r!="string")return r;if(ct(r))return r.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+r)}var Fp=Object.prototype.toString;function Cp(r){if(!r||typeof r!="object"||Fp.call(r)!=="[object Object]")return!1;var t=Object.getPrototypeOf(r);if(t===null)return!0;for(var e=t,i=Object.getPrototypeOf(t);i!==null;)e=i,i=Object.getPrototypeOf(e);return e===t}function Pt(r){return typeof r=="object"&&(dt(r)||Array.isArray(r)||Cp(r))}function Re(r){try{return typeof r=="string"?JSON.stringify(r):String(r)}catch{return JSON.stringify(r)}}function Sp(r,t){return dt(r)?r.has(t):Pt(r)&&pe.call(r,t)}function Po(r,t,e){return dt(r)?r.get(t,e):Sp(r,t)?typeof r.get=="function"?r.get(t):r[t]:e}function Pn(r){if(Array.isArray(r))return Dt(r);var t={};for(var e in r)pe.call(r,e)&&(t[e]=r[e]);return t}function bp(r,t){if(!Pt(r))throw new TypeError("Cannot update non-data-structure value: "+r);if(dt(r)){if(!r.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+r);return r.remove(t)}if(!pe.call(r,t))return r;var e=Pn(r);return Array.isArray(e)?e.splice(t,1):delete e[t],e}function Mp(r,t,e){if(!Pt(r))throw new TypeError("Cannot update non-data-structure value: "+r);if(dt(r)){if(!r.set)throw new TypeError("Cannot update immutable value without .set() method: "+r);return r.set(t,e)}if(pe.call(r,t)&&e===r[t])return r;var i=Pn(r);return i[t]=e,i}function ge(r,t,e,i){i||(i=e,e=void 0);var n=Ro(dt(r),r,$o(t),0,e,i);return n===Q?e:n}function Ro(r,t,e,i,n,u){var a=t===Q;if(i===e.length){var f=a?n:t,o=u(f);return o===f?t:o}if(!a&&!Pt(t))throw new TypeError("Cannot update within non-data-structure value in path ["+e.slice(0,i).map(Re)+"]: "+t);var h=e[i],c=a?Q:Po(t,h,Q),s=Ro(c===Q?r:dt(c),c,e,i+1,n,u);return s===c?t:s===Q?bp(t,h):Mp(a?r?pt():{}:t,h,s)}function Bp(r,t,e){return ge(r,t,Q,function(){return e})}function qi(r,t){return Bp(this,r,t)}function Np(r,t){return ge(r,t,function(){return Q})}function $i(r){return Np(this,r)}function Lo(r,t,e,i){return ge(r,[t],e,i)}function Pi(r,t,e){return arguments.length===1?r(this):Lo(this,r,t,e)}function Ri(r,t,e){return ge(this,r,t,e)}function Uo(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return Zo(this,r)}function jo(r){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];if(typeof r!="function")throw new TypeError("Invalid merger function: "+r);return Zo(this,t,r)}function Zo(r,t,e){for(var i=[],n=0;n<t.length;n++){var u=rt(t[n]);u.size!==0&&i.push(u)}return i.length===0?r:r.toSeq().size===0&&!r.__ownerID&&i.length===1?r.constructor(i[0]):r.withMutations(function(a){for(var f=e?function(h,c){Lo(a,c,Q,function(s){return s===Q?h:e(s,h,c)})}:function(h,c){a.set(c,h)},o=0;o<i.length;o++)i[o].forEach(f)})}function Li(r,t,e){return Ui(r,t,xp(e))}function Ui(r,t,e){if(!Pt(r))throw new TypeError("Cannot merge into non-data-structure value: "+r);if(dt(r))return typeof e=="function"&&r.mergeWith?r.mergeWith.apply(r,[e].concat(t)):r.merge?r.merge.apply(r,t):r.concat.apply(r,t);for(var i=Array.isArray(r),n=r,u=i?kt:rt,a=i?function(o){n===r&&(n=Pn(n)),n.push(o)}:function(o,h){var c=pe.call(n,h),s=c&&e?e(n[h],o,h):o;(!c||s!==n[h])&&(n===r&&(n=Pn(n)),n[h]=s)},f=0;f<t.length;f++)u(t[f]).forEach(a);return n}function xp(r){function t(e,i,n){return Pt(e)&&Pt(i)&&zp(e,i)?Ui(e,[i],t):r?r(e,i,n):i}return t}function zp(r,t){var e=Jr(r),i=Jr(t);return Zr(e)===Zr(i)&&lr(e)===lr(i)}function ko(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return Li(this,r)}function Wo(r){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];return Li(this,t,r)}function ji(r){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];return ge(this,r,pt(),function(i){return Ui(i,t)})}function Zi(r){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];return ge(this,r,pt(),function(i){return Li(i,t)})}function Le(r){var t=this.asMutable();return r(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Ue(){return this.__ownerID?this:this.__ensureOwner(new gi)}function je(){return this.__ensureOwner()}function ki(){return this.__altered}var mt=function(r){function t(e){return e==null?pt():Fi(e)&&!ct(e)?e:pt().withMutations(function(i){var n=r(e);et(n.size),n.forEach(function(u,a){return i.set(a,u)})})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];return pt().withMutations(function(u){for(var a=0;a<i.length;a+=2){if(a+1>=i.length)throw new Error("Missing value for key: "+i[a]);u.set(i[a],i[a+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(i,n){return this._root?this._root.get(0,void 0,i,n):n},t.prototype.set=function(i,n){return Ko(this,i,n)},t.prototype.remove=function(i){return Ko(this,i,Q)},t.prototype.deleteAll=function(i){var n=gr(i);return n.size===0?this:this.withMutations(function(u){n.forEach(function(a){return u.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):pt()},t.prototype.sort=function(i){return bt(de(this,i))},t.prototype.sortBy=function(i,n){return bt(de(this,n,i))},t.prototype.map=function(i,n){var u=this;return this.withMutations(function(a){a.forEach(function(f,o){a.set(o,i.call(n,f,o,u))})})},t.prototype.__iterator=function(i,n){return new Op(this,i,n)},t.prototype.__iterate=function(i,n){var u=this,a=0;return this._root&&this._root.iterate(function(f){return a++,i(f[1],f[0],u)},n),a},t.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?Yi(this.size,this._root,i,this.__hash):this.size===0?pt():(this.__ownerID=i,this.__altered=!1,this)},t}(rt);mt.isMap=Fi;var cr=mt.prototype;cr[mo]=!0,cr[Te]=cr.remove,cr.removeAll=cr.deleteAll,cr.setIn=qi,cr.removeIn=cr.deleteIn=$i,cr.update=Pi,cr.updateIn=Ri,cr.merge=cr.concat=Uo,cr.mergeWith=jo,cr.mergeDeep=ko,cr.mergeDeepWith=Wo,cr.mergeIn=ji,cr.mergeDeepIn=Zi,cr.withMutations=Le,cr.wasAltered=ki,cr.asImmutable=je,cr["@@transducer/init"]=cr.asMutable=Ue,cr["@@transducer/step"]=function(r,t){return r.set(t[0],t[1])},cr["@@transducer/result"]=function(r){return r.asImmutable()};var Ze=function(t,e){this.ownerID=t,this.entries=e};Ze.prototype.get=function(t,e,i,n){for(var u=this.entries,a=0,f=u.length;a<f;a++)if(Kr(i,u[a][0]))return u[a][1];return n},Ze.prototype.update=function(t,e,i,n,u,a,f){for(var o=u===Q,h=this.entries,c=0,s=h.length;c<s&&!Kr(n,h[c][0]);c++);var l=c<s;if(l?h[c][1]===u:o)return this;if(Qr(f),(o||!l)&&Qr(a),!(o&&h.length===1)){if(!l&&!o&&h.length>=Rp)return Ip(t,h,n,u);var v=t&&t===this.ownerID,d=v?h:Dt(h);return l?o?c===s-1?d.pop():d[c]=d.pop():d[c]=[n,u]:d.push([n,u]),v?(this.entries=d,this):new Ze(t,d)}};var De=function(t,e,i){this.ownerID=t,this.bitmap=e,this.nodes=i};De.prototype.get=function(t,e,i,n){e===void 0&&(e=Hr(i));var u=1<<((t===0?e:e>>>t)&Ir),a=this.bitmap;return(a&u)===0?n:this.nodes[Xo(a&u-1)].get(t+fr,e,i,n)},De.prototype.update=function(t,e,i,n,u,a,f){i===void 0&&(i=Hr(n));var o=(e===0?i:i>>>e)&Ir,h=1<<o,c=this.bitmap,s=(c&h)!==0;if(!s&&u===Q)return this;var l=Xo(c&h-1),v=this.nodes,d=s?v[l]:void 0,p=Ji(d,t,e+fr,i,n,u,a,f);if(p===d)return this;if(!s&&p&&v.length>=Lp)return qp(t,v,c,o,p);if(s&&!p&&v.length===2&&Ho(v[l^1]))return v[l^1];if(s&&p&&v.length===1&&Ho(p))return p;var g=t&&t===this.ownerID,D=s?p?c:c^h:c|h,y=s?p?Go(v,l,p,g):Pp(v,l,g):$p(v,l,p,g);return g?(this.bitmap=D,this.nodes=y,this):new De(t,D,y)};var ke=function(t,e,i){this.ownerID=t,this.count=e,this.nodes=i};ke.prototype.get=function(t,e,i,n){e===void 0&&(e=Hr(i));var u=(t===0?e:e>>>t)&Ir,a=this.nodes[u];return a?a.get(t+fr,e,i,n):n},ke.prototype.update=function(t,e,i,n,u,a,f){i===void 0&&(i=Hr(n));var o=(e===0?i:i>>>e)&Ir,h=u===Q,c=this.nodes,s=c[o];if(h&&!s)return this;var l=Ji(s,t,e+fr,i,n,u,a,f);if(l===s)return this;var v=this.count;if(!s)v++;else if(!l&&(v--,v<Up))return Tp(t,c,v,o);var d=t&&t===this.ownerID,p=Go(c,o,l,d);return d?(this.count=v,this.nodes=p,this):new ke(t,v,p)};var me=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entries=i};me.prototype.get=function(t,e,i,n){for(var u=this.entries,a=0,f=u.length;a<f;a++)if(Kr(i,u[a][0]))return u[a][1];return n},me.prototype.update=function(t,e,i,n,u,a,f){i===void 0&&(i=Hr(n));var o=u===Q;if(i!==this.keyHash)return o?this:(Qr(f),Qr(a),Ki(this,t,e,i,[n,u]));for(var h=this.entries,c=0,s=h.length;c<s&&!Kr(n,h[c][0]);c++);var l=c<s;if(l?h[c][1]===u:o)return this;if(Qr(f),(o||!l)&&Qr(a),o&&s===2)return new St(t,this.keyHash,h[c^1]);var v=t&&t===this.ownerID,d=v?h:Dt(h);return l?o?c===s-1?d.pop():d[c]=d.pop():d[c]=[n,u]:d.push([n,u]),v?(this.entries=d,this):new me(t,this.keyHash,d)};var St=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entry=i};St.prototype.get=function(t,e,i,n){return Kr(i,this.entry[0])?this.entry[1]:n},St.prototype.update=function(t,e,i,n,u,a,f){var o=u===Q,h=Kr(n,this.entry[0]);if(h?u===this.entry[1]:o)return this;if(Qr(f),o){Qr(a);return}return h?t&&t===this.ownerID?(this.entry[1]=u,this):new St(t,this.keyHash,[n,u]):(Qr(a),Ki(this,t,e,Hr(n),[n,u]))},Ze.prototype.iterate=me.prototype.iterate=function(r,t){for(var e=this.entries,i=0,n=e.length-1;i<=n;i++)if(r(e[t?n-i:i])===!1)return!1},De.prototype.iterate=ke.prototype.iterate=function(r,t){for(var e=this.nodes,i=0,n=e.length-1;i<=n;i++){var u=e[t?n-i:i];if(u&&u.iterate(r,t)===!1)return!1}},St.prototype.iterate=function(r,t){return r(this.entry)};var Op=function(r){function t(e,i,n){this._type=i,this._reverse=n,this._stack=e._root&&Yo(e._root)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var i=this._type,n=this._stack;n;){var u=n.node,a=n.index++,f=void 0;if(u.entry){if(a===0)return Wi(i,u.entry)}else if(u.entries){if(f=u.entries.length-1,a<=f)return Wi(i,u.entries[this._reverse?f-a:a])}else if(f=u.nodes.length-1,a<=f){var o=u.nodes[this._reverse?f-a:a];if(o){if(o.entry)return Wi(i,o.entry);n=this._stack=Yo(o,n)}continue}n=this._stack=this._stack.__prev}return kr()},t}(rr);function Wi(r,t){return pr(r,t[0],t[1])}function Yo(r,t){return{node:r,index:0,__prev:t}}function Yi(r,t,e,i){var n=Object.create(cr);return n.size=r,n._root=t,n.__ownerID=e,n.__hash=i,n.__altered=!1,n}var Jo;function pt(){return Jo||(Jo=Yi(0))}function Ko(r,t,e){var i,n;if(r._root){var u=di(),a=di();if(i=Ji(r._root,r.__ownerID,0,void 0,t,e,u,a),!a.value)return r;n=r.size+(u.value?e===Q?-1:1:0)}else{if(e===Q)return r;n=1,i=new Ze(r.__ownerID,[[t,e]])}return r.__ownerID?(r.size=n,r._root=i,r.__hash=void 0,r.__altered=!0,r):i?Yi(n,i):pt()}function Ji(r,t,e,i,n,u,a,f){return r?r.update(t,e,i,n,u,a,f):u===Q?r:(Qr(f),Qr(a),new St(t,i,[n,u]))}function Ho(r){return r.constructor===St||r.constructor===me}function Ki(r,t,e,i,n){if(r.keyHash===i)return new me(t,i,[r.entry,n]);var u=(e===0?r.keyHash:r.keyHash>>>e)&Ir,a=(e===0?i:i>>>e)&Ir,f,o=u===a?[Ki(r,t,e+fr,i,n)]:(f=new St(t,i,n),u<a?[r,f]:[f,r]);return new De(t,1<<u|1<<a,o)}function Ip(r,t,e,i){r||(r=new gi);for(var n=new St(r,Hr(e),[e,i]),u=0;u<t.length;u++){var a=t[u];n=n.update(r,0,void 0,a[0],a[1])}return n}function Tp(r,t,e,i){for(var n=0,u=0,a=new Array(e),f=0,o=1,h=t.length;f<h;f++,o<<=1){var c=t[f];c!==void 0&&f!==i&&(n|=o,a[u++]=c)}return new De(r,n,a)}function qp(r,t,e,i,n){for(var u=0,a=new Array(Vr),f=0;e!==0;f++,e>>>=1)a[f]=e&1?t[u++]:void 0;return a[i]=n,new ke(r,u+1,a)}function Xo(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),r=r+(r>>4)&252645135,r+=r>>8,r+=r>>16,r&127}function Go(r,t,e,i){var n=i?r:Dt(r);return n[t]=e,n}function $p(r,t,e,i){var n=r.length+1;if(i&&t+1===n)return r[t]=e,r;for(var u=new Array(n),a=0,f=0;f<n;f++)f===t?(u[f]=e,a=-1):u[f]=r[f+a];return u}function Pp(r,t,e){var i=r.length-1;if(e&&t===i)return r.pop(),r;for(var n=new Array(i),u=0,a=0;a<i;a++)a===t&&(u=1),n[a]=r[a+u];return n}var Rp=Vr/4,Lp=Vr/2,Up=Vr/4,Vo="@@__IMMUTABLE_LIST__@@";function Qo(r){return Boolean(r&&r[Vo])}var Rn=function(r){function t(e){var i=Ln();if(e==null)return i;if(Qo(e))return e;var n=r(e),u=n.size;return u===0?i:(et(u),u>0&&u<Vr?Ye(0,u,fr,null,new Rt(n.toArray())):i.withMutations(function(a){a.setSize(u),n.forEach(function(f,o){return a.set(o,f)})}))}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(i,n){if(i=qt(this,i),i>=0&&i<this.size){i+=this._origin;var u=es(this,i);return u&&u.array[i&Ir]}return n},t.prototype.set=function(i,n){return jp(this,i,n)},t.prototype.remove=function(i){return this.has(i)?i===0?this.shift():i===this.size-1?this.pop():this.splice(i,1):this},t.prototype.insert=function(i,n){return this.splice(i,0,n)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=fr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Ln()},t.prototype.push=function(){var i=arguments,n=this.size;return this.withMutations(function(u){Lt(u,0,n+i.length);for(var a=0;a<i.length;a++)u.set(n+a,i[a])})},t.prototype.pop=function(){return Lt(this,0,-1)},t.prototype.unshift=function(){var i=arguments;return this.withMutations(function(n){Lt(n,-i.length);for(var u=0;u<i.length;u++)n.set(u,i[u])})},t.prototype.shift=function(){return Lt(this,1)},t.prototype.concat=function(){for(var i=arguments,n=[],u=0;u<arguments.length;u++){var a=i[u],f=r(typeof a!="string"&&lo(a)?a:[a]);f.size!==0&&n.push(f)}return n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(o){n.forEach(function(h){return h.forEach(function(c){return o.push(c)})})})},t.prototype.setSize=function(i){return Lt(this,0,i)},t.prototype.map=function(i,n){var u=this;return this.withMutations(function(a){for(var f=0;f<u.size;f++)a.set(f,i.call(n,a.get(f),f,u))})},t.prototype.slice=function(i,n){var u=this.size;return Bn(i,n,u)?this:Lt(this,qe(i,u),Nn(n,u))},t.prototype.__iterator=function(i,n){var u=n?this.size:0,a=rs(this,n);return new rr(function(){var f=a();return f===We?kr():pr(i,n?--u:u++,f)})},t.prototype.__iterate=function(i,n){for(var u=n?this.size:0,a=rs(this,n),f;(f=a())!==We&&i(f,n?--u:u++,this)!==!1;);return u},t.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?Ye(this._origin,this._capacity,this._level,this._root,this._tail,i,this.__hash):this.size===0?Ln():(this.__ownerID=i,this.__altered=!1,this)},t}(kt);Rn.isList=Qo;var Dr=Rn.prototype;Dr[Vo]=!0,Dr[Te]=Dr.remove,Dr.merge=Dr.concat,Dr.setIn=qi,Dr.deleteIn=Dr.removeIn=$i,Dr.update=Pi,Dr.updateIn=Ri,Dr.mergeIn=ji,Dr.mergeDeepIn=Zi,Dr.withMutations=Le,Dr.wasAltered=ki,Dr.asImmutable=je,Dr["@@transducer/init"]=Dr.asMutable=Ue,Dr["@@transducer/step"]=function(r,t){return r.push(t)},Dr["@@transducer/result"]=function(r){return r.asImmutable()};var Rt=function(t,e){this.array=t,this.ownerID=e};Rt.prototype.removeBefore=function(t,e,i){if(i===e?1<<e:this.array.length===0)return this;var n=i>>>e&Ir;if(n>=this.array.length)return new Rt([],t);var u=n===0,a;if(e>0){var f=this.array[n];if(a=f&&f.removeBefore(t,e-fr,i),a===f&&u)return this}if(u&&!a)return this;var o=ye(this,t);if(!u)for(var h=0;h<n;h++)o.array[h]=void 0;return a&&(o.array[n]=a),o},Rt.prototype.removeAfter=function(t,e,i){if(i===(e?1<<e:0)||this.array.length===0)return this;var n=i-1>>>e&Ir;if(n>=this.array.length)return this;var u;if(e>0){var a=this.array[n];if(u=a&&a.removeAfter(t,e-fr,i),u===a&&n===this.array.length-1)return this}var f=ye(this,t);return f.array.splice(n+1),u&&(f.array[n]=u),f};var We={};function rs(r,t){var e=r._origin,i=r._capacity,n=Je(i),u=r._tail;return a(r._root,r._level,0);function a(h,c,s){return c===0?f(h,s):o(h,c,s)}function f(h,c){var s=c===n?u&&u.array:h&&h.array,l=c>e?0:e-c,v=i-c;return v>Vr&&(v=Vr),function(){if(l===v)return We;var d=t?--v:l++;return s&&s[d]}}function o(h,c,s){var l,v=h&&h.array,d=s>e?0:e-s>>c,p=(i-s>>c)+1;return p>Vr&&(p=Vr),function(){for(;;){if(l){var g=l();if(g!==We)return g;l=null}if(d===p)return We;var D=t?--p:d++;l=a(v&&v[D],c-fr,s+(D<<c))}}}}function Ye(r,t,e,i,n,u,a){var f=Object.create(Dr);return f.size=t-r,f._origin=r,f._capacity=t,f._level=e,f._root=i,f._tail=n,f.__ownerID=u,f.__hash=a,f.__altered=!1,f}var ts;function Ln(){return ts||(ts=Ye(0,0,fr))}function jp(r,t,e){if(t=qt(r,t),t!==t)return r;if(t>=r.size||t<0)return r.withMutations(function(a){t<0?Lt(a,t).set(0,e):Lt(a,0,t+1).set(t,e)});t+=r._origin;var i=r._tail,n=r._root,u=di();return t>=Je(r._capacity)?i=Hi(i,r.__ownerID,0,t,e,u):n=Hi(n,r.__ownerID,r._level,t,e,u),u.value?r.__ownerID?(r._root=n,r._tail=i,r.__hash=void 0,r.__altered=!0,r):Ye(r._origin,r._capacity,r._level,n,i):r}function Hi(r,t,e,i,n,u){var a=i>>>e&Ir,f=r&&a<r.array.length;if(!f&&n===void 0)return r;var o;if(e>0){var h=r&&r.array[a],c=Hi(h,t,e-fr,i,n,u);return c===h?r:(o=ye(r,t),o.array[a]=c,o)}return f&&r.array[a]===n?r:(u&&Qr(u),o=ye(r,t),n===void 0&&a===o.array.length-1?o.array.pop():o.array[a]=n,o)}function ye(r,t){return t&&r&&t===r.ownerID?r:new Rt(r?r.array.slice():[],t)}function es(r,t){if(t>=Je(r._capacity))return r._tail;if(t<1<<r._level+fr){for(var e=r._root,i=r._level;e&&i>0;)e=e.array[t>>>i&Ir],i-=fr;return e}}function Lt(r,t,e){t!==void 0&&(t|=0),e!==void 0&&(e|=0);var i=r.__ownerID||new gi,n=r._origin,u=r._capacity,a=n+t,f=e===void 0?u:e<0?u+e:n+e;if(a===n&&f===u)return r;if(a>=f)return r.clear();for(var o=r._level,h=r._root,c=0;a+c<0;)h=new Rt(h&&h.array.length?[void 0,h]:[],i),o+=fr,c+=1<<o;c&&(a+=c,n+=c,f+=c,u+=c);for(var s=Je(u),l=Je(f);l>=1<<o+fr;)h=new Rt(h&&h.array.length?[h]:[],i),o+=fr;var v=r._tail,d=l<s?es(r,f-1):l>s?new Rt([],i):v;if(v&&l>s&&a<u&&v.array.length){h=ye(h,i);for(var p=h,g=o;g>fr;g-=fr){var D=s>>>g&Ir;p=p.array[D]=ye(p.array[D],i)}p.array[s>>>fr&Ir]=v}if(f<u&&(d=d&&d.removeAfter(i,0,f)),a>=l)a-=l,f-=l,o=fr,h=null,d=d&&d.removeBefore(i,0,a);else if(a>n||l<s){for(c=0;h;){var y=a>>>o&Ir;if(y!==l>>>o&Ir)break;y&&(c+=(1<<o)*y),o-=fr,h=h.array[y]}h&&a>n&&(h=h.removeBefore(i,o,a-c)),h&&l<s&&(h=h.removeAfter(i,o,l-c)),c&&(a-=c,f-=c)}return r.__ownerID?(r.size=f-a,r._origin=a,r._capacity=f,r._level=o,r._root=h,r._tail=d,r.__hash=void 0,r.__altered=!0,r):Ye(a,f,o,h,d)}function Je(r){return r<Vr?0:r-1>>>fr<<fr}var bt=function(r){function t(e){return e==null?Ke():yo(e)?e:Ke().withMutations(function(i){var n=rt(e);et(n.size),n.forEach(function(u,a){return i.set(a,u)})})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(i,n){var u=this._map.get(i);return u!==void 0?this._list.get(u)[1]:n},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ke()},t.prototype.set=function(i,n){return is(this,i,n)},t.prototype.remove=function(i){return is(this,i,Q)},t.prototype.__iterate=function(i,n){var u=this;return this._list.__iterate(function(a){return a&&i(a[1],a[0],u)},n)},t.prototype.__iterator=function(i,n){return this._list.fromEntrySeq().__iterator(i,n)},t.prototype.__ensureOwner=function(i){if(i===this.__ownerID)return this;var n=this._map.__ensureOwner(i),u=this._list.__ensureOwner(i);return i?Xi(n,u,i,this.__hash):this.size===0?Ke():(this.__ownerID=i,this.__altered=!1,this._map=n,this._list=u,this)},t}(mt);bt.isOrderedMap=yo,bt.prototype[le]=!0,bt.prototype[Te]=bt.prototype.remove;function Xi(r,t,e,i){var n=Object.create(bt.prototype);return n.size=r?r.size:0,n._map=r,n._list=t,n.__ownerID=e,n.__hash=i,n.__altered=!1,n}var ns;function Ke(){return ns||(ns=Xi(pt(),Ln()))}function is(r,t,e){var i=r._map,n=r._list,u=i.get(t),a=u!==void 0,f,o;if(e===Q){if(!a)return r;n.size>=Vr&&n.size>=i.size*2?(o=n.filter(function(h,c){return h!==void 0&&u!==c}),f=o.toKeyedSeq().map(function(h){return h[0]}).flip().toMap(),r.__ownerID&&(f.__ownerID=o.__ownerID=r.__ownerID)):(f=i.remove(t),o=u===n.size-1?n.pop():n.set(u,void 0))}else if(a){if(e===n.get(u)[1])return r;f=i,o=n.set(u,[t,e])}else f=i.set(t,n.size),o=n.set(n.size,[t,e]);return r.__ownerID?(r.size=f.size,r._map=f,r._list=o,r.__hash=void 0,r.__altered=!0,r):Xi(f,o)}var us="@@__IMMUTABLE_STACK__@@";function Gi(r){return Boolean(r&&r[us])}var Vi=function(r){function t(e){return e==null?Un():Gi(e)?e:Un().pushAll(e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(i,n){var u=this._head;for(i=qt(this,i);u&&i--;)u=u.next;return u?u.value:n},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var i=arguments;if(arguments.length===0)return this;for(var n=this.size+arguments.length,u=this._head,a=arguments.length-1;a>=0;a--)u={value:i[a],next:u};return this.__ownerID?(this.size=n,this._head=u,this.__hash=void 0,this.__altered=!0,this):He(n,u)},t.prototype.pushAll=function(i){if(i=r(i),i.size===0)return this;if(this.size===0&&Gi(i))return i;et(i.size);var n=this.size,u=this._head;return i.__iterate(function(a){n++,u={value:a,next:u}},!0),this.__ownerID?(this.size=n,this._head=u,this.__hash=void 0,this.__altered=!0,this):He(n,u)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Un()},t.prototype.slice=function(i,n){if(Bn(i,n,this.size))return this;var u=qe(i,this.size),a=Nn(n,this.size);if(a!==this.size)return r.prototype.slice.call(this,i,n);for(var f=this.size-u,o=this._head;u--;)o=o.next;return this.__ownerID?(this.size=f,this._head=o,this.__hash=void 0,this.__altered=!0,this):He(f,o)},t.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?He(this.size,this._head,i,this.__hash):this.size===0?Un():(this.__ownerID=i,this.__altered=!1,this)},t.prototype.__iterate=function(i,n){var u=this;if(n)return new Wt(this.toArray()).__iterate(function(o,h){return i(o,h,u)},n);for(var a=0,f=this._head;f&&i(f.value,a++,this)!==!1;)f=f.next;return a},t.prototype.__iterator=function(i,n){if(n)return new Wt(this.toArray()).__iterator(i,n);var u=0,a=this._head;return new rr(function(){if(a){var f=a.value;return a=a.next,pr(i,u++,f)}return kr()})},t}(kt);Vi.isStack=Gi;var Tr=Vi.prototype;Tr[us]=!0,Tr.shift=Tr.pop,Tr.unshift=Tr.push,Tr.unshiftAll=Tr.pushAll,Tr.withMutations=Le,Tr.wasAltered=ki,Tr.asImmutable=je,Tr["@@transducer/init"]=Tr.asMutable=Ue,Tr["@@transducer/step"]=function(r,t){return r.unshift(t)},Tr["@@transducer/result"]=function(r){return r.asImmutable()};function He(r,t,e,i){var n=Object.create(Tr);return n.size=r,n._head=t,n.__ownerID=e,n.__hash=i,n.__altered=!1,n}var as;function Un(){return as||(as=He(0))}var os="@@__IMMUTABLE_SET__@@";function Qi(r){return Boolean(r&&r[os])}function ss(r){return Qi(r)&&ct(r)}function fs(r,t){if(r===t)return!0;if(!jr(t)||r.size!==void 0&&t.size!==void 0&&r.size!==t.size||r.__hash!==void 0&&t.__hash!==void 0&&r.__hash!==t.__hash||lr(r)!==lr(t)||Zr(r)!==Zr(t)||ct(r)!==ct(t))return!1;if(r.size===0&&t.size===0)return!0;var e=!xn(r);if(ct(r)){var i=r.entries();return t.every(function(o,h){var c=i.next().value;return c&&Kr(c[1],o)&&(e||Kr(c[0],h))})&&i.next().done}var n=!1;if(r.size===void 0)if(t.size===void 0)typeof r.cacheResult=="function"&&r.cacheResult();else{n=!0;var u=r;r=t,t=u}var a=!0,f=t.__iterate(function(o,h){if(e?!r.has(o):n?!Kr(o,r.get(h,Q)):!Kr(r.get(h,Q),o))return a=!1,!1});return a&&r.size===f}function Jt(r,t){var e=function(i){r.prototype[i]=t[i]};return Object.keys(t).forEach(e),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(e),r}function jn(r){if(!r||typeof r!="object")return r;if(!jr(r)){if(!Pt(r))return r;r=Jr(r)}if(lr(r)){var t={};return r.__iterate(function(i,n){t[n]=jn(i)}),t}var e=[];return r.__iterate(function(i){e.push(jn(i))}),e}var Xe=function(r){function t(e){return e==null?Ge():Qi(e)&&!ct(e)?e:Ge().withMutations(function(i){var n=r(e);et(n.size),n.forEach(function(u){return i.add(u)})})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(i){return this(rt(i).keySeq())},t.intersect=function(i){return i=gr(i).toArray(),i.length?br.intersect.apply(t(i.pop()),i):Ge()},t.union=function(i){return i=gr(i).toArray(),i.length?br.union.apply(t(i.pop()),i):Ge()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(i){return this._map.has(i)},t.prototype.add=function(i){return Zn(this,this._map.set(i,i))},t.prototype.remove=function(i){return Zn(this,this._map.remove(i))},t.prototype.clear=function(){return Zn(this,this._map.clear())},t.prototype.map=function(i,n){var u=this,a=!1,f=Zn(this,this._map.mapEntries(function(o){var h=o[1],c=i.call(n,h,h,u);return c!==h&&(a=!0),[c,c]},n));return a?f:this},t.prototype.union=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];return i=i.filter(function(u){return u.size!==0}),i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){for(var a=0;a<i.length;a++)typeof i[a]=="string"?u.add(i[a]):r(i[a]).forEach(function(f){return u.add(f)})})},t.prototype.intersect=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(i.length===0)return this;i=i.map(function(a){return r(a)});var u=[];return this.forEach(function(a){i.every(function(f){return f.includes(a)})||u.push(a)}),this.withMutations(function(a){u.forEach(function(f){a.remove(f)})})},t.prototype.subtract=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(i.length===0)return this;i=i.map(function(a){return r(a)});var u=[];return this.forEach(function(a){i.some(function(f){return f.includes(a)})&&u.push(a)}),this.withMutations(function(a){u.forEach(function(f){a.remove(f)})})},t.prototype.sort=function(i){return Qe(de(this,i))},t.prototype.sortBy=function(i,n){return Qe(de(this,n,i))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(i,n){var u=this;return this._map.__iterate(function(a){return i(a,a,u)},n)},t.prototype.__iterator=function(i,n){return this._map.__iterator(i,n)},t.prototype.__ensureOwner=function(i){if(i===this.__ownerID)return this;var n=this._map.__ensureOwner(i);return i?this.__make(n,i):this.size===0?this.__empty():(this.__ownerID=i,this._map=n,this)},t}(ce);Xe.isSet=Qi;var br=Xe.prototype;br[os]=!0,br[Te]=br.remove,br.merge=br.concat=br.union,br.withMutations=Le,br.asImmutable=je,br["@@transducer/init"]=br.asMutable=Ue,br["@@transducer/step"]=function(r,t){return r.add(t)},br["@@transducer/result"]=function(r){return r.asImmutable()},br.__empty=Ge,br.__make=cs;function Zn(r,t){return r.__ownerID?(r.size=t.size,r._map=t,r):t===r._map?r:t.size===0?r.__empty():r.__make(t)}function cs(r,t){var e=Object.create(br);return e.size=r?r.size:0,e._map=r,e.__ownerID=t,e}var hs;function Ge(){return hs||(hs=cs(pt()))}var Zp=function(r){function t(e,i,n){if(!(this instanceof t))return new t(e,i,n);if(Ti(n!==0,"Cannot step a Range by 0"),e=e||0,i===void 0&&(i=1/0),n=n===void 0?1:Math.abs(n),i<e&&(n=-n),this._start=e,this._end=i,this._step=n,this.size=Math.max(0,Math.ceil((i-e)/n-1)+1),this.size===0){if(ru)return ru;ru=this}}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(i,n){return this.has(i)?this._start+qt(this,i)*this._step:n},t.prototype.includes=function(i){var n=(i-this._start)/this._step;return n>=0&&n<this.size&&n===Math.floor(n)},t.prototype.slice=function(i,n){return Bn(i,n,this.size)?this:(i=qe(i,this.size),n=Nn(n,this.size),n<=i?new t(0,0):new t(this.get(i,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(i){var n=i-this._start;if(n%this._step===0){var u=n/this._step;if(u>=0&&u<this.size)return u}return-1},t.prototype.lastIndexOf=function(i){return this.indexOf(i)},t.prototype.__iterate=function(i,n){for(var u=this.size,a=this._step,f=n?this._start+(u-1)*a:this._start,o=0;o!==u&&i(f,n?u-++o:o++,this)!==!1;)f+=n?-a:a;return o},t.prototype.__iterator=function(i,n){var u=this.size,a=this._step,f=n?this._start+(u-1)*a:this._start,o=0;return new rr(function(){if(o===u)return kr();var h=f;return f+=n?-a:a,pr(i,n?u-++o:o++,h)})},t.prototype.equals=function(i){return i instanceof t?this._start===i._start&&this._end===i._end&&this._step===i._step:fs(this,i)},t}(lt),ru;function ls(r,t,e){for(var i=$o(t),n=0;n!==i.length;)if(r=Po(r,i[n++],Q),r===Q)return e;return r}function ps(r,t){return ls(this,r,t)}function kp(r,t){return ls(r,t,Q)!==Q}function Wp(r){return kp(this,r)}function vs(){et(this.size);var r={};return this.__iterate(function(t,e){r[e]=t}),r}gr.isIterable=jr,gr.isKeyed=lr,gr.isIndexed=Zr,gr.isAssociative=xn,gr.isOrdered=ct,gr.Iterator=rr,Jt(gr,{toArray:function(){et(this.size);var t=new Array(this.size||0),e=lr(this),i=0;return this.__iterate(function(n,u){t[i++]=e?[u,n]:n}),t},toIndexedSeq:function(){return new So(this)},toJS:function(){return jn(this)},toKeyedSeq:function(){return new Tn(this,!0)},toMap:function(){return mt(this.toKeyedSeq())},toObject:vs,toOrderedMap:function(){return bt(this.toKeyedSeq())},toOrderedSet:function(){return Qe(lr(this)?this.valueSeq():this)},toSet:function(){return Xe(lr(this)?this.valueSeq():this)},toSetSeq:function(){return new bo(this)},toSeq:function(){return Zr(this)?this.toIndexedSeq():lr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vi(lr(this)?this.valueSeq():this)},toList:function(){return Rn(lr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return this.size===0?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ar(this,wp(this,t))},includes:function(t){return this.some(function(e){return Kr(e,t)})},entries:function(){return this.__iterator(tt)},every:function(t,e){et(this.size);var i=!0;return this.__iterate(function(n,u,a){if(!t.call(e,n,u,a))return i=!1,!1}),i},filter:function(t,e){return ar(this,xo(this,t,e,!0))},partition:function(t,e){return yp(this,t,e)},find:function(t,e,i){var n=this.findEntry(t,e);return n?n[1]:i},forEach:function(t,e){return et(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){et(this.size),t=t!==void 0?""+t:",";var e="",i=!0;return this.__iterate(function(n){i?i=!1:e+=t,e+=n!=null?n.toString():""}),e},keys:function(){return this.__iterator($e)},map:function(t,e){return ar(this,No(this,t,e))},reduce:function(t,e,i){return ds(this,t,e,i,arguments.length<2,!1)},reduceRight:function(t,e,i){return ds(this,t,e,i,arguments.length<2,!0)},reverse:function(){return ar(this,xi(this,!0))},slice:function(t,e){return ar(this,zi(this,t,e,!0))},some:function(t,e){return!this.every(kn(t),e)},sort:function(t){return ar(this,de(this,t))},values:function(){return this.__iterator(ht)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,e){return fe(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return Dp(this,t,e)},equals:function(t){return fs(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Wt(t._cache);var e=t.toSeq().map(Jp).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(kn(t),e)},findEntry:function(t,e,i){var n=i;return this.__iterate(function(u,a,f){if(t.call(e,u,a,f))return n=[a,u],!1}),n},findKey:function(t,e){var i=this.findEntry(t,e);return i&&i[0]},findLast:function(t,e,i){return this.toKeyedSeq().reverse().find(t,e,i)},findLastEntry:function(t,e,i){return this.toKeyedSeq().reverse().findEntry(t,e,i)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(no,null,t)},flatMap:function(t,e){return ar(this,Ap(this,t,e))},flatten:function(t){return ar(this,Oo(this,t,!0))},fromEntrySeq:function(){return new Mo(this)},get:function(t,e){return this.find(function(i,n){return Kr(n,t)},void 0,e)},getIn:ps,groupBy:function(t,e){return mp(this,t,e)},has:function(t){return this.get(t,Q)!==Q},hasIn:Wp,isSubset:function(t){return t=typeof t.includes=="function"?t:gr(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:gr(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return Kr(e,t)})},keySeq:function(){return this.toSeq().map(Yp).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return qn(this,t)},maxBy:function(t,e){return qn(this,e,t)},min:function(t){return qn(this,t?gs(t):ms)},minBy:function(t,e){return qn(this,e?gs(e):ms,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return ar(this,zo(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(kn(t),e)},sortBy:function(t,e){return ar(this,de(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return ar(this,_p(this,t,e))},takeUntil:function(t,e){return this.takeWhile(kn(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Kp(this))}});var zr=gr.prototype;zr[ao]=!0,zr[zn]=zr.values,zr.toJSON=zr.toArray,zr.__toStringMapper=Re,zr.inspect=zr.toSource=function(){return this.toString()},zr.chain=zr.flatMap,zr.contains=zr.includes,Jt(rt,{flip:function(){return ar(this,Bo(this))},mapEntries:function(t,e){var i=this,n=0;return ar(this,this.toSeq().map(function(u,a){return t.call(e,[a,u],n++,i)}).fromEntrySeq())},mapKeys:function(t,e){var i=this;return ar(this,this.toSeq().flip().map(function(n,u){return t.call(e,n,u,i)}).flip())}});var Ve=rt.prototype;Ve[oo]=!0,Ve[zn]=zr.entries,Ve.toJSON=vs,Ve.__toStringMapper=function(r,t){return Re(t)+": "+Re(r)},Jt(kt,{toKeyedSeq:function(){return new Tn(this,!1)},filter:function(t,e){return ar(this,xo(this,t,e,!1))},findIndex:function(t,e){var i=this.findEntry(t,e);return i?i[0]:-1},indexOf:function(t){var e=this.keyOf(t);return e===void 0?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return e===void 0?-1:e},reverse:function(){return ar(this,xi(this,!1))},slice:function(t,e){return ar(this,zi(this,t,e,!1))},splice:function(t,e){var i=arguments.length;if(e=Math.max(e||0,0),i===0||i===2&&!e)return this;t=qe(t,t<0?this.count():this.size);var n=this.slice(0,t);return ar(this,i===1?n:n.concat(Dt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var i=this.findLastEntry(t,e);return i?i[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return ar(this,Oo(this,t,!1))},get:function(t,e){return t=qt(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?e:this.find(function(i,n){return n===t},void 0,e)},has:function(t){return t=qt(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return ar(this,Ep(this,t))},interleave:function(){var t=[this].concat(Dt(arguments)),e=$n(this.toSeq(),lt.of,t),i=e.flatten(!0);return e.size&&(i.size=e.size*t.length),ar(this,i)},keySeq:function(){return Zp(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return ar(this,zo(this,t,e,!1))},zip:function(){var t=[this].concat(Dt(arguments));return ar(this,$n(this,Ds,t))},zipAll:function(){var t=[this].concat(Dt(arguments));return ar(this,$n(this,Ds,t,!0))},zipWith:function(t){var e=Dt(arguments);return e[0]=this,ar(this,$n(this,t,e))}});var _e=kt.prototype;_e[so]=!0,_e[le]=!0,Jt(ce,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var we=ce.prototype;we.has=zr.includes,we.contains=we.includes,we.keys=we.values,Jt($t,Ve),Jt(lt,_e),Jt(ve,we);function ds(r,t,e,i,n,u){return et(r.size),r.__iterate(function(a,f,o){n?(n=!1,e=a):e=t.call(i,e,a,f,o)},u),e}function Yp(r,t){return t}function Jp(r,t){return[t,r]}function kn(r){return function(){return!r.apply(this,arguments)}}function gs(r){return function(){return-r.apply(this,arguments)}}function Ds(){return Dt(arguments)}function ms(r,t){return r<t?1:r>t?-1:0}function Kp(r){if(r.size===1/0)return 0;var t=ct(r),e=lr(r),i=t?1:0,n=r.__iterate(e?t?function(u,a){i=31*i+ys(Hr(u),Hr(a))|0}:function(u,a){i=i+ys(Hr(u),Hr(a))|0}:t?function(u){i=31*i+Hr(u)|0}:function(u){i=i+Hr(u)|0});return Hp(n,i)}function Hp(r,t){return t=Pe(t,3432918353),t=Pe(t<<15|t>>>-15,461845907),t=Pe(t<<13|t>>>-13,5),t=(t+3864292196|0)^r,t=Pe(t^t>>>16,2246822507),t=Pe(t^t>>>13,3266489909),t=In(t^t>>>16),t}function ys(r,t){return r^t+2654435769+(r<<6)+(r>>2)|0}var Qe=function(r){function t(e){return e==null?tu():ss(e)?e:tu().withMutations(function(i){var n=ce(e);et(n.size),n.forEach(function(u){return i.add(u)})})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(i){return this(rt(i).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Xe);Qe.isOrderedSet=ss;var Kt=Qe.prototype;Kt[le]=!0,Kt.zip=_e.zip,Kt.zipWith=_e.zipWith,Kt.zipAll=_e.zipAll,Kt.__empty=tu,Kt.__make=_s;function _s(r,t){var e=Object.create(Kt);return e.size=r?r.size:0,e._map=r,e.__ownerID=t,e}var ws;function tu(){return ws||(ws=_s(Ke()))}function Xp(r){if(he(r))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(dt(r))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(r===null||typeof r!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Ar=function(t,e){var i;Xp(t);var n=function(f){var o=this;if(f instanceof n)return f;if(!(this instanceof n))return new n(f);if(!i){i=!0;var h=Object.keys(t),c=u._indices={};u._name=e,u._keys=h,u._defaultValues=t;for(var s=0;s<h.length;s++){var l=h[s];c[l]=s,u[l]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+nu(this)+' with property "'+l+'" since that property name is part of the Record API.'):Gp(u,l)}}return this.__ownerID=void 0,this._values=Rn().withMutations(function(v){v.setSize(o._keys.length),rt(f).forEach(function(d,p){v.set(o._indices[p],d===o._defaultValues[p]?void 0:d)})}),this},u=n.prototype=Object.create(sr);return u.constructor=n,e&&(n.displayName=e),n};Ar.prototype.toString=function(){for(var t=nu(this)+" { ",e=this._keys,i,n=0,u=e.length;n!==u;n++)i=e[n],t+=(n?", ":"")+i+": "+Re(this.get(i));return t+" }"},Ar.prototype.equals=function(t){return this===t||he(t)&&Ae(this).equals(Ae(t))},Ar.prototype.hashCode=function(){return Ae(this).hashCode()},Ar.prototype.has=function(t){return this._indices.hasOwnProperty(t)},Ar.prototype.get=function(t,e){if(!this.has(t))return e;var i=this._indices[t],n=this._values.get(i);return n===void 0?this._defaultValues[t]:n},Ar.prototype.set=function(t,e){if(this.has(t)){var i=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(i!==this._values&&!this.__ownerID)return eu(this,i)}return this},Ar.prototype.remove=function(t){return this.set(t)},Ar.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:eu(this,t)},Ar.prototype.wasAltered=function(){return this._values.wasAltered()},Ar.prototype.toSeq=function(){return Ae(this)},Ar.prototype.toJS=function(){return jn(this)},Ar.prototype.entries=function(){return this.__iterator(tt)},Ar.prototype.__iterator=function(t,e){return Ae(this).__iterator(t,e)},Ar.prototype.__iterate=function(t,e){return Ae(this).__iterate(t,e)},Ar.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?eu(this,e,t):(this.__ownerID=t,this._values=e,this)},Ar.isRecord=he,Ar.getDescriptiveName=nu;var sr=Ar.prototype;sr[co]=!0,sr[Te]=sr.remove,sr.deleteIn=sr.removeIn=$i,sr.getIn=ps,sr.hasIn=zr.hasIn,sr.merge=Uo,sr.mergeWith=jo,sr.mergeIn=ji,sr.mergeDeep=ko,sr.mergeDeepWith=Wo,sr.mergeDeepIn=Zi,sr.setIn=qi,sr.update=Pi,sr.updateIn=Ri,sr.withMutations=Le,sr.asMutable=Ue,sr.asImmutable=je,sr[zn]=sr.entries,sr.toJSON=sr.toObject=zr.toObject,sr.inspect=sr.toSource=function(){return this.toString()};function eu(r,t,e){var i=Object.create(Object.getPrototypeOf(r));return i._values=t,i.__ownerID=e,i}function nu(r){return r.constructor.displayName||r.constructor.name||"Record"}function Ae(r){return Ai(r._keys.map(function(t){return[t,r.get(t)]}))}function Gp(r,t){try{Object.defineProperty(r,t,{get:function(){return this.get(t)},set:function(e){Ti(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch{}}class Ee{constructor(t,e){this.x=t,this.y=e}}class Vp{constructor(t,e){this.name=t,this.index=e,this.incoming=new mt,this.outgoing=new mt,this.depth=0}root(){for(const t of this.incoming.keys())return t.root();return this}getDepth(t){for(const e of this.incoming.keys())return e.getDepth(t+1);return t}leaves(){let t=new Xe;this.outgoing.size===0&&(t=t.add(this));for(const e of this.outgoing.keys())for(const i of e.leaves())t=t.add(i);return t}}class As{constructor(t){this.weight=t}}class Qp{constructor(t,e,i,n){this.collapseQueue=new eo,this.gridChoices=Object.keys(e).length,this.gridSize=t,this.tileset=e,this.ALL=Tt(0,this.gridChoices),this.COLOR=Tt(0,4),this.index=tp(Tt(0,t),Tt(0,t)),this.offsets=[new Ee(1,0),new Ee(-1,0),new Ee(0,1),new Ee(0,-1)],this.colorMap=new Array(this.gridChoices),this.allowed=new Array(this.gridChoices),this.nameIndex=new Array(this.gridChoices);for(const f in e){const o=e[f];o.color.push(255),this.colorMap[n[f]]=o.color,this.allowed[n[f]]=o.generate,this.nameIndex[n[f]]=f}this.nodeIndex={};for(const f in e)this.nodeIndex[f]=new Vp(f,n[f]);for(const f in e){const o=e[f];for(const h in o.children)this.nodeIndex[f].outgoing=this.nodeIndex[f].outgoing.set(this.nodeIndex[h],new As(o.children[h])),this.nodeIndex[h].incoming=this.nodeIndex[h].incoming.set(this.nodeIndex[f],new As(o.children[f]))}this.root=this.nodeIndex[this.nameIndex[0]].root();for(const f in e)this.nodeIndex[f].depth=this.nodeIndex[f].getDepth(0);this.pathMap=new mt;for(const f of this.root.leaves()){console.log("LEAF: ",this.nameIndex[f.index]);let o=new mt,h=[f];for(o=o.set(f.index,[[f]]);h.length>0;){const c=h.pop();console.log("  popped",this.nameIndex[c.index]),o.has(c.index)||(console.log("  initializing..."),o=o.set(c.index,[]));for(const s of c.outgoing.keys())if(o.has(s.index)){const l=o.get(s.index);for(const v of l)console.log("    pushing",[...v,c]),o.get(c.index).push([...v,c])}for(const s of c.incoming.keys())h.includes(s)||h.unshift(s);this.pathMap=this.pathMap.set(f.index,o)}}console.log("rootpaths1:",this.pathMap.get(n.grass).get(n.root)),console.log("rootpaths2:",this.pathMap.get(n.tree).get(n.root)),this.adj=yr(i.U._data),this.adjaug=Pl(this.adj);const u=[];for(const f of this.root.leaves().keys())for(const o of f.incoming.keys())u.push([o,f]);for(;u.length>0;){const f=u.pop(),o=f[0],h=f[1],c=ze(Ja(vi(this.adjaug.subset(vr(h.index,this.ALL)),this.adjaug.subset(vr(o.index,this.ALL))),Ka));this.adjaug.subset(vr(o.index,this.ALL),c),this.adjaug.subset(vr(this.ALL,o.index),c);for(const s of o.incoming.keys())u.push([s,o])}console.log(this.nodeIndex),console.log(this.adjaug),console.log(this.indices([2,23,1,2,3,4,52,2],2)),this.SM={},this.CM={},this.LM=Oe(this.gridChoices);for(const f in e){const o=this.nodeIndex[f],h=[],c=Oe(this.gridChoices),s=Oe(this.gridChoices);h.push(...o.outgoing.keys());for(const l of h)s.set([l.index],1);for(;h.length>0;){var a=h.pop();c.set([a.index],1),h.push(...a.outgoing.keys())}this.SM[o.index]=c,this.CM[o.index]=s,o.outgoing.size==0&&this.LM.set([o.index],1)}console.log(this.LM),this.choices=bn(t,t,this.gridChoices),this.chosen=Ie(bn(t,t),this.root.index),this.image=Ie(bn(t,t,4),this.colorMap[this.root.index]),this.entropy=Ie(bn(t,t),this.gridChoices)}chosenTileDepth(t,e){const i=this.chosen.subset(vr(t,e));return this.LM.get([i])?1e4:this.nodeIndex[this.nameIndex[i]].depth}bitmaskSum(t,e){const i=this.choices.subset(vr(t,e,this.ALL)),n=Mn(i);return n<=1?1e4:n}getCellEntropy(t,e){return this.chosenTileDepth(t,e)}leastEntropy(){const t=Xa(this.entropy),e=Tt(0,t.size()[0]),i=ep(e,(n,u)=>t._data[n]-t._data[u]);return this.index.subset(vr(i,Tt(0,2)))}indices(t,e=1){return t.map((i,n)=>i===e?n:-1).filter(i=>i!==-1)}getImageDataArray(){return Uint8ClampedArray.from(Xa(this.gridState.image)._data)}isEnqueued(t){for(const e of this.collapseQueue.entries())if(e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2])return!0;return!1}autoCollapse(t=1){this.leastEntropy().subset(vr(Tt(0,t),Tt(0,2)))._data.forEach(i=>{this.isEnqueued(i)||this.collapseQueue.pushLeft([i[0],i[1],-1])})}update(){if(this.collapseQueue.size>0){const t=this.collapseQueue.popLeft();this.collapse(t[0],t[1],t[2])}}clearQueue(){this.collapseQueue.clear()}manualCollapse(t,e,i){this.isEnqueued([t,e,i])||this.collapseQueue.pushLeft([t,e,i])}collapse(t,e,i=-1){const n=ze(this.choices.subset(vr(t,e,this.ALL))),u=this.chosen.subset(vr(t,e)),a=this.CM[u];for(const h of this.indices(a._data)){const c=this.nodeIndex[this.nameIndex[u]].outgoing.get(this.nodeIndex[this.nameIndex[h]]);a.set([h],c.weight)}let f=kl(this.ALL,Ie(n,a));if(hu(f))return!1;if(i>=0)if(n._data[i])f=i;else return!1;const o=Ie(this.SM[f],n);return o.set([f],1),this.choices.subset(vr(t,e,this.ALL),o),this.chosen.subset(vr(t,e),f),this.entropy.subset(vr(t,e),this.getCellEntropy(t,e)),this.image.subset(vr(t,e,this.COLOR),this.colorMap[f]),this.propagate(t,e),!0}propagate(t,e){const i=new eo;for(i.pushLeft(new Ee(t,e));i.size>0;){const n=i.pop();this.offsets.forEach(u=>{const a=n.x+u.x,f=n.y+u.y;if(a>=0&&a<this.gridSize&&f>=0&&f<this.gridSize){const o=ze(this.choices.subset(vr(a,f,this.ALL))),h=ze(this.choices.subset(vr(n.x,n.y,this.ALL)));if(Mn(o)>1){let c=Oe(this.gridChoices);for(const l of this.indices(h._data)){let v=ze(this.adjaug.subset(vr(l,this.ALL)));this.LM.get([l])&&(c=vi(c,v))}const s=rp(o,c);if(Mn(Xl(o,s))>0){const l=Ja(s,Ka);this.choices.subset(vr(a,f,this.ALL),l),this.entropy.subset(vr(a,f),this.getCellEntropy(a,f)),i.push(new Ee(a,f));const v=Mn(s);if(v==1){const d=s._data.indexOf(!0);this.image.subset(vr(a,f,this.COLOR),[this.colorMap[d]]),this.chosen.subset(vr(a,f),d)}v==0&&this.image.subset(vr(a,f,this.COLOR),[[255,0,0,255]])}}}})}}}let yt;const rv=256,tv=16;self.onmessage=({data:{question:r,value:t}})=>{if(r==="init"){const e=t[0],i=t[1],n=t[2],u=t[3];yt=new Qp(e,i,n,u),self.postMessage({gridState:yt,message:"doneInit"})}else if(r==="update"){for(let e=0;e<rv;e++)yt.update();self.postMessage({gridState:yt,message:"doneUpdate"})}else if(r==="manual"){const e=t[1],i=t[0],n=t[2],u=t[3];for(let a=Math.floor(e-u/2)+1;a<Math.floor(e+u/2)+1;a++)for(let f=Math.floor(i-u/2)+1;f<Math.floor(i+u/2)+1;f++)a>=0&&a<yt.gridSize&&f>=0&&f<yt.gridSize&&yt.manualCollapse(a,f,n)}else r==="auto"?(yt.autoCollapse(tv),self.postMessage({gridState:yt,message:"doneAuto"})):r==="clear"&&yt.clearQueue()}})();
